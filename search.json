[{"title":"RecyclerView item点击你真的会么","url":"http://idisfkj.github.io/2016/05/22/RecyclerView-item点击你真的会么/","content":"<p>&#x73B0;&#x5728;<code>RecyclerView</code>&#x90FD;&#x4F7F;&#x7528;&#x7684;&#x76F8;&#x5BF9;&#x9891;&#x7E41;&#x4E86;&#xFF0C;&#x5728;&#x5F00;&#x59CB;&#x4F7F;&#x7528;<code>RecyclerView</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x5E94;&#x8BE5;&#x90FD;&#x9047;&#x5230;&#x8FC7;<code>RecyclerView</code>&#x5C45;&#x7136;&#x6CA1;&#x6709;&#x5E2E;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;<code>Item</code>&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#xFF0C;&#x987F;&#x65F6;&#x611F;&#x89C9;&#x4E0D;&#x77E5;&#x6240;&#x63AA;&#x4E86;&#x3002;&#x67E5;&#x9605;<code>API</code>&#x53D1;&#x73B0;&#x786E;&#x5B9E;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x8BE5;&#x4E8B;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x7ECF;&#x8FC7;&#x82E6;&#x601D;&#x51A5;&#x60F3;&#xFF0C;&#x8FD8;&#x662F;&#x6A21;&#x4EFF;<code>ListView</code>&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#xFF0C;&#x5728;<code>onCreateViewHolder</code>&#x4E2D;&#x4E3A;&#x6BCF;&#x4E2A;<code>Item</code>&#x6DFB;&#x52A0;<code>View</code>&#x7684;<code>setOnClickListener</code>&#x4E8B;&#x4EF6;&#xFF0C;&#x5236;&#x5B9A;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5728;&#x4E3B;&#x51FD;&#x6570;&#x4E2D;&#x8C03;&#x7528;&#x3002;&#x77AC;&#x95F4;&#x89E3;&#x51B3;&#x4E86;&#xFF0C;&#x4E00;&#x4E0B;&#x611F;&#x89C9;<code>so easy</code>&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x771F;&#x7684;&#x597D;&#x5417;&#xFF1F;&#x6211;&#x4EEC;&#x60F3;&#x60F3;&#x4E00;&#x65E6;<code>Item</code>&#x7684;&#x6570;&#x91CF;&#x66B4;&#x589E;&#x8FD9;&#x53EF;&#x4F1A;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#x554A;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x60F3;&#x51FA;&#x522B;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x4EE3;&#x66FF;&#x5B83;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x5C31;&#x4ECB;&#x7ECD;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x9AD8;&#x5927;&#x4E0A;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x6559;&#x4F60;&#x5982;&#x4F55;&#x771F;&#x6B63;&#x7684;&#x4E3A;<code>RecyclerView</code>&#x7684;<code>Item</code>&#x6DFB;&#x52A0;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x3002;</p>\n<h2 id=\"&#x539F;&#x7406;\"><a href=\"#&#x539F;&#x7406;\" class=\"headerlink\" title=\"&#x539F;&#x7406;\"></a>&#x539F;&#x7406;</h2><p>&#x867D;&#x7136;<code>RecyclerView</code>&#x6CA1;&#x6709;&#x5E2E;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x76F8;&#x5E94;&#x7684;&#x70B9;&#x51FB;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x67E5;&#x8BE2;&#x5B83;&#x7684;<code>API</code>&#x4F1A;&#x53D1;&#x73B0;&#x5B83;&#x6709;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5E2E;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x5C31;&#x662F;<code>addOnItemTouchListener</code>&#x89E6;&#x6478;&#x5B9E;&#x4E8B;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x501F;&#x52A9;&#x8BE5;&#x76D1;&#x542C;&#x6765;&#x6839;&#x636E;&#x6211;&#x4EEC;&#x7684;&#x89E6;&#x6478;&#x53CD;&#x5E94;&#x5E2E;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x6548;&#x679C;&#x3002;&#x5F53;&#x7136;&#x5176;&#x4E2D;&#x6211;&#x4EEC;&#x8FD8;&#x8981;&#x501F;&#x52A9;<code>GestureDetectorCompat</code>&#x6839;&#x636E;&#x89E6;&#x6478;&#x624B;&#x52BF;&#x6765;&#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x3002;</p>\n<h2 id=\"addOnItemTouchListener\"><a href=\"#addOnItemTouchListener\" class=\"headerlink\" title=\"addOnItemTouchListener\"></a>addOnItemTouchListener</h2><p>&#x4E3A;<code>RecyclerView</code>&#x6DFB;&#x52A0;<code>addOnItemTouchListener</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">recyclerView.addOnItemTouchListener(new OnItemTouchListener(recyclerView) {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onItemClick(RecyclerView.ViewHolder vh) {</span><br><span class=\"line\">            //item &#x64CD;&#x4F5C;</span><br><span class=\"line\">            }</span><br><span class=\"line\">        });</span><br></pre></td></tr></table></figure>\n<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#x53BB;&#x5B9E;&#x73B0;<code>RecyclerView.OnItemTouchListener</code>&#x63A5;&#x53E3;</p>\n<h3 id=\"&#x5B9E;&#x73B0;OnItemTouchListener\"><a href=\"#&#x5B9E;&#x73B0;OnItemTouchListener\" class=\"headerlink\" title=\"&#x5B9E;&#x73B0;OnItemTouchListener\"></a>&#x5B9E;&#x73B0;OnItemTouchListener</h3><p>&#x5728;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x53D1;&#x73B0;&#x6709;&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;</p>\n<ul>\n<li>onTouchEvent</li>\n<li>onInterceptTouchEvent</li>\n<li>onRequestDisallowInterceptTouchEvent</li>\n</ul>\n<p>&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x5904;&#x7406;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x7684;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x62E6;&#x622A;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;&#x7684;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x662F;&#x5904;&#x7406;&#x89E6;&#x6478;&#x51B2;&#x7A81;&#x7684;&#x3002;&#x7B2C;&#x4E09;&#x4E2A;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x7528;&#x4E0D;&#x5230;&#xFF0C;&#x4E0D;&#x7528;&#x7BA1;&#xFF0C;&#x81F3;&#x4E8E;&#x524D;&#x4E24;&#x4E2A;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x5411;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x7528;&#x5230;&#x7684;<code>GestureDetectorCompat</code>&#x4F20;&#x9012;<code>MotionEvent</code>&#x4E3A;&#x4E86;&#x83B7;&#x53D6;&#x89E6;&#x6478;&#x7684;&#x5750;&#x6807;,&#x6700;&#x540E;&#x518D;&#x5B9A;&#x4E49;&#x4E2A;<code>abstract</code>&#x56DE;&#x8C03;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public abstract class OnItemTouchListener implements RecyclerView.OnItemTouchListener {</span><br><span class=\"line\"></span><br><span class=\"line\">    private GestureDetectorCompat mGestureDetectorCompat;</span><br><span class=\"line\">    private RecyclerView mRecyclerView;</span><br><span class=\"line\"></span><br><span class=\"line\">    public OnItemTouchListener(RecyclerView recyclerView) {</span><br><span class=\"line\">        mRecyclerView = recyclerView;</span><br><span class=\"line\">        mGestureDetectorCompat = new GestureDetectorCompat(mRecyclerView.getContext(),</span><br><span class=\"line\">                new MyGestureListener());</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onTouchEvent(RecyclerView rv, MotionEvent e) {</span><br><span class=\"line\">        mGestureDetectorCompat.onTouchEvent(e);</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public boolean onInterceptTouchEvent(RecyclerView rv, MotionEvent e) {</span><br><span class=\"line\">        mGestureDetectorCompat.onTouchEvent(e);</span><br><span class=\"line\">        return false;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {</span><br><span class=\"line\"></span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public abstract void onItemClick(RecyclerView.ViewHolder vh);</span><br></pre></td></tr></table></figure>\n<h2 id=\"GestureDetectorCompat\"><a href=\"#GestureDetectorCompat\" class=\"headerlink\" title=\"GestureDetectorCompat\"></a>GestureDetectorCompat</h2><p>&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x5B9E;&#x4F8B;&#x5316;&#x4E86;<code>GestureDetectorCompat</code>&#x7C7B;&#x5176;&#x4E2D;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x624B;&#x52BF;&#x76D1;&#x542C;<code>OnGestureListener</code>&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5B83;&#x7684;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5C01;&#x88C5;&#x7C7B;<code>SimpleOnGestureListener</code>&#x5B83;&#x91CC;&#x9762;&#x5B9E;&#x73B0;&#x7684;&#x90FD;&#x7684;&#x7A7A;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x7279;&#x5B9A;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x6267;&#x884C;&#x6211;&#x4EEC;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>\n<h3 id=\"SimpleOnGestureListener\"><a href=\"#SimpleOnGestureListener\" class=\"headerlink\" title=\"SimpleOnGestureListener\"></a>SimpleOnGestureListener</h3><p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x5B9E;&#x73B0;&#x5176;&#x4E2D;&#x7684;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;</p>\n<ul>\n<li>onSingleTapUp</li>\n<li>onLongPress</li>\n</ul>\n<p>&#x5176;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x662F;&#x7B80;&#x5355;&#x7684;&#x70B9;&#x51FB;&#x5C4F;&#x5E55;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x662F;&#x957F;&#x6309;&#x5C4F;&#x5E55;&#x65F6;&#x6267;&#x884C;&#x3002;&#x6240;&#x4EE5;&#x6839;&#x636E;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4ECE;&#x524D;&#x9762;<code>OnItemTouchListener</code>&#x4F20;&#x8FC7;&#x6765;&#x7684;<code>MotionEvent</code>&#x83B7;&#x53D6;&#x70B9;&#x51FB;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x6839;&#x636E;&#x4F4D;&#x7F6E;&#x4F7F;&#x7528;<code>RecyclerView</code>&#x7684;<code>findChildViewUnder</code>&#x83B7;&#x53D6;&#x5230;&#x70B9;&#x51FB;&#x7684;<code>ItemView</code>,&#x518D;&#x901A;&#x8FC7;<code>RecyclerView</code>&#x7684;<code>getChildViewHolder</code>&#x83B7;&#x53D6;<code>ItemView</code>&#x7684;<code>ViewHolder</code>&#x6700;&#x540E;&#x518D;&#x8C03;&#x7528;<code>OnItemClick</code>&#x65B9;&#x6CD5;&#x3002;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private class MyGestureListener extends GestureDetector.SimpleOnGestureListener {</span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        public boolean onSingleTapUp(MotionEvent e) {</span><br><span class=\"line\">            View childe = mRecyclerView.findChildViewUnder(e.getX(), e.getY());</span><br><span class=\"line\">            if (childe != null) {</span><br><span class=\"line\">                RecyclerView.ViewHolder VH = mRecyclerView.getChildViewHolder(childe);</span><br><span class=\"line\">                onItemClick(VH);</span><br><span class=\"line\">            }</span><br><span class=\"line\">            return true;</span><br><span class=\"line\">        }</span><br><span class=\"line\"></span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        public void onLongPress(MotionEvent e) {</span><br><span class=\"line\">            View childe = mRecyclerView.findChildViewUnder(e.getX(), e.getY());</span><br><span class=\"line\">            if (childe != null) {</span><br><span class=\"line\">                RecyclerView.ViewHolder VH = mRecyclerView.getChildViewHolder(childe);</span><br><span class=\"line\">                onItemClick(VH);</span><br><span class=\"line\">            }</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<p>&#x597D;&#x4E86;&#x6574;&#x4E2A;&#x7684;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;&#xFF0C;&#x770B;&#x4E86;&#x4EE5;&#x540E;&#x662F;&#x4E0D;&#x662F;&#x611F;&#x89C9;&#x66F4;&#x9AD8;&#x5927;&#x4E0A;&#x4E86;&#x5462;&#x3002;&#x5982;&#x679C;&#x5BF9;<code>RecyclerView</code>&#x8FD8;&#x4E0D;&#x662F;&#x5F88;&#x719F;&#x6089;&#x7684;&#x53EF;&#x4EE5;&#x5148;&#x770B;&#x6211;&#x524D;&#x9762;&#x7684;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;<a href=\"https://segmentfault.com/a/1190000004854818\" target=\"_blank\" rel=\"external\">RecyclerView&#x6DF1;&#x5165;&#x6D45;&#x51FA;</a></p>\n"},{"title":"Android高仿微信之mvp实现(四)","url":"http://idisfkj.github.io/2016/05/15/Android高仿微信之mvp实现-四/","content":"<p>&#x524D;&#x9762;&#x628A;&#x804A;&#x5929;&#x7684;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x90FD;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x6700;&#x8FD1;&#x6709;&#x70B9;&#x5FD9;&#xFF0C;&#x56E0;&#x4E3A;&#x5FEB;&#x5230;&#x5B66;&#x671F;&#x672B;&#x4E86;&#xFF0C;&#x8003;&#x8BD5;&#x5C31;&#x6765;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x540E;&#x9762;&#x53EF;&#x80FD;&#x4F1A;&#x6162;&#x70B9;&#x3002;&#x5927;&#x5BB6;&#x90FD;&#x53CD;&#x6620;&#x6CA1;&#x6709;&#x6D88;&#x606F;&#x63D0;&#x9192;&#xFF0C;&#x6240;&#x4EE5;&#x62BD;&#x4E86;&#x70B9;&#x65F6;&#x95F4;&#x628A;&#x804A;&#x5929;&#x7684;&#x63D0;&#x9192;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;&#x4E86;&#x4E0B;&#xFF0C;&#x4E0B;&#x9762;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x4E0B;&#x3002;</p>\n<h1 id=\"&#x539F;&#x7406;\"><a href=\"#&#x539F;&#x7406;\" class=\"headerlink\" title=\"&#x539F;&#x7406;\"></a>&#x539F;&#x7406;</h1><p>&#x6211;&#x8FD9;&#x91CC;&#x7528;&#x5230;&#x5F97;&#x539F;&#x7406;&#x4E3B;&#x8981;&#x5C31;&#x4E24;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;</p>\n<ul>\n<li>Notification</li>\n<li>BadgeView</li>\n</ul>\n<p>&#x53EA;&#x8981;&#x4F60;&#x89E3;&#x51B3;&#x4E86;&#x8FD9;&#x4E24;&#x9879;&#x4EE5;&#x540E;&#x7684;&#x6D88;&#x606F;&#x63D0;&#x9192;&#x795E;&#x9A6C;&#x7684;&#x90FD;&#x80FD;&#x8F7B;&#x677E;&#x641E;&#x5B9A;&#x3002;&#x9996;&#x5148;&#x6765;&#x89E3;&#x91CA;&#x4E0B;&#x4ED6;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x5BF9;&#x4E8E;<strong>Notification</strong>&#x6211;&#x60F3;&#x5E94;&#x8BE5;&#x5F88;&#x591A;&#x90FD;&#x63A5;&#x89E6;&#x4E86;&#xFF0C;&#x4F46;&#x8FD8;&#x662F;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x4E0B;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x5B83;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x770B;&#x5230;&#x7684;&#x6D88;&#x606F;&#x901A;&#x77E5;&#x6846;&#x7684;&#x51FA;&#x73B0;&#xFF0C;&#x4E0D;&#x8FC7;&#x5176;&#x4E2D;&#x7684;&#x4F7F;&#x7528;&#x8981;&#x6CE8;&#x610F;&#x51E0;&#x70B9;&#xFF0C;&#x4E0B;&#x9762;&#x4F1A;&#x8BE6;&#x7EC6;&#x6307;&#x51FA;&#x3002;&#x81F3;&#x4E8E;<strong>BadgeView</strong>&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x5E93;&#xFF0C;&#x5B83;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x65E5;&#x5E38;&#x770B;&#x5230;&#x7684;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x663E;&#x793A;&#x7684;&#x672A;&#x8BFB;&#x6D88;&#x606F;&#x6570;&#x3002;</p>\n<blockquote>\n<p><em>&#x539F;&#x7406;&#x4ECB;&#x7ECD;&#x5B8C;&#x4E86;&#x4E0B;&#x9762;&#x6765;&#x770B;&#x770B;&#x5B9E;&#x73B0;</em></p>\n</blockquote>\n<h2 id=\"&#x901A;&#x77E5;&#x680F;&#x7684;&#x663E;&#x793A;\"><a href=\"#&#x901A;&#x77E5;&#x680F;&#x7684;&#x663E;&#x793A;\" class=\"headerlink\" title=\"&#x901A;&#x77E5;&#x680F;&#x7684;&#x663E;&#x793A;\"></a>&#x901A;&#x77E5;&#x680F;&#x7684;&#x663E;&#x793A;</h2><p>&#x8FD9;&#x91CC;&#x9664;&#x4E86;<strong>Notification</strong>&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x662F;<strong>PendingIntent</strong>&#xFF08;&#x5EF6;&#x8FDF;&#x610F;&#x56FE;&#xFF09;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x70B9;&#x51FB;&#x901A;&#x77E5;&#x680F;&#x540E;&#x7684;&#x64CD;&#x4F5C;</p>\n<h3 id=\"&#x5EF6;&#x8FDF;&#x610F;&#x56FE;PendingIntent\"><a href=\"#&#x5EF6;&#x8FDF;&#x610F;&#x56FE;PendingIntent\" class=\"headerlink\" title=\"&#x5EF6;&#x8FDF;&#x610F;&#x56FE;PendingIntent\"></a>&#x5EF6;&#x8FDF;&#x610F;&#x56FE;PendingIntent</h3><p>&#x65E2;&#x7136;&#x662F;&#x610F;&#x56FE;&#x81EA;&#x7136;&#x8981;&#x4F7F;&#x7528;Intent&#x6307;&#x5B9A;&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x540E;&#x7684;&#x5E94;&#x7528;&#x64CD;&#x4F5C;</p>\n<h4 id=\"&#x914D;&#x7F6E;Intent\"><a href=\"#&#x914D;&#x7F6E;Intent\" class=\"headerlink\" title=\"&#x914D;&#x7F6E;Intent\"></a>&#x914D;&#x7F6E;Intent</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Intent intent = new Intent(App.getAppContext(), MainActivity.class);</span><br><span class=\"line\">                //&#x9632;&#x6B62;&#x5F00;&#x542F;&#x91CD;&#x590D;&#x7684;Activity</span><br><span class=\"line\">                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</span><br><span class=\"line\">                Bundle bundle = new Bundle();</span><br><span class=\"line\">                //&#x9632;&#x6B62;pendingIntent&#x76F8;&#x540C;</span><br><span class=\"line\">                intent.setData(Uri.parse(&quot;message://&quot; + regId));</span><br><span class=\"line\">                bundle.putInt(&quot;_id&quot;, _id);</span><br><span class=\"line\">                intent.putExtras(bundle);</span><br></pre></td></tr></table></figure>\n<p>&#x6211;&#x8FD9;&#x91CC;&#x662F;&#x70B9;&#x51FB;&#x90FD;&#x81EA;&#x52A8;&#x8DF3;&#x8F6C;&#x5230;&#x4E3B;&#x754C;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4E3B;&#x754C;&#x9762;&#x505A;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x4E0B;&#x6211;&#x524D;&#x9762;&#x8BF4;&#x7684;&#x6CE8;&#x610F;&#x70B9;&#x3002;</p>\n<h5 id=\"&#x6CE8;&#x610F;&#x70B9;\"><a href=\"#&#x6CE8;&#x610F;&#x70B9;\" class=\"headerlink\" title=\"&#x6CE8;&#x610F;&#x70B9;\"></a>&#x6CE8;&#x610F;&#x70B9;</h5><h6 id=\"&#x7B2C;&#x4E00;&#x70B9;\"><a href=\"#&#x7B2C;&#x4E00;&#x70B9;\" class=\"headerlink\" title=\"&#x7B2C;&#x4E00;&#x70B9;\"></a>&#x7B2C;&#x4E00;&#x70B9;</h6><p><code>intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</code></p>\n<p>&#x8FD9;&#x53E5;&#x4EE3;&#x7801;&#x662F;&#x9632;&#x6B62;&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x901A;&#x77E5;&#x680F;&#x540E;&#x5F00;&#x542F;&#x6307;&#x5B9A;&#x7684;&#x754C;&#x9762;&#xFF0C;&#x540E;&#x9000;&#x6808;&#x65F6;&#x754C;&#x9762;&#x91CD;&#x590D;&#x3002;&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;&#x6E05;&#x7A7A;&#x6808;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x91CD;&#x590D;&#x521B;&#x5EFA;&#x7684;&#x73B0;&#x8C61;&#x3002;&#x53EF;&#x80FD;&#x8FD9;&#x91CC;&#x6709;&#x4EBA;&#x4F1A;&#x8BF4;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>launchMode</strong>&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x6CA1;&#x9519;&#x5F53;&#x6211;&#x4EEC;&#x4F7F;&#x7528;signalTop&#x6216;&#x8005;&#x5176;&#x5B83;&#x7684;&#x5982;<strong>singleTask</strong>&#x80FD;&#x89E3;&#x51B3;&#x91CD;&#x590D;&#x754C;&#x9762;&#x7684;&#x521B;&#x5EFA;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#x5982;<strong>signalTop</strong>&#x5F53;&#x5728;&#x6808;&#x9876;&#x662F;&#x5E76;&#x4E0D;&#x4F1A;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x8BE5;<strong>Activity</strong>&#x800C;&#x662F;&#x4F1A;&#x76F4;&#x63A5;&#x590D;&#x7528;&#x539F;&#x6765;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x9875;&#x9762;&#x4E0D;&#x4F1A;&#x66F4;&#x65B0;&#x672A;&#x8BFB;&#x6D88;&#x606F;&#x6570;&#x3002;</p>\n<h6 id=\"&#x7B2C;&#x4E8C;&#x70B9;\"><a href=\"#&#x7B2C;&#x4E8C;&#x70B9;\" class=\"headerlink\" title=\"&#x7B2C;&#x4E8C;&#x70B9;\"></a>&#x7B2C;&#x4E8C;&#x70B9;</h6><p><code>intent.setData(Uri.parse(&quot;message://&quot; + regId));</code><br>&#x4E3A;<strong>intent</strong>&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x867D;&#x7136;<strong>PendingIntent</strong>&#x63D0;&#x4F9B;&#x4E86;&#x56DB;&#x4E2A;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x4F46;&#x90FD;&#x662F;&#x9488;&#x5BF9;&#x76F8;&#x540C;&#x5BF9;&#x8C61;&#x7684;&#x5EF6;&#x8FDF;&#x610F;&#x56FE;</p>\n<ul>\n<li>FLAG_ONE_SHOT <code>&#x610F;&#x601D;&#x5C31;&#x662F;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;&#x5EF6;&#x8FDF;&#x610F;&#x56FE;&#x53EA;&#x53EF;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x8BF4;&#x660E;&#x4EE5;&#x540E;&#x901A;&#x8FC7;&#x5B83;&#x7684;&#x90FD;&#x4E0D;&#x4F1A;&#x5B9E;&#x73B0;</code></li>\n<li>FLAG_NO_CREATE <code>&#x8FD9;&#x4E2A;&#x66F4;&#x7B80;&#x5355;&#x4E86;&#x5C31;&#x662F;&#x4E0D;&#x5B58;&#x5728;&#x4E5F;&#x5C31;&#x4E0D;&#x4F1A;&#x521B;&#x5EFA;&#x4E86;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;null</code> </li>\n<li>FLAG_CANCEL_CURRENT <code>&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x5B58;&#x5728;&#x5C31;&#x53D6;&#x6D88;&#x539F;&#x6765;&#x7684;&#xFF0C;&#x4F7F;&#x7528;&#x65B0;&#x7684;&#xFF0C;&#x65B0;&#x7684;&#x53EA;&#x6539;&#x53D8;&#x8981;&#x4F20;&#x9012;&#x7684;&#x6570;&#x636E;</code></li>\n<li>FLAG_UPDATE_CURRENT <code>&#x8DDF;&#x4E0A;&#x9762;&#x7684;&#x76F8;&#x5DEE;&#x4E0D;&#x5927;&#xFF0C;&#x5B83;&#x4F1A;&#x66F4;&#x65B0;&#x539F;&#x6765;&#x7684;&#x6570;&#x636E;</code></li>\n</ul>\n<p>&#x4E0A;&#x9762;&#x7684;&#x5BF9;&#x8981;&#x5F00;&#x542F;&#x4E0D;&#x540C;&#x7684;&#x754C;&#x9762;&#x90FD;&#x6CA1;&#x6709;&#x4F5C;&#x7528;&#xFF0C;&#x90FD;&#x4F1A;&#x8986;&#x76D6;&#x539F;&#x6765;&#x7684;&#x610F;&#x56FE;&#xFF0C;&#x5BFC;&#x81F4;&#x4E0D;&#x540C;&#x7684;&#x4EBA;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x65F6;&#xFF0C;&#x70B9;&#x51FB;&#x901A;&#x77E5;&#x680F;&#x7684;&#x4E0D;&#x540C;&#x901A;&#x77E5;&#x663E;&#x793A;&#x540C;&#x4E00;&#x4E2A;&#x804A;&#x5929;&#x754C;&#x9762;&#x3002;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;<strong>regId</strong>&#x505A;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x5C31;&#x80FD;&#x6D88;&#x9664;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x95EE;&#x9898;&#x3002;</p>\n<h4 id=\"&#x521B;&#x5EFA;PendingIntent\"><a href=\"#&#x521B;&#x5EFA;PendingIntent\" class=\"headerlink\" title=\"&#x521B;&#x5EFA;PendingIntent\"></a>&#x521B;&#x5EFA;PendingIntent</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">PendingIntent pi = PendingIntent.getActivity(App.getAppContext(), 0, intent, PendingIntent.FLAG_CANCEL_CURRENT);</span><br></pre></td></tr></table></figure>\n<h3 id=\"&#x901A;&#x77E5;Notification&#x6784;&#x5EFA;\"><a href=\"#&#x901A;&#x77E5;Notification&#x6784;&#x5EFA;\" class=\"headerlink\" title=\"&#x901A;&#x77E5;Notification&#x6784;&#x5EFA;\"></a>&#x901A;&#x77E5;Notification&#x6784;&#x5EFA;</h3><p>&#x8FD9;&#x91CC;&#x6211;&#x5C31;&#x76F4;&#x63A5;&#x8D34;&#x4EE3;&#x7801;&#x4E86;&#x90FD;&#x662F;&#x5F88;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x7684;&#x4E86;&#x3002;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Notification notification = new Notification.Builder(App.getAppContext())</span><br><span class=\"line\">                        .setSmallIcon(R.drawable.icon)</span><br><span class=\"line\">                        .setAutoCancel(true)</span><br><span class=\"line\">                        .setTicker(&quot;&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x6709;&#x65B0;&#x6D88;&#x606F;&quot;)</span><br><span class=\"line\">                        .setContentTitle(userName)</span><br><span class=\"line\">                        .setContentText(&quot;[&quot; + unReadNum + &quot;&#x6761;] &quot; + rMessage)</span><br><span class=\"line\">                        .setDefaults(Notification.DEFAULT_SOUND | Notification.DEFAULT_LIGHTS)</span><br><span class=\"line\">                        .setContentIntent(pi)</span><br><span class=\"line\">                        .setWhen(System.currentTimeMillis())</span><br><span class=\"line\">                        .build();</span><br></pre></td></tr></table></figure>\n<h3 id=\"&#x53D1;&#x9001;&#x901A;&#x77E5;\"><a href=\"#&#x53D1;&#x9001;&#x901A;&#x77E5;\" class=\"headerlink\" title=\"&#x53D1;&#x9001;&#x901A;&#x77E5;\"></a>&#x53D1;&#x9001;&#x901A;&#x77E5;</h3><p>&#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x901A;&#x77E5;&#x7BA1;&#x7406;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">manager = (NotificationManager) App.getAppContext().getSystemService(Context.NOTIFICATION_SERVICE);</span><br></pre></td></tr></table></figure>\n<p>&#x53D1;&#x9001;&#x901A;&#x77E5;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">manager.notify(_id, notification);</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x901A;&#x77E5;&#x680F;&#x7684;&#x6784;&#x5EFA;&#x5C31;&#x5B8C;&#x7F8E;&#x7ED3;&#x675F;&#x4E86;</em></p>\n</blockquote>\n<h2 id=\"&#x6D88;&#x606F;&#x6570;&#x7684;&#x663E;&#x793A;\"><a href=\"#&#x6D88;&#x606F;&#x6570;&#x7684;&#x663E;&#x793A;\" class=\"headerlink\" title=\"&#x6D88;&#x606F;&#x6570;&#x7684;&#x663E;&#x793A;\"></a>&#x6D88;&#x606F;&#x6570;&#x7684;&#x663E;&#x793A;</h2><p>&#x65E2;&#x7136;&#x524D;&#x9762;&#x90FD;&#x8BF4;&#x4E86;&#x501F;&#x52A9;&#x4E86;&#x5F00;&#x6E90;&#x5E93;&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x73B0;&#x5C31;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x5C31;&#x7B80;&#x5355;&#x4E86;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x628A;&#x5B83;&#x603B;&#x7ED3;&#x6210;&#x4E09;&#x6B65;</p>\n<h3 id=\"&#x521B;&#x5EFA;BadgeView&#x5B9E;&#x4F8B;\"><a href=\"#&#x521B;&#x5EFA;BadgeView&#x5B9E;&#x4F8B;\" class=\"headerlink\" title=\"&#x521B;&#x5EFA;BadgeView&#x5B9E;&#x4F8B;\"></a>&#x521B;&#x5EFA;<strong>BadgeView</strong>&#x5B9E;&#x4F8B;</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">BadgeView badgeView = new BadgeView(context, view);</span><br></pre></td></tr></table></figure>\n<p>&#x5176;&#x4E2D;<strong>view</strong>&#x4EE3;&#x8868;&#x4F60;&#x8981;&#x4F9D;&#x9644;&#x7684;&#x89C6;&#x56FE;</p>\n<h3 id=\"&#x6784;&#x5EFA;&#x6587;&#x672C;\"><a href=\"#&#x6784;&#x5EFA;&#x6587;&#x672C;\" class=\"headerlink\" title=\"&#x6784;&#x5EFA;&#x6587;&#x672C;\"></a>&#x6784;&#x5EFA;&#x6587;&#x672C;</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">badgeView.setTextColor(Color.WHITE);</span><br><span class=\"line\">        badgeView.setText(textValue);</span><br><span class=\"line\">        badgeView.setBackground(context.getResources().getDrawable(R.drawable.dot_bg));</span><br><span class=\"line\">        badgeView.setTextSize(12);</span><br><span class=\"line\">        badgeView.setBadgePosition(BadgeView.POSITION_TOP_RIGHT);</span><br><span class=\"line\">        badgeView.setBadgeMargin(0, 0);</span><br></pre></td></tr></table></figure>\n<p>&#x4E0A;&#x9762;&#x7684;&#x80AF;&#x5B9A;&#x6CA1;&#x95EE;&#x9898;&#x5427;&#xFF0C;&#x7B80;&#x5355;&#x660E;&#x4E86;&#xFF0C;&#x663E;&#x793A;&#x4F4D;&#x7F6E;<code>badgeView.setBadgePosition</code>&#x9ED8;&#x8BA4;&#x662F;&#x53F3;&#x4E0A;&#x89D2;&#xFF0C;&#x4F46;&#x6211;&#x611F;&#x89C9;&#x6548;&#x679C;&#x4E0D;&#x660E;&#x663E;&#xFF0C;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x8981;&#x5F97;&#x6548;&#x679C;&#xFF0C;&#x6CA1;&#x6709;&#x50CF;&#x5FAE;&#x4FE1;&#x90A3;&#x6837;&#x89C6;&#x56FE;&#x51FA;&#x53BB;&#x4E86;&#x90E8;&#x5206;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x90FD;&#x540E;&#x9762;&#x770B;&#x4E86;&#x4E0B;&#x6E90;&#x7801;&#xFF0C;&#x53D1;&#x73B0;&#x4E86;<code>badgeView.setBadgeMargin(0, 0);</code>&#x80FD;&#x4F7F;&#x8BE5;&#x6548;&#x679C;&#x660E;&#x663E;&#x4E9B;&#x3002;</p>\n<h3 id=\"&#x663E;&#x793A;\"><a href=\"#&#x663E;&#x793A;\" class=\"headerlink\" title=\"&#x663E;&#x793A;\"></a>&#x663E;&#x793A;</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">badgeView.show();</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x5230;&#x8FD9;&#x91CC;&#x6240;&#x6709;&#x7684;&#x6D88;&#x606F;&#x63D0;&#x9192;&#x529F;&#x80FD;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x6700;&#x540E;&#x770B;&#x4E0B;&#x6548;&#x679C;</em></p>\n</blockquote>\n<h1 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h1><p><img src=\"/2016/05/15/Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;-&#x56DB;/1.gif\" alt=\"&#x6548;&#x679C;\"></p>\n<h1 id=\"&#x4E00;&#x7CFB;&#x5217;&#x6587;&#x7AE0;\"><a href=\"#&#x4E00;&#x7CFB;&#x5217;&#x6587;&#x7AE0;\" class=\"headerlink\" title=\"&#x4E00;&#x7CFB;&#x5217;&#x6587;&#x7AE0;\"></a>&#x4E00;&#x7CFB;&#x5217;&#x6587;&#x7AE0;</h1><p><a href=\"http://idisfkj.github.io/2016/04/23/Android%E9%AB%98%E4%BB%BF%E5%BE%AE%E4%BF%A1%E4%B9%8Bmvp%E5%AE%9E%E7%8E%B0-%E4%B8%80/\">Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;(&#x4E00;)</a><br><a href=\"http://idisfkj.github.io/2016/05/01/Android%E9%AB%98%E4%BB%BF%E5%BE%AE%E4%BF%A1%E4%B9%8Bmvp%E5%AE%9E%E7%8E%B0-%E4%BA%8C/\">Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;(&#x4E8C;)</a><br><a href=\"http://idisfkj.github.io/2016/05/08/Android%E9%AB%98%E4%BB%BF%E5%BE%AE%E4%BF%A1%E4%B9%8Bmvp%E5%AE%9E%E7%8E%B0-%E4%B8%89/\">Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;(&#x4E09;)</a></p>\n<p>&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF1A;<a href=\"https://github.com/idisfkj/HightCopyWX\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/HightCopyWX</a></p>\n"},{"title":"Android高仿微信之mvp实现(三)","url":"http://idisfkj.github.io/2016/05/08/Android高仿微信之mvp实现-三/","content":"<p>&#x524D;&#x9762;&#x8BF4;&#x5230;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5C0F;&#x7C73;&#x7684;&#x63A8;&#x9001;&#x6765;&#x5B9E;&#x73B0;&#x7B80;&#x5355;&#x7684;&#x804A;&#x5929;&#x7CFB;&#x7EDF;&#xFF0C;&#x867D;&#x7136;&#x7B80;&#x5355;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x4F60;&#x4EEC;&#x6765;&#x8BF4;&#x60F3;&#x8981;&#x771F;&#x6B63;&#x7684;&#x4F53;&#x9A8C;&#x6548;&#x679C;&#x5C31;&#x53EA;&#x80FD;&#x8DDF;&#x6211;&#x4E92;&#x52A8;&#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x7F3A;&#x70B9;&#xFF0C;&#x6211;&#x6700;&#x8FD1;&#x5B8C;&#x5584;&#x4E86;&#x4E0B;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x6DFB;&#x52A0;&#x670B;&#x53CB;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x6837;&#x4F60;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x62FF;&#x4E24;&#x4E2A;&#x6D4B;&#x8BD5;&#x673A;&#x4E92;&#x76F8;&#x6D4B;&#x8BD5;&#x3002;&#x5C31;&#x80FD;&#x4F53;&#x9A8C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0B;&#x9762;&#x8FD8;&#x662F;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x4E0B;&#x3002;</p>\n<h2 id=\"&#x539F;&#x7406;\"><a href=\"#&#x539F;&#x7406;\" class=\"headerlink\" title=\"&#x539F;&#x7406;\"></a>&#x539F;&#x7406;</h2><p>&#x5176;&#x5B9E;&#x4E3B;&#x8981;&#x7528;&#x5230;&#x7684;&#x5C31;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x6211;&#x8FD9;&#x91CC;&#x4E0D;&#x8BB2;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x65B9;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x6709;&#x70B9;&#x591A;&#xFF0C;&#x5C31;&#x4E0D;&#x5230;&#x8FD9;&#x91CC;&#x5C55;&#x5F00;&#xFF0C;&#x4EE5;&#x540E;&#x6709;&#x65F6;&#x95F4;&#x518D;&#x5C55;&#x5F00;&#x3002;&#x4E0A;&#x7BC7;&#x6587;&#x7AE0;<a href=\"http://idisfkj.github.io/2016/05/01/Android%E9%AB%98%E4%BB%BF%E5%BE%AE%E4%BF%A1%E4%B9%8Bmvp%E5%AE%9E%E7%8E%B0-%E4%BA%8C/\">Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;(&#x4E8C;)</a>&#x5DF2;&#x7ECF;&#x8BB2;&#x5230;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8BE5;&#x8F6F;&#x4EF6;&#x662F;&#x5FC5;&#x987B;&#x5148;&#x6CE8;&#x518C;&#xFF0C;&#x5728;&#x6CE8;&#x518C;&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5411;&#x6240;&#x6709;&#x5B89;&#x88C5;&#x8BE5;&#x5E94;&#x7528;&#x7684;&#x8BBE;&#x5907;&#x53D1;&#x9001;&#x4E86;&#x4E00;&#x6761;&#x5305;&#x88C5;&#x4E86;&#x6211;&#x4EEC;&#x8BBE;&#x5907;&#x6807;&#x8BC6;<strong>&#xFF08;regId&#xFF09;</strong>&#x3001;&#x7528;&#x6237;&#x540D;<strong>&#xFF08;userName&#xFF09;</strong>&#x3001;&#x8D26;&#x53F7;<strong>&#xFF08;userPhone&#xFF09;</strong>&#x3002;&#x53EA;&#x8981;&#x662F;&#x6CE8;&#x518C;&#x4FE1;&#x606F;&#x6211;&#x4EEC;&#x5C31;&#x4F1A;&#x628A;&#x5B83;&#x5B58;&#x50A8;&#x5230;&#x672C;&#x5730;&#x6570;&#x636E;&#x5E93;<strong>register</strong>&#x8868;&#x3002;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C31;&#x662F;&#x4ECE;<strong>register</strong>&#x4E2D;&#x901A;&#x8FC7;<strong>userPhone</strong>&#x6807;&#x8BC6;&#x67E5;&#x8BE2;&#x4F60;&#x8981;&#x6DFB;&#x52A0;&#x7684;&#x670B;&#x53CB;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5B58;&#x5728;&#x5C31;&#x663E;&#x793A;&#xFF0C;&#x5F53;&#x6267;&#x884C;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x4E5F;&#x8981;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;&#x4E86;&#x8BE5;&#x597D;&#x53CB;&#xFF0C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#x5C31;&#x6267;&#x884C;&#x6700;&#x540E;&#x7684;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#xFF0C;&#x5411;&#x8BE5;&#x7528;&#x6237;&#x53D1;&#x9001;&#x4E00;&#x6761;&#x6DFB;&#x52A0;&#x597D;&#x53CB;&#x7684;&#x8BF7;&#x6C42;&#x4FE1;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x628A;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x6DFB;&#x52A0;&#x5230;&#x804A;&#x5929;&#x8BB0;&#x5F55;&#x754C;&#x9762;&#x7684;&#x6570;&#x636E;&#x8868;&#x3002;&#x4E3A;&#x4E86;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x53D6;&#x4E86;&#x4E00;&#x70B9;&#x5DE7;&#xFF0C;&#x53EA;&#x8981;&#x5BF9;&#x65B9;&#x63A5;&#x53D7;&#x5230;&#x6DFB;&#x52A0;&#x597D;&#x53CB;&#x8BF7;&#x6C42;&#x4FE1;&#x606F;&#xFF0C;&#x5BF9;&#x65B9;&#x5C31;&#x9ED8;&#x8BA4;&#x6DFB;&#x52A0;&#x4E86;&#x81EA;&#x5DF1;&#x4E3A;&#x597D;&#x53CB;&#xFF0C;&#x65E0;&#x9700;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x63A5;&#x53D7;&#x8BF7;&#x6C42;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x6574;&#x4E2A;&#x7684;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0B;&#x9762;&#x5C55;&#x793A;&#x4E00;&#x70B9;&#x4EE3;&#x7801;&#x3002;</p>\n<h2 id=\"&#x6DFB;&#x52A0;\"><a href=\"#&#x6DFB;&#x52A0;\" class=\"headerlink\" title=\"&#x6DFB;&#x52A0;\"></a>&#x6DFB;&#x52A0;</h2><p>&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x662F;&#x8F93;&#x5165;&#x8981;&#x6DFB;&#x52A0;&#x7684;&#x8D26;&#x6237;&#x53F7;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4F7F;&#x7528;&#x7684;&#x662F;<strong>MVP</strong>&#x6A21;&#x5F0F;&#xFF0C;&#x4EE3;&#x7801;&#x8FC7;&#x591A;&#x6240;&#x4EE5;&#x6211;&#x8FD9;&#x91CC;&#x628A;&#x4E00;&#x4E9B;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x8D34;&#x51FA;&#x4E86;,&#x5177;&#x4F53;&#x7684;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6E90;&#x7801;&#x3002;</p>\n<p><strong>View</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface AddFriendsView {</span><br><span class=\"line\">    void showSearch();</span><br><span class=\"line\"></span><br><span class=\"line\">    void goneSearch();</span><br><span class=\"line\"></span><br><span class=\"line\">    void jumpSearchResult(String text);</span><br><span class=\"line\"></span><br><span class=\"line\">    void changeText(CharSequence text);</span><br><span class=\"line\"></span><br><span class=\"line\">    void showToast(String text);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p><strong>Presenter</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface AddFriendsPresenter {</span><br><span class=\"line\">    void switchView(CharSequence text);</span><br><span class=\"line\"></span><br><span class=\"line\">    void switchActicity(TextView searchContent, RegisterDataHelper helper);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x56E0;&#x4E3A;&#x8BE5;&#x754C;&#x9762;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#x7B49;&#xFF0C;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x754C;&#x9762;&#x663E;&#x793A;&#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x6709;Model</em></p>\n</blockquote>\n<h2 id=\"&#x641C;&#x5BFB;\"><a href=\"#&#x641C;&#x5BFB;\" class=\"headerlink\" title=\"&#x641C;&#x5BFB;\"></a>&#x641C;&#x5BFB;</h2><p>&#x8FD9;&#x91CC;&#x4E5F;&#x662F;&#x63A5;&#x53E3;</p>\n<p><strong>View</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface SearchResultView {</span><br><span class=\"line\">    void succeedToFinish();</span><br><span class=\"line\"></span><br><span class=\"line\">    void hideProgressDialog(ProgressDialog pd);</span><br><span class=\"line\"></span><br><span class=\"line\">    void showSucceedToast();</span><br><span class=\"line\"></span><br><span class=\"line\">    void showErrorToast();</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p><strong>Presenter</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface SearchResultPresenter {</span><br><span class=\"line\">    void checkSelection(Context context, String number, View view, SearchResultAdapter mAdapter);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p><strong>Model</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface SearchResultModel {</span><br><span class=\"line\">    void buildDialog(Context context, String number, View view, SearchResultAdapter adapter,SearchResultModelImp.requestListener listener);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<h2 id=\"&#x903B;&#x8F91;\"><a href=\"#&#x903B;&#x8F91;\" class=\"headerlink\" title=\"&#x903B;&#x8F91;\"></a>&#x903B;&#x8F91;</h2><p>&#x4E0B;&#x9762;&#x662F;&#x6267;&#x884C;&#x6DFB;&#x52A0;&#x7684;&#x4E3B;&#x8981;&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">    public void buildDialog(final Context context, String number, final View view,</span><br><span class=\"line\">                            final SearchResultAdapter adapter, final requestListener listener) {</span><br><span class=\"line\">        new AlertDialog.Builder(context)</span><br><span class=\"line\">                .setIcon(R.drawable.icon)</span><br><span class=\"line\">                .setTitle(R.string.dialog_tip)</span><br><span class=\"line\">                .setMessage(String.format(context.getResources().getString(R.string.dialog_message), number))</span><br><span class=\"line\">                .setPositiveButton(R.string.dialog_positive, new DialogInterface.OnClickListener() {</span><br><span class=\"line\">                    @Override</span><br><span class=\"line\">                    public void onClick(DialogInterface dialog, int which) {</span><br><span class=\"line\">                        Cursor cursor = adapter.getCursor();</span><br><span class=\"line\">                        if (cursor.moveToPosition(view.getId())) {</span><br><span class=\"line\">                            String number = CursorUtils.formatString(cursor, RegisterDataHelper.RegisterDataInfo.NUMBER);</span><br><span class=\"line\">                            String regId = CursorUtils.formatString(cursor, RegisterDataHelper.RegisterDataInfo.REGID);</span><br><span class=\"line\">                            String userName = CursorUtils.formatString(cursor, RegisterDataHelper.RegisterDataInfo.USER_NAME);</span><br><span class=\"line\"></span><br><span class=\"line\">                            WXDataHelper wxHelper = new WXDataHelper(context);</span><br><span class=\"line\">                            Cursor wxCursor = wxHelper.query(number, regId, userName);</span><br><span class=\"line\">                            if (wxCursor.getCount() &gt; 0 || (number.equals(SPUtils.getString(&quot;userPhone&quot;))</span><br><span class=\"line\">                                    &amp;&amp; regId.equals(SPUtils.getString(&quot;regId&quot;)))) {</span><br><span class=\"line\">                                ToastUtils.showShort(&quot;&#x4F60;&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;&#x4E86;&#x8BE5;&#x597D;&#x53CB;&#xFF01;&quot;);</span><br><span class=\"line\">                            } else {</span><br><span class=\"line\">                                //&#x53D1;&#x9001;&#x6DFB;&#x52A0;&#x597D;&#x53CB;&#x8BF7;&#x6C42;</span><br><span class=\"line\">                                pd = ProgressDialog.show(context, &quot;&#x6DFB;&#x52A0;&#x8BF7;&#x6C42;&#x4E2D;...&quot;, &quot;&#x8BF7;&#x7A0D;&#x540E;...&quot;, true);</span><br><span class=\"line\">                                request(userName, number, regId, listener, cursor);</span><br><span class=\"line\">                            }</span><br><span class=\"line\">                            wxCursor.close();</span><br><span class=\"line\">                        }</span><br><span class=\"line\">                    }</span><br><span class=\"line\">                })</span><br><span class=\"line\">                .setNegativeButton(R.string.dialog_negative, new DialogInterface.OnClickListener() {</span><br><span class=\"line\">                    @Override</span><br><span class=\"line\">                    public void onClick(DialogInterface dialog, int which) {</span><br><span class=\"line\"></span><br><span class=\"line\">                    }</span><br><span class=\"line\">                }).show();</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x6700;&#x540E;&#x770B;&#x4E0B;&#x64CD;&#x4F5C;&#x6548;&#x679C;&#x5427;</em></p>\n</blockquote>\n<h2 id=\"&#x6548;&#x679C;\"><a href=\"#&#x6548;&#x679C;\" class=\"headerlink\" title=\"&#x6548;&#x679C;\"></a>&#x6548;&#x679C;</h2><p><img src=\"/2016/05/08/Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;-&#x4E09;/1.gif\" alt=\"picture\"></p>\n<p>&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF1A;<a href=\"https://github.com/idisfkj/HightCopyWX\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/HightCopyWX</a></p>\n"},{"title":"Android高仿微信之mvp实现(二)","url":"http://idisfkj.github.io/2016/05/01/Android高仿微信之mvp实现-二/","content":"<h1 id=\"&#x524D;&#x8A00;\"><a href=\"#&#x524D;&#x8A00;\" class=\"headerlink\" title=\"&#x524D;&#x8A00;\"></a>&#x524D;&#x8A00;</h1><p>&#x4E0A;&#x6B21;&#x8BF4;&#x4E86;&#x4E0B;&#x7B80;&#x5355;&#x7684;&#x6846;&#x67B6;&#x6784;&#x67B6;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x89E3;&#x91CA;&#x4E86;&#x4E0B;<strong>MVP</strong>&#x7684;&#x539F;&#x7406;&#x5B9E;&#x73B0;&#x3002;&#x867D;&#x7136;&#x4E0A;&#x6B21;&#x7684;&#x529F;&#x80FD;&#x6CA1;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x4F46;&#x4E3B;&#x8981;&#x662F;&#x628A;&#x6846;&#x67B6;&#x642D;&#x597D;&#xFF0C;&#x624D;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x8FDB;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x8FD8;&#x6709;&#x4E0D;&#x4E86;&#x89E3;&#x7684;&#x53EF;&#x4EE5;&#x5148;&#x770B;&#x4E0B;&#x6211;&#x524D;&#x9762;&#x7684;&#x6587;&#x7AE0;&#xFF1A;<a href=\"http://idisfkj.github.io/2016/04/23/Android%E9%AB%98%E4%BB%BF%E5%BE%AE%E4%BF%A1%E4%B9%8Bmvp%E5%AE%9E%E7%8E%B0-%E4%B8%80/\">Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;(&#x4E00;)</a><br>&#x597D;&#x4E86;&#xFF0C;&#x8FD9;&#x6B21;&#x6211;&#x4EEC;&#x8981;&#x4ECB;&#x7ECD;&#x7684;&#x662F;&#x5FAE;&#x4FE1;&#x804A;&#x5929;&#x754C;&#x9762;&#x529F;&#x80FD;&#x7684;&#x7B80;&#x5355;&#x5B9E;&#x73B0;&#x3002;</p>\n<h2 id=\"&#x539F;&#x7406;\"><a href=\"#&#x539F;&#x7406;\" class=\"headerlink\" title=\"&#x539F;&#x7406;\"></a>&#x539F;&#x7406;</h2><p>&#x5176;&#x5B9E;&#x77E5;&#x9053;&#x4E86;&#x539F;&#x7406;&#x4F60;&#x5C31;&#x4F1A;&#x53D1;&#x73B0;&#x5B83;&#x662F;&#x591A;&#x4E48;&#x7684;&#x7B80;&#x5355;&#x3002;&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x670D;&#x52A1;&#x5668;&#x6240;&#x4EE5;&#x662F;&#x57FA;&#x4E8E;&#x63A8;&#x9001;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x7F51;&#x4E0A;&#x4E5F;&#x6709;&#x4E00;&#x4E9B;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x8D44;&#x6599;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x57FA;&#x4E8E;&#x767E;&#x5EA6;&#x4E91;&#x7684;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x662F;&#x57FA;&#x4E8E;&#x5C0F;&#x7C73;&#x63A8;&#x9001;&#x6765;&#x5B9E;&#x73B0;&#x6D88;&#x606F;&#x7684;&#x4F20;&#x9012;&#x3002;&#x5927;&#x5BB6;&#x90FD;&#x77E5;&#x9053;&#x73B0;&#x5728;&#x63A8;&#x9001;&#x65E0;&#x5904;&#x4E0D;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x6CA1;&#x6709;&#x63A5;&#x89E6;&#x63A8;&#x9001;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x662F;&#x5148;&#x53BB;&#x7B80;&#x5355;&#x7684;&#x8865;&#x4E0B;&#x529F;&#x8BFE;&#x5728;&#x6765;&#x770B;&#x5C31;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x4E86;&#x89E3;&#x4E0B;&#x9762;&#x8BF4;&#x7684;&#x3002;</p>\n<p>&#x8981;&#x60F3;&#x5B9E;&#x73B0;&#x6D88;&#x606F;&#x7684;&#x4F20;&#x9012;&#xFF0C;&#x5C31;&#x8981;&#x6709;&#x53D1;&#x9001;&#x4E0E;&#x63A5;&#x6536;&#x529F;&#x80FD;&#xFF0C;&#x9996;&#x5148;&#x5BF9;&#x4E8E;&#x63A5;&#x6536;so easy &#x4E86;&#x53EA;&#x8981;&#x6211;&#x4EEC;&#x5728;&#x81EA;&#x5DF1;&#x7684;<strong>Android</strong>&#x5E94;&#x7528;&#x4E2D;&#x96C6;&#x6210;&#x5C0F;&#x7C73;&#x7684;I<strong>SDK</strong>(&#x6211;&#x8FD9;&#x91CC;&#x662F;&#x4EE5;&#x5C0F;&#x7C73;&#x63A8;&#x9001;&#x4E3A;&#x4F8B;&#x7684;)&#x3002;&#x5C31;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x7684;&#x63A5;&#x6536;&#x529F;&#x80FD;&#xFF0C;&#x5BF9;&#x4E8E;&#x63A5;&#x6536;&#x6211;&#x5206;&#x4E86;&#x4E24;&#x79CD;&#xFF0C;&#x4E00;&#x79CD;&#x7684;&#x6B63;&#x5E38;&#x804A;&#x5929;&#x5F97;&#x4FE1;&#x606F;&#xFF0C;&#x800C;&#x53E6;&#x4E00;&#x79CD;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x65F6;&#x53D1;&#x9001;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E00;&#x79CD;&#x6D88;&#x606F;&#x6211;&#x4EEC;&#x8981;&#x6839;&#x636E;&#x7528;&#x6237;&#x8BBE;&#x5907;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x4E0E;&#x7528;&#x6237;&#x8D26;&#x53F7;&#x6765;&#x5B58;&#x50A8;&#x4E0B;&#x53D1;&#x8FC7;&#x6765;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x4E3A;&#x4EE5;&#x540E;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7528;&#x6237;&#x804A;&#x5929;&#x8BB0;&#x5F55;&#x3002;&#x5BF9;&#x4E8E;&#x7B2C;&#x4E8C;&#x4E2D;&#xFF0C;&#x662F;&#x5728;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x65F6;&#x5FC5;&#x987B;&#x5148;&#x6CE8;&#x518C;&#xFF0C;&#x4E00;&#x65E6;&#x6CE8;&#x518C;&#x6210;&#x529F;&#x5C31;&#x4F1A;&#x5411;&#x6240;&#x6709;&#x7684;&#x7528;&#x6237;&#x53D1;&#x9001;&#x4E00;&#x6761;&#x6CE8;&#x518C;&#x4FE1;&#x606F;&#xFF0C;&#x8BE5;&#x6D88;&#x606F;&#x5305;&#x62EC;&#x7528;&#x6237;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x4E0E;&#x8BBE;&#x5907;&#x6807;&#x8BC6;&#xFF0C;&#x53EA;&#x8981;&#x5728;&#x4FE1;&#x606F;&#x65F6;&#x95F4;&#x7684;&#x6709;&#x6548;&#x65F6;&#x95F4;&#x4E4B;&#x5185;&#xFF0C;&#x6CE8;&#x518C;&#x4E86;&#x5F97;&#x7528;&#x6237;&#x5C31;&#x80FD;&#x63A5;&#x6536;&#x8BE5;&#x6CE8;&#x518C;&#x6D88;&#x606F;&#x3002;&#x8FD9;&#x4E2A;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x8EAB;&#x4EFD;&#x8BC6;&#x522B;&#xFF0C;&#x5BF9;&#x6D88;&#x606F;&#x7684;&#x53D1;&#x9001;&#xFF0C;&#x7528;&#x6237;&#x7684;&#x6DFB;&#x52A0;&#x90FD;&#x662F;&#x91CD;&#x8981;&#x7684;&#x6807;&#x8BC6;&#x3002;&#x8BF4;&#x4E86;&#x63A5;&#x6536;&#xFF0C;&#x53CD;&#x8FC7;&#x6765;&#x53D1;&#x9001;&#x4E5F;&#x662F;&#x4E00;&#x6837;&#x7684;&#x5206;&#x4E24;&#x79CD;&#xFF0C;&#x53EA;&#x662F;&#x65CB;&#x8F6C;&#x4E00;&#x4E0B;&#x4F4D;&#x7F6E;&#x800C;&#x5DF2;&#x3002;</p>\n<h2 id=\"&#x914D;&#x7F6E;&#x5C0F;&#x7C73;SDK\"><a href=\"#&#x914D;&#x7F6E;&#x5C0F;&#x7C73;SDK\" class=\"headerlink\" title=\"&#x914D;&#x7F6E;&#x5C0F;&#x7C73;SDK\"></a>&#x914D;&#x7F6E;&#x5C0F;&#x7C73;SDK</h2><p>&#x9996;&#x5148;&#x8FDB;&#x5165;&#x5C0F;&#x7C73;&#x5F00;&#x53D1;&#x5E73;&#x53F0;&#xFF0C;&#x4E3A;&#x81EA;&#x5DF1;&#x7684;&#x5E94;&#x7528;&#x5F00;&#x542F;&#x63A8;&#x9001;&#x529F;&#x80FD;&#xFF0C;&#x7136;&#x540E;&#x4E0B;&#x8F7D;<a href=\"http://dev.xiaomi.com/mipush/downpage/\" target=\"_blank\" rel=\"external\">SDK</a>&#x6839;&#x636E;<a href=\"http://dev.xiaomi.com/doc/?p=3080\" target=\"_blank\" rel=\"external\">&#x5B98;&#x65B9;&#x6587;&#x6863;</a>&#x505A;&#x597D;&#x76F8;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x524D;&#x671F;&#x5C31;&#x5927;&#x529F;&#x544A;&#x6210;&#x4E86;&#x3002;</p>\n<blockquote>\n<p><em>&#x5982;&#x679C;&#x6CA1;&#x63A5;&#x89E6;&#x8FC7;&#x7684;&#x53EA;&#x8981;&#x8010;&#x5FC3;&#x770B;&#x6587;&#x6863;&#x5C31;&#x6CA1;&#x4EC0;&#x4E48;&#x95EE;&#x9898;&#xFF0C;&#x6587;&#x6863;&#x5F88;&#x8BE6;&#x7EC6;</em></p>\n</blockquote>\n<h2 id=\"&#x63A5;&#x6536;\"><a href=\"#&#x63A5;&#x6536;\" class=\"headerlink\" title=\"&#x63A5;&#x6536;\"></a>&#x63A5;&#x6536;</h2><p>&#x524D;&#x9762;&#x6211;&#x5DF2;&#x7ECF;&#x8BF4;&#x4E86;&#x63A5;&#x6536;&#x662F;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x524D;&#x9762;&#x914D;&#x7F6E;&#x597D;&#x4E86;&#x5C0F;&#x7C73;&#x7684;<strong>SDK</strong>&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x5C31;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;<strong>extends</strong> <strong>PushMessageReceiver</strong>&#x7684;&#x7C7B;&#xFF0C;&#x5728;&#x8BE5;&#x7C7B;&#x4E2D;&#x7528;&#x5404;&#x79CD;&#x76F8;&#x5E94;&#x7684;&#x63A5;&#x6536;&#x4FE1;&#x606F;&#x65B9;&#x6CD5;&#xFF0C;&#x5BF9;&#x4E86;&#x5FD8;&#x4E86;&#x8BF4;&#x6D88;&#x606F;&#x7684;&#x53D1;&#x9001;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x91CC;&#x5206;&#x4E3A;&#x4E24;&#x79CD;</p>\n<ul>\n<li>&#x901A;&#x77E5;&#x680F;&#x663E;&#x793A;&#x7684;&#x6D88;&#x606F;</li>\n<li>&#x900F;&#x4F20;&#x6D88;&#x606F;</li>\n</ul>\n<p>&#x901A;&#x77E5;&#x680F;&#x663E;&#x793A;&#x7684;&#x6D88;&#x606F;&#x4E0D;&#x7528;&#x6211;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x81F3;&#x4E8E;&#x900F;&#x4F20;&#x6D88;&#x606F;&#x7B80;&#x5355;&#x70B9;&#x5C31;&#x662F;&#x4E0D;&#x7528;&#x901A;&#x77E5;&#x680F;&#x663E;&#x793A;&#xFF0C;&#x76F4;&#x63A5;&#x5728;&#x5185;&#x90E8;&#x63A5;&#x6536;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x6D88;&#x606F;&#x3002;</p>\n<p>&#x6211;&#x4EEC;&#x804A;&#x5929;&#x4F7F;&#x7528;&#x7684;&#x5F53;&#x7136;&#x7684;&#x900F;&#x4F20;&#x6D88;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x65B9;&#x6CD5;&#x4E2D;&#x63A5;&#x6536;&#x5230;&#x900F;&#x4F20;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x6D88;&#x606F;&#x5BF9;&#x4E8E;&#x4E24;&#x79CD;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x505A;&#x76F8;&#x5E94;&#x7684;&#x5904;&#x7406;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">     * &#x63A5;&#x6536;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x7684;&#x900F;&#x4F20;&#x6D88;&#x606F;</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param context</span><br><span class=\"line\">     * @param message</span><br><span class=\"line\">     */</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onReceivePassThroughMessage(Context context, MiPushMessage message) {</span><br><span class=\"line\">        mMessage = message.getContent();</span><br><span class=\"line\">        if (!TextUtils.isEmpty(message.getTopic())) {</span><br><span class=\"line\">            mTopic = message.getTopic();</span><br><span class=\"line\">        } else if (!TextUtils.isEmpty(message.getAlias())) {</span><br><span class=\"line\">            mAlias = message.getAlias();</span><br><span class=\"line\">        }</span><br><span class=\"line\">        Intent intent = new Intent();</span><br><span class=\"line\">        //user information</span><br><span class=\"line\">        if (mMessage.indexOf(&quot;^&quot;) != -1 &amp;&amp; mMessage.indexOf(&quot;@&quot;) != -1) {</span><br><span class=\"line\">            int index1 = mMessage.lastIndexOf(&quot;^&quot;);</span><br><span class=\"line\">            int index2 = mMessage.lastIndexOf(&quot;@&quot;);</span><br><span class=\"line\">            String userName = mMessage.substring(0, index1);</span><br><span class=\"line\">            String regId = mMessage.substring(index1 + 1, index2);</span><br><span class=\"line\">            String number = mMessage.substring(index2 + 1);</span><br><span class=\"line\"></span><br><span class=\"line\">            RegisterInfo info = new RegisterInfo();</span><br><span class=\"line\">            info.setUserName(userName);</span><br><span class=\"line\">            info.setNumber(number);</span><br><span class=\"line\">            info.setRegId(regId);</span><br><span class=\"line\">            RegisterDataHelper helper = new RegisterDataHelper(App.getAppContext());</span><br><span class=\"line\">            Cursor cursor = helper.query(number, regId);</span><br><span class=\"line\">            if (cursor != null &amp;&amp; cursor.getCount() &gt; 0) {</span><br><span class=\"line\">                for (cursor.moveToFirst(); !cursor.isAfterLast(); cursor.moveToNext()) {</span><br><span class=\"line\">                    if (CursorUtils.formatString(cursor, RegisterDataHelper.RegisterDataInfo.REGID).equals(regId)</span><br><span class=\"line\">                            &amp;&amp; CursorUtils.formatString(cursor, RegisterDataHelper.RegisterDataInfo.NUMBER).equals(number)) {</span><br><span class=\"line\">                        if (!CursorUtils.formatString(cursor, RegisterDataHelper.RegisterDataInfo.USER_NAME).equals(userName))</span><br><span class=\"line\">                            // update user information</span><br><span class=\"line\">                            helper.update(info, number, regId);</span><br><span class=\"line\">                        cursor.close();</span><br><span class=\"line\">                        return;</span><br><span class=\"line\">                    }</span><br><span class=\"line\">                }</span><br><span class=\"line\">                cursor.close();</span><br><span class=\"line\">            }</span><br><span class=\"line\">            // insert user information</span><br><span class=\"line\">            helper.insert(info);</span><br><span class=\"line\">            if (SPUtils.getString(&quot;regId&quot;).equals(App.DEVELOPER_ID)){</span><br><span class=\"line\">                WXDataHelper wxHelper = new WXDataHelper(App.getAppContext());</span><br><span class=\"line\">                WXItemInfo itemInfo = new WXItemInfo();</span><br><span class=\"line\">                itemInfo.setRegId(regId);</span><br><span class=\"line\">                itemInfo.setTitle(userName);</span><br><span class=\"line\">                itemInfo.setNumber(number);</span><br><span class=\"line\">                itemInfo.setContent(String.format(App.HELLO_MESSAGE, userName));</span><br><span class=\"line\">                itemInfo.setCurrentAccount(SPUtils.getString(&quot;userPhone&quot;));</span><br><span class=\"line\">                itemInfo.setTime(CalendarUtils.getCurrentDate());</span><br><span class=\"line\">                wxHelper.insert(itemInfo);</span><br><span class=\"line\">            }</span><br><span class=\"line\"></span><br><span class=\"line\">        } else {</span><br><span class=\"line\">            // chat information</span><br><span class=\"line\">            int index1 = mMessage.lastIndexOf(&quot;(&quot;);</span><br><span class=\"line\">            String rMessage = mMessage.substring(0, index1);</span><br><span class=\"line\">            String extraMessage = mMessage.substring(index1 + 1);</span><br><span class=\"line\"></span><br><span class=\"line\">            int index2 = extraMessage.indexOf(&quot;@&quot;);</span><br><span class=\"line\">            int index3 = extraMessage.indexOf(&quot;@&quot;, index2 + 1);</span><br><span class=\"line\">            String receiverNumber = extraMessage.substring(0, index2);</span><br><span class=\"line\">            String regId = extraMessage.substring(index2 + 1, index3);</span><br><span class=\"line\">            String sendNumber = extraMessage.substring(index3 + 1);</span><br><span class=\"line\"></span><br><span class=\"line\">            ChatMessageInfo chatMessageInfo = new ChatMessageInfo();</span><br><span class=\"line\">            chatMessageInfo.setMessage(rMessage);</span><br><span class=\"line\">            chatMessageInfo.setFlag(0);</span><br><span class=\"line\">            chatMessageInfo.setTime(CalendarUtils.getCurrentDate());</span><br><span class=\"line\">            chatMessageInfo.setReceiverNumber(receiverNumber);</span><br><span class=\"line\">            chatMessageInfo.setRegId(regId);</span><br><span class=\"line\">            chatMessageInfo.setSendNumber(sendNumber);</span><br><span class=\"line\"></span><br><span class=\"line\">            if (App.mNumber.equals(sendNumber) &amp;&amp; App.mRegId.equals(regId)) {</span><br><span class=\"line\">                //&#x5728;&#x5F53;&#x524D;&#x804A;&#x5929;&#x754C;&#x9762;</span><br><span class=\"line\">                intent.setAction(&quot;com.idisfkj.hightcopywx.chat&quot;);</span><br><span class=\"line\">                Bundle bundle = new Bundle();</span><br><span class=\"line\">                bundle.putSerializable(&quot;chatMessageInfo&quot;, chatMessageInfo);</span><br><span class=\"line\">                intent.putExtras(bundle);</span><br><span class=\"line\">                App.getAppContext().sendBroadcast(intent);</span><br><span class=\"line\">            } else {</span><br><span class=\"line\">                //&#x4E0D;&#x5728;&#x5F53;&#x524D;&#x804A;&#x5929;&#x754C;&#x9762;</span><br><span class=\"line\">                ChatMessageDataHelper helper = new ChatMessageDataHelper(App.getAppContext());</span><br><span class=\"line\">                helper.insert(chatMessageInfo);</span><br><span class=\"line\">            }</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x89E3;&#x91CA;&#x4E86;&#xFF0C;&#x81EA;&#x5DF1;&#x7814;&#x7A76;&#x7814;&#x7A76;</em></p>\n</blockquote>\n<h2 id=\"&#x53D1;&#x9001;\"><a href=\"#&#x53D1;&#x9001;\" class=\"headerlink\" title=\"&#x53D1;&#x9001;\"></a>&#x53D1;&#x9001;</h2><p>&#x5982;&#x679C;&#x4F60;&#x770B;&#x4E86;&#x6587;&#x6863;&#x7684;&#x8BDD;&#x5C31;&#x5E94;&#x8BE5;&#x6709;&#x70B9;&#x5934;&#x7EEA;&#x4E86;&#xFF0C;&#x53D1;&#x9001;&#x5C31;&#x662F;&#x4F7F;&#x7528;HTTP&#x8BF7;&#x6C42;&#x5411;&#x5C0F;&#x7C73;&#x6240;&#x63D0;&#x4F9B;&#x7684;API&#x6839;&#x636E;&#x4F60;&#x63D0;&#x4F9B;&#x7684;<strong>regId</strong>&#x3001;<strong>userAccount</strong>&#x3001;<strong>alias</strong>&#x3001;<strong>topic</strong>&#x7B49;&#x53D1;&#x9001;&#x4F60;&#x8981;&#x53D1;&#x9001;&#x7684;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#xFF0C;&#x6211;&#x7528;&#x7684;&#x662F;<strong>regId</strong> API&#xFF1A;<a href=\"https://api.xmpush.xiaomi.com/v2/message/regid\" target=\"_blank\" rel=\"external\">https://api.xmpush.xiaomi.com/v2/message/regid</a></p>\n<p><a href=\"http://dev.xiaomi.com/doc/?p=533\" target=\"_blank\" rel=\"external\">&#x53C2;&#x8003;&#x6587;&#x6863;</a></p>\n<p>&#x4E0B;&#x9762;&#x662F;&#x53D1;&#x9001;&#x4EE3;&#x7801;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">    public void requestData(final requestListener listener, final String chatContent, final String number, final String regId, final ChatMessageDataHelper helper) {</span><br><span class=\"line\">        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.POST, UrlUtils.ChatUrl(chatContent, number, regId)</span><br><span class=\"line\">                , null, new Response.Listener&lt;JSONObject&gt;() {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onResponse(JSONObject jsonObject) {</span><br><span class=\"line\">                mChatMessageInfo = new ChatMessageInfo();</span><br><span class=\"line\">                mChatMessageInfo.setMessage(chatContent);</span><br><span class=\"line\">                mChatMessageInfo.setFlag(1);</span><br><span class=\"line\">                mChatMessageInfo.setTime(CalendarUtils.getCurrentDate());</span><br><span class=\"line\">                mChatMessageInfo.setReceiverNumber(number);</span><br><span class=\"line\">                mChatMessageInfo.setRegId(regId);</span><br><span class=\"line\">                mChatMessageInfo.setSendNumber(SPUtils.getString(&quot;userPhone&quot;, &quot;&quot;));</span><br><span class=\"line\">                listener.onSucceed(mChatMessageInfo, helper);</span><br><span class=\"line\">            }</span><br><span class=\"line\">        }, new Response.ErrorListener() {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onErrorResponse(VolleyError volleyError) {</span><br><span class=\"line\">                Log.d(&quot;TAG&quot;, volleyError.getMessage());</span><br><span class=\"line\">                listener.onError(volleyError.getMessage());</span><br><span class=\"line\">            }</span><br><span class=\"line\">        }) {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {</span><br><span class=\"line\">                HashMap&lt;String, String&gt; header = new HashMap&lt;&gt;();</span><br><span class=\"line\">                header.put(&quot;Authorization&quot;, &quot;key=&quot; + App.APP_SECRET_KEY);</span><br><span class=\"line\">                return header;</span><br><span class=\"line\">            }</span><br><span class=\"line\">        };</span><br><span class=\"line\">        VolleyUtils.addQueue(jsonObjectRequest, &quot;chatRequest&quot;);</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<p>&#x7531;&#x4E8E;&#x6D89;&#x53CA;&#x7684;&#x4EE3;&#x7801;&#x8FD8;&#x662F;&#x6709;&#x70B9;&#x591A;&#x7684;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x5C55;&#x5F00;&#xFF0C;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x6839;&#x636E;&#x540E;&#x9762;&#x7684;&#x5730;&#x5740;<strong>Star</strong>&#x3001;<strong>Fork</strong>&#x4E0B;&#x8F7D;&#x4EE3;&#x7801;&#x67E5;&#x770B;&#x3002;</p>\n<p>&#x5982;&#x679C;&#x4F60;&#x5B89;&#x88C5;&#x6CE8;&#x518C;&#x4E86;&#xFF0C;&#x7531;&#x4E8E;&#x65F6;&#x95F4;&#x539F;&#x56E0;&#xFF0C;&#x76EE;&#x524D;&#x804A;&#x5929;&#x754C;&#x9762;&#x53EA;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x6211;&#x4E3A;&#x597D;&#x53CB;&#xFF0C;&#x4F60;&#x4EEC;&#x5982;&#x679C;&#x7528;&#x4E0D;&#x61C2;&#x5F97;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x53D1;&#x6D88;&#x606F;&#x7ED9;&#x6211;&#xFF0C;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#x90FD;&#x4F1A;&#x56DE;&#x3002;&#x597D;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x770B;&#x770B;&#x6548;&#x679C;&#x5427;</p>\n<h2 id=\"&#x6548;&#x679C;\"><a href=\"#&#x6548;&#x679C;\" class=\"headerlink\" title=\"&#x6548;&#x679C;\"></a>&#x6548;&#x679C;</h2><p><img src=\"/2016/05/01/Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;-&#x4E8C;/1.gif\" alt=\"&#x6548;&#x679C;&#x56FE;\"></p>\n<p>&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF1A;<a href=\"https://github.com/idisfkj/HightCopyWX\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/HightCopyWX</a></p>\n"},{"title":"Android高仿微信之mvp实现(一)","url":"http://idisfkj.github.io/2016/04/23/Android高仿微信之mvp实现-一/","content":"<h1 id=\"&#x524D;&#x8A00;\"><a href=\"#&#x524D;&#x8A00;\" class=\"headerlink\" title=\"&#x524D;&#x8A00;\"></a>&#x524D;&#x8A00;</h1><p>&#x4E3A;&#x4E86;&#x5DE9;&#x56FA;&#x4E00;&#x4E0B;&#x81EA;&#x5DF1;&#x5BF9;<strong>mvp</strong>&#x67B6;&#x6784;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x4E8E;&#x662F;&#x7A81;&#x751F;&#x4E00;&#x4E2A;&#x60F3;&#x6CD5;&#xFF0C;&#x7528;<strong>mvp</strong>&#x67B6;&#x6784;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x70B9;&#x7C7B;&#x4F3C;&#x4E8E;&#x5FAE;&#x4FE1;&#x7684;&#x529F;&#x80FD;&#x3002;&#x6240;&#x4EE5;&#x5C31;&#x6709;&#x4E86;&#x73B0;&#x5728;&#x7684;&#x6807;&#x9898;&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;&#x3002;&#x5E0C;&#x671B;&#x81EA;&#x5DF1;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x80FD;&#x719F;&#x7EC3;&#x638C;&#x63E1;<strong>mvp</strong>&#x67B6;&#x6784;&#x7684;&#x7CBE;&#x9AD3;&#xFF0C;&#x540C;&#x65F6;&#x6211;&#x4E5F;&#x5728;&#x8FD9;&#x5199;&#x4E0B;&#x81EA;&#x5DF1;&#x5728;&#x8FD9;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x6210;&#x957F;&#x4E0E;&#x6240;&#x601D;&#x3002;&#x8BE5;&#x7247;&#x6587;&#x7AE0;&#x4E3A;&#x7B2C;&#x4E00;&#x7CFB;&#x5217;&#xFF0C;&#x4EE5;&#x540E;&#x4F1A;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x8FDB;&#x5EA6;&#x6765;&#x5199;&#x4E0B;&#x5269;&#x4F59;&#x7684;&#x7CFB;&#x5217;&#x3002;&#x8FD8;&#x6CA1;&#x63A5;&#x89E6;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x4E00;&#x8D77;&#x6765;&#x5B66;&#x4E60;&#x4E0B;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x6709;&#x4E0D;&#x5BF9;&#x7684;&#x6B22;&#x8FCE;&#x6765;&#x6307;&#x6559;&#x3002;</p>\n<h2 id=\"MVP\"><a href=\"#MVP\" class=\"headerlink\" title=\"MVP\"></a>MVP</h2><p>&#x9996;&#x5148;&#x6211;&#x6765;&#x7B80;&#x5355;&#x7684;&#x89E3;&#x91CA;&#x4E0B;&#x4F55;&#x4E3A;<strong>mvp</strong></p>\n<ul>\n<li><strong>M</strong>&#x5C31;&#x662F;<strong>Model</strong> &#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8D1F;&#x8D23;&#x7684;&#x5C31;&#x662F;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x6570;&#x636E;&#x7684;&#x83B7;&#x53D6;&#xFF0C;&#x4F8B;&#x5982;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BFB;&#x5199;&#xFF0C;<strong>http</strong>&#x7684;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x7684;&#x5904;&#x7406;&#x3002;</li>\n<li><strong>V</strong>&#x5C31;&#x662F;<strong>View</strong> &#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x89C6;&#x56FE;&#x7684;&#x610F;&#x601D;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x7684;&#x4EFB;&#x52A1;&#x5C31;&#x662F;&#x5904;&#x7406;&#x5404;&#x4E2A;&#x754C;&#x9762;<strong>ui</strong>&#x63A7;&#x4EF6;&#x7684;&#x5904;&#x7406;&#x3002;</li>\n<li><strong>P</strong>&#x5C31;&#x662F;<strong>Presenter</strong> &#xFF0C;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x8FD9;&#x91CC;&#x8D1F;&#x8D23;&#x7684;&#x662F;<strong>Model</strong>&#x4E0E;<strong>View</strong>&#x4E4B;&#x95F4;&#x7684;&#x8054;&#x7CFB;&#x64CD;&#x4F5C;&#x3002;</li>\n</ul>\n<p>&#x90A3;&#x4E48;&#x4ED6;&#x4EEC;&#x4E4B;&#x95F4;&#x5230;&#x5E95;&#x662F;&#x5982;&#x4F55;&#x8054;&#x7CFB;&#x5728;&#x4E00;&#x8D77;&#x5DE5;&#x4F5C;&#x7684;&#x5462;&#xFF1F;&#x5F53;&#x4E00;&#x4E2A;&#x754C;&#x9762;&#x88AB;&#x521B;&#x5EFA;&#x65F6;&#x9996;&#x5148;&#x8C03;&#x7528;<strong>View</strong>&#xFF0C;<strong>View</strong>&#x8C03;&#x7528;<strong>Presenter</strong>&#x4E2D;&#x7684;&#x76F8;&#x5E94;&#x64CD;&#x4F5C;&#xFF0C;&#x5728;<strong>Presenter</strong>&#x4E2D;&#x5219;&#x8C03;&#x7528;&#x4E86;<strong>Model</strong>&#x7684;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x65B9;&#x6CD5;&#xFF0C;<strong>Presenter</strong>&#x4E2D;&#x83B7;&#x5F97;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5219;&#x53CD;&#x8FC7;&#x6765;&#x8C03;&#x7528;<strong>View</strong>&#x4E2D;&#x63A5;&#x53E3;&#x4F20;&#x56DE;&#x7ED9;<strong>View</strong>&#x5C42;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;&#x4E86;<strong>MVP</strong>&#x4E2D;&#x7684;&#x5408;&#x4F5C;&#x6D41;&#x7A0B;&#x3002;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x4E00;&#x4E2A;&#x660E;&#x663E;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#x628A;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x4E0E;&#x4E3B;&#x754C;&#x9762;&#x5206;&#x79BB;&#xFF0C;&#x5B8C;&#x5168;&#x9694;&#x79BB;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#xFF0C;&#x4F7F;&#x5F97;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x6A21;&#x5757;&#x5316;&#xFF0C;&#x964D;&#x4F4E;&#x4ED6;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x6027;&#xFF0C;&#x53EA;&#x8981;&#x547D;&#x540D;&#x5408;&#x7406;&#x5C31;&#x80FD;&#x8FC5;&#x901F;&#x660E;&#x767D;&#x8BE5;&#x65B9;&#x6CD5;&#x7684;&#x4F5C;&#x7528;&#x3002;&#x4E0B;&#x9762;&#x4EE5;&#x8BE5;&#x9879;&#x76EE;&#x4E3A;&#x4F8B;&#x3002;</p>\n<blockquote>\n<p><em>&#x672C;&#x6765;&#x60F3;&#x4EE5;&#x4E3B;&#x6846;&#x67B6;&#x4E3A;&#x4F8B;&#x7684;&#xFF0C;&#x4F46;&#x4E3B;&#x6846;&#x67B6;&#x76EE;&#x524D;&#x6CA1;&#x6709;Model&#x5C42;&#xFF0C;&#x6240;&#x4EE5;&#x4E0B;&#x9762;&#x4EE5;&#x5FAE;&#x4FE1;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x804A;&#x5929;&#x5FAE;&#x4FE1;&#x7A97;&#x53E3;&#x4E3A;&#x4F8B;&#xFF0C;&#x7528;MVP&#x6765;&#x5B9E;&#x73B0;</em></p>\n</blockquote>\n<h2 id=\"View&#x5C42;\"><a href=\"#View&#x5C42;\" class=\"headerlink\" title=\"View&#x5C42;\"></a>View&#x5C42;</h2><p>&#x5F53;&#x6211;&#x4EEC;&#x6253;&#x5F00;&#x5FAE;&#x4FE1;&#x804A;&#x5929;&#x754C;&#x9762;&#x65F6;&#xFF0C;&#x8981;&#x5148;&#x8C03;&#x7528;&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5176;&#x4E2D;&#x5B9E;&#x73B0;&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface WXView {</span><br><span class=\"line\">    void setData(List&lt;WXItemInfo&gt; list);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x4E00;&#x770B;&#x65B9;&#x6CD5;&#x540D;&#x5C31;&#x80FD;&#x5F88;&#x597D;&#x7406;&#x89E3;&#x8BE5;&#x65B9;&#x6CD5;&#x8981;&#x505A;&#x7684;&#x64CD;&#x4F5C;&#x4E86;</em></p>\n</blockquote>\n<h2 id=\"Model&#x5C42;\"><a href=\"#Model&#x5C42;\" class=\"headerlink\" title=\"Model&#x5C42;\"></a>Model&#x5C42;</h2><p>&#x65E2;&#x7136;&#x8BE5;&#x5C42;&#x662F;&#x5B9E;&#x73B0;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x81EA;&#x7136;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface WXModel {</span><br><span class=\"line\">    List&lt;WXItemInfo&gt; initData();</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x5B9A;&#x4E49;&#x5B8C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x518D;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7C7B;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;&#xFF0C;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x52A0;&#x8F7D;&#xFF1B;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class WXModleImp implements WXModel{</span><br><span class=\"line\">    private List&lt;WXItemInfo&gt; mList;</span><br><span class=\"line\">    private WXItemInfo wxItemInfo;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public List&lt;WXItemInfo&gt; initData() {</span><br><span class=\"line\">        mList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">        for (int i = 0; i &lt; 10; i++) {</span><br><span class=\"line\">            wxItemInfo = new WXItemInfo();</span><br><span class=\"line\">            wxItemInfo.setTitle(&quot;&#x6D4B;&#x8BD5;&#x6807;&#x9898;&quot; + i);</span><br><span class=\"line\">            wxItemInfo.setContent(&quot;&#x6D4B;&#x8BD5;&#x5185;&#x5BB9;&quot; + i);</span><br><span class=\"line\">            wxItemInfo.setTime(i + &quot;:11&quot;);</span><br><span class=\"line\">            mList.add(wxItemInfo);</span><br><span class=\"line\">        }</span><br><span class=\"line\">        return mList;</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x8FD9;&#x91CC;&#x73B0;&#x5728;&#x4E3A;&#x4E86;&#x6D4B;&#x8BD5;&#xFF0C;&#x6240;&#x4EE5;&#x505A;&#x4E86;&#x5047;&#x6570;&#x636E;&#x3002;&#x73B0;&#x5728;&#x662F;&#x4E0D;&#x662F;&#x660E;&#x767D;&#x4E86;&#x4E00;&#x70B9;&#x5462;&#xFF1F;&#x53EA;&#x8981;&#x6211;&#x4EEC;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x63A5;&#x53E3;&#x4E2D;&#x5728;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8BE5;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;<strong>WXModelImp</strong>&#x4E2D;&#x5B9E;&#x73B0;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>\n<h2 id=\"Presenter&#x5C42;\"><a href=\"#Presenter&#x5C42;\" class=\"headerlink\" title=\"Presenter&#x5C42;\"></a>Presenter&#x5C42;</h2><p>&#x5230;&#x8FD9;&#x91CC;&#x662F;&#x4E0D;&#x662F;&#x60F3;&#x5230;&#x4E5F;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x76F8;&#x5173;&#x63A5;&#x53E3;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B9E;&#x73B0;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#xFF0C;&#x6CA1;&#x9519;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x628A;<strong>View</strong>&#x4E0E;<strong>Model</strong>&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public interface WXPresent {</span><br><span class=\"line\">    void loadData();</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7C7B;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;,&#x5728;&#x5176;&#x4E2D;&#x5F15;&#x7528;<strong>View</strong>&#x4E0E;<strong>Model</strong>&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class WXPresentImp implements WXPresent{</span><br><span class=\"line\"></span><br><span class=\"line\">    private WXModel mWXModle;</span><br><span class=\"line\">    private WXView mWXView;</span><br><span class=\"line\">    private List&lt;WXItemInfo&gt; mList;</span><br><span class=\"line\"></span><br><span class=\"line\">    public WXPresentImp(WXView wxView) {</span><br><span class=\"line\">        mWXView = wxView;</span><br><span class=\"line\">        mWXModle = new WXModleImp();</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void loadData() {</span><br><span class=\"line\">        mList = mWXModle.initData();</span><br><span class=\"line\">        mWXView.setData(mList);</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x5230;&#x8FD9;&#x91CC;&#x57FA;&#x672C;&#x7684;<strong>MVP</strong>&#x5C31;&#x8981;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x6700;&#x540E;&#x53EA;&#x8981;&#x5728;&#x5FAE;&#x4FE1;&#x804A;&#x5929;&#x754C;&#x9762;&#x5B9E;&#x73B0;<strong>View</strong>&#x5C42;&#x7684;<strong>WXView</strong>&#x63A5;&#x53E3;&#x5728;&#x5176;&#x4E2D;&#x586B;&#x5145;&#x6570;&#x636E;&#xFF0C;&#x5B9E;&#x4F8B;&#x5316;<strong>Presenter</strong>&#x5C42;&#x7684;<strong>WXPresentImp</strong>&#x7C7B;&#xFF0C;&#x8C03;&#x7528;&#x5176;&#x65B9;&#x6CD5;<strong>loadData()</strong>&#xFF1B;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class WXFragment extends Fragment implements WXView{</span><br><span class=\"line\">    @InjectView(R.id.wx_recyclerView)</span><br><span class=\"line\">    RecyclerView wxRecyclerView;</span><br><span class=\"line\">    private WXAdapter wxAdapter;</span><br><span class=\"line\">    private WXPresentImp mWXPresentImp;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Nullable</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {</span><br><span class=\"line\">        View view = LayoutInflater.from(getContext()).inflate(R.layout.wx_layout, null);</span><br><span class=\"line\">        ButterKnife.inject(this, view);</span><br><span class=\"line\">        wxAdapter = new WXAdapter(getContext());</span><br><span class=\"line\">        mWXPresentImp = new WXPresentImp(this);</span><br><span class=\"line\">        mWXPresentImp.loadData();</span><br><span class=\"line\">        wxRecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));</span><br><span class=\"line\">        wxRecyclerView.addItemDecoration(new WXItemDecoration(getContext()));</span><br><span class=\"line\">        wxRecyclerView.setAdapter(wxAdapter);</span><br><span class=\"line\">        return view;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onDestroyView() {</span><br><span class=\"line\">        super.onDestroyView();</span><br><span class=\"line\">        ButterKnife.reset(this);</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void setData(List&lt;WXItemInfo&gt; list) {</span><br><span class=\"line\">       wxAdapter.addData(list);</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x5230;&#x8FD9;&#x91CC;&#x6574;&#x4E2A;&#x7684;&#x5FAE;&#x4FE1;&#x804A;&#x5929;&#x7684;<strong>MVP</strong>&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x56DE;&#x8FC7;&#x53BB;&#x518D;&#x6574;&#x7406;&#x4E0B;&#x601D;&#x8DEF;&#x53D1;&#x73B0;&#x662F;&#x4E0D;&#x662F;&#x6E05;&#x695A;&#x4E86;&#x5F88;&#x591A;&#x3002;&#x4E00;&#x65E6;&#x4F60;&#x5B9E;&#x73B0;&#x4E86;<strong>MVP</strong>&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#x660E;&#x4E86;&#xFF0C;&#x601D;&#x8DEF;&#x6E05;&#x6670;&#x3002;&#x540E;&#x9762;&#x9879;&#x76EE;&#x7684;&#x5DE5;&#x7A0B;&#x91CF;&#x5927;&#x4E86;&#xFF0C;&#x66F4;&#x52A0;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x6A21;&#x5F0F;&#x4E86;&#x7BA1;&#x7406;&#x9879;&#x76EE;&#x3002;&#x6240;&#x4EE5;&#x8FD8;&#x662F;&#x503C;&#x5F97;&#x63A8;&#x8350;&#x7684;&#x3002;</p>\n<h2 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h2><p><img src=\"/2016/04/23/Android&#x9AD8;&#x4EFF;&#x5FAE;&#x4FE1;&#x4E4B;mvp&#x5B9E;&#x73B0;-&#x4E00;/1.gif\" alt=\"&#x6548;&#x679C;&#x56FE;\"></p>\n<p>&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF1A;<a href=\"https://github.com/idisfkj/HightCopyWX\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/HightCopyWX</a></p>\n"},{"title":"Android二维码扫描","url":"http://idisfkj.github.io/2016/04/16/Android二维码扫描/","content":"<h1 id=\"&#x524D;&#x8A00;\"><a href=\"#&#x524D;&#x8A00;\" class=\"headerlink\" title=\"&#x524D;&#x8A00;\"></a>&#x524D;&#x8A00;</h1><p>&#x5FAE;&#x4FE1;&#x7684;&#x4E8C;&#x7EF4;&#x7801;&#x626B;&#x63CF;&#x7528;&#x7684;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x6240;&#x4EE5;&#x6700;&#x8FD1;&#x5C31;&#x60F3;&#x5F04;&#x660E;&#x767D;&#x5B83;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4E8E;&#x662F;&#x627E;&#x4E86;&#x70B9;&#x8D44;&#x6599;&#xFF0C;&#x53D1;&#x73B0;&#x90FD;&#x662F;&#x8BF4;&#x4F7F;&#x7528;zxing&#x7684;&#x5F00;&#x6E90;&#x5E93;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x5F3A;&#x5927;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x5F15;&#x7528;&#x8BE5;&#x9879;&#x76EE;&#x53EA;&#x8981;&#x7B80;&#x5355;&#x7684;&#x51E0;&#x6B65;&#x4EE3;&#x7801;&#x5C31;&#x80FD;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4E8C;&#x7EF4;&#x7801;&#x626B;&#x63CF;&#x4E0E;&#x751F;&#x6210;&#x7684;&#x6548;&#x679C;&#x3002;&#x8FD9;&#x91CC;&#x505A;&#x70B9;&#x7B14;&#x8BB0;&#x8BB0;&#x4E0B;&#xFF0C;&#x8FD8;&#x4E0D;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x6765;&#x5B66;&#x4E60;&#x4E0B;&#x3002;</p>\n<h2 id=\"&#x51C6;&#x5907;&#x5DE5;&#x4F5C;\"><a href=\"#&#x51C6;&#x5907;&#x5DE5;&#x4F5C;\" class=\"headerlink\" title=\"&#x51C6;&#x5907;&#x5DE5;&#x4F5C;\"></a>&#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h2><p>&#x5148;&#x4E0B;&#x8F7D;zxing&#x9879;&#x76EE;&#xFF0C;&#x4E0D;&#x8FC7;&#x63A8;&#x8350;&#x4E0B;&#x8F7D;&#x7CBE;&#x7B80;&#x7248;&#xFF0C;<strong>BarCodeTest</strong>&#x8FD9;&#x4E2A;&#x5C31;&#x8DB3;&#x591F;&#x5B9E;&#x73B0;&#x8BE5;&#x529F;&#x80FD;&#x4E86;&#x3002;&#x628A;&#x4E0B;&#x8F7D;&#x7684;&#x9879;&#x76EE;&#x6DFB;&#x52A0;&#x5230;&#x81EA;&#x5DF1;&#x9879;&#x76EE;&#x7684;&#x4F9D;&#x8D56;&#x4E2D;&#xFF0C;&#x5F15;&#x7528;&#x8BE5;&#x9879;&#x76EE;&#x3002;&#x5982;&#x4F55;&#x6DFB;&#x52A0;Module&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x90FD;&#x80FD;&#x81EA;&#x5DF1;&#x89E3;&#x51B3;&#x3002;&#x4E0B;&#x9762;&#x8FDB;&#x884C;&#x5B9E;&#x73B0;&#x64CD;&#x4F5C;&#x3002;</p>\n<h2 id=\"&#x626B;&#x63CF;&#x4E8C;&#x7EF4;&#x7801;\"><a href=\"#&#x626B;&#x63CF;&#x4E8C;&#x7EF4;&#x7801;\" class=\"headerlink\" title=\"&#x626B;&#x63CF;&#x4E8C;&#x7EF4;&#x7801;\"></a>&#x626B;&#x63CF;&#x4E8C;&#x7EF4;&#x7801;</h2><p>&#x56E0;&#x4E3A;&#x662F;&#x5F15;&#x7528;&#x522B;&#x4EBA;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x80FD;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528;&#x522B;&#x4EBA;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x7C7B;&#x6765;&#x5B9E;&#x73B0;&#x8BE5;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x91CC;&#x7528;&#x5230;&#x7684;&#x4E3B;&#x8981;&#x662F;<strong>CaptureActivit</strong>&#x7C7B;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x8981;&#x626B;&#x63CF;&#x65F6;&#x8DF3;&#x8F6C;&#x5230;&#x8BE5;&#x7C7B;&#x5F00;&#x542F;&#x626B;&#x63CF;&#x529F;&#x80FD;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//&#x6253;&#x5F00;&#x626B;&#x63CF;&#x754C;&#x9762;&#x626B;&#x63CF;&#x6761;&#x5F62;&#x7801;&#x6216;&#x4E8C;&#x7EF4;&#x7801;</span><br><span class=\"line\">Intent openCameraIntent = new Intent(BarCodeTestActivity.this,CaptureActivity.class);</span><br><span class=\"line\">\t\t\t\tstartActivityForResult(openCameraIntent, 0);</span><br></pre></td></tr></table></figure>\n<p>&#x91CD;&#x5199;<strong>onActivityResult</strong>&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x8FC7;<strong>TextView</strong>&#x663E;&#x793A;&#x51FA;&#x626B;&#x63CF;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">\tprotected void onActivityResult(int requestCode, int resultCode, Intent data) {</span><br><span class=\"line\">\t\tsuper.onActivityResult(requestCode, resultCode, data);</span><br><span class=\"line\">\t\t//&#x5904;&#x7406;&#x626B;&#x63CF;&#x7ED3;&#x679C;&#xFF08;&#x5728;&#x754C;&#x9762;&#x4E0A;&#x663E;&#x793A;&#xFF09;</span><br><span class=\"line\">\t\tif (resultCode == RESULT_OK) {</span><br><span class=\"line\">\t\t\tBundle bundle = data.getExtras();</span><br><span class=\"line\">\t\t\tString scanResult = bundle.getString(&quot;result&quot;);</span><br><span class=\"line\">\t\t\tresultTextView.setText(scanResult);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t}</span><br></pre></td></tr></table></figure>\n<p>&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x901A;&#x8FC7;<strong>bundle.getString(&#x201C;result&#x201D;)</strong>&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x626B;&#x63CF;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;<strong>CaptureActivity</strong>&#x4E2D;&#x7684;<strong>handleDecode</strong>&#x5DF2;&#x7ECF;&#x5BF9;&#x5176;&#x505A;&#x4E86;&#x5904;&#x7406;:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public void handleDecode(Result result, Bitmap barcode) {</span><br><span class=\"line\">\t\tinactivityTimer.onActivity();</span><br><span class=\"line\">\t\tplayBeepSoundAndVibrate();</span><br><span class=\"line\">\t\tString resultString = result.getText();</span><br><span class=\"line\">\t\t//FIXME</span><br><span class=\"line\">\t\tif (resultString.equals(&quot;&quot;)) {</span><br><span class=\"line\">\t\t\tToast.makeText(CaptureActivity.this, &quot;Scan failed!&quot;, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">\t\t}else {</span><br><span class=\"line\">//\t\t\tSystem.out.println(&quot;Result:&quot;+resultString);</span><br><span class=\"line\">\t\t\tIntent resultIntent = new Intent();</span><br><span class=\"line\">\t\t\tBundle bundle = new Bundle();</span><br><span class=\"line\">\t\t\tbundle.putString(&quot;result&quot;, resultString);</span><br><span class=\"line\">\t\t\tresultIntent.putExtras(bundle);</span><br><span class=\"line\">\t\t\tthis.setResult(RESULT_OK, resultIntent);</span><br><span class=\"line\">\t\t}</span><br><span class=\"line\">\t\tCaptureActivity.this.finish();</span><br><span class=\"line\">\t}</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x626B;&#x63CF;&#x7684;&#x529F;&#x80FD;&#x5230;&#x8FD9;&#x91CC;&#x5C31;&#x7ED3;&#x675F;&#x4E86;</em></p>\n</blockquote>\n<h2 id=\"&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;\"><a href=\"#&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;\" class=\"headerlink\" title=\"&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;\"></a>&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;</h2><p>&#x8FD9;&#x91CC;&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x662F;&#x8981;&#x8C03;&#x7528;&#x8BE5;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x7684;<strong>EncodingHandler</strong>&#x7684;<strong>createQRCode</strong>&#x65B9;&#x6CD5;&#x751F;&#x6210;Bitmap&#x5BF9;&#x8C61;,&#x901A;&#x8FC7;ImageView&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">try {</span><br><span class=\"line\">                    String contentString = qrStrEditText.getText().toString();</span><br><span class=\"line\">                    if (!contentString.equals(&quot;&quot;)) {</span><br><span class=\"line\">                        //&#x6839;&#x636E;&#x5B57;&#x7B26;&#x4E32;&#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;&#x56FE;&#x7247;&#x5E76;&#x663E;&#x793A;&#x5728;&#x754C;&#x9762;&#x4E0A;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x56FE;&#x7247;&#x7684;&#x5927;&#x5C0F;&#xFF08;450*450&#xFF09;</span><br><span class=\"line\">                        Bitmap qrCodeBitmap = EncodingHandler.createQRCode(contentString, 450);</span><br><span class=\"line\">                        qrImgImageView.setImageBitmap(qrCodeBitmap);</span><br><span class=\"line\">                    } else {</span><br><span class=\"line\">                        Toast.makeText(BarCodeTestActivity.this, &quot;Text can not be empty&quot;, Toast.LENGTH_SHORT).show();</span><br><span class=\"line\">                    }</span><br><span class=\"line\">                } catch (WriterException e) {</span><br><span class=\"line\">                    // TODO Auto-generated catch block</span><br><span class=\"line\">                    e.printStackTrace();</span><br><span class=\"line\">                }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x662F;&#x4E0D;&#x662F;&#x611F;&#x89C9;&#x592A;&#x7B80;&#x5355;&#x4E86;&#xFF0C;&#x6CA1;&#x9519;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#xFF0C;&#x5176;&#x5B9E;&#x521A;&#x5F00;&#x59CB;&#x4E86;&#x89E3;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x60CA;&#x5446;&#x4E86;&#xFF0C;&#x4E0D;&#x7981;&#x611F;&#x53F9;&#x5F00;&#x6E90;&#x771F;&#x662F;&#x725B;&#x53C9;&#x554A;&#xFF01;</em></p>\n</blockquote>\n<h2 id=\"&#x754C;&#x9762;&#x4FEE;&#x6539;\"><a href=\"#&#x754C;&#x9762;&#x4FEE;&#x6539;\" class=\"headerlink\" title=\"&#x754C;&#x9762;&#x4FEE;&#x6539;\"></a>&#x754C;&#x9762;&#x4FEE;&#x6539;</h2><p>&#x5176;&#x5B9E;&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x5B9E;&#x73B0;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#x529F;&#x80FD;&#x662F;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x4F46;&#x754C;&#x9762;&#x771F;&#x662F;&#x770B;&#x4E0D;&#x8FC7;&#x53BB;&#x4E86;&#xFF0C;&#x611F;&#x89C9;&#x77AC;&#x95F4;&#x56DE;&#x5230;&#x4E86;&#x89E3;&#x653E;&#x524D;&#x4F3C;&#x5F97;&#xFF0C;&#x6709;&#x6728;&#x6709;&#x8FD9;&#x79CD;&#x611F;&#x89C9;&#x3002;&#x770B;&#x591A;&#x4E86;&#x5FAE;&#x4FE1;&#x7684;&#x4E8C;&#x7EF4;&#x7801;&#x626B;&#x63CF;&#xFF0C;&#x4E00;&#x4E0B;&#x770B;&#x8FD9;&#x4E48;low&#x6211;&#x5B9E;&#x5728;&#x662F;&#x770B;&#x4E0D;&#x60EF;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x505A;&#x4E0B;&#x4FEE;&#x6539;&#x3002;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x627E;&#x5230;<strong>CameraManager</strong>&#x7C7B;&#xFF0C;&#x5728;&#x8BE5;&#x7C7B;&#x4E2D;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x662F;&#x4FEE;&#x6539;&#x4E0B;&#x626B;&#x63CF;&#x6846;&#x7684;&#x5927;&#x5C0F;&#xFF08;&#x539F;&#x6765;&#x7684;&#x5B9E;&#x5728;&#x662F;&#x611F;&#x89C9;&#x592A;&#x5C0F;&#x6C14;&#x4E86;&#xFF09;&#x628A;&#x76F8;&#x5E94;&#x7684;&#x53C2;&#x6570;&#x6539;&#x5927;&#x70B9;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x6211;&#x81EA;&#x5DF1;&#x4FEE;&#x6539;&#x7684;&#x5927;&#x5C0F;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private static final int MIN_FRAME_WIDTH = 400;</span><br><span class=\"line\">private static final int MIN_FRAME_HEIGHT = 400;</span><br><span class=\"line\">private static final int MAX_FRAME_WIDTH = 600;</span><br><span class=\"line\">private static final int MAX_FRAME_HEIGHT = 600;</span><br></pre></td></tr></table></figure>\n<p>&#x4E0B;&#x9762;&#x8981;&#x8BE5;&#x7684;&#x5C31;&#x662F;&#x6DFB;&#x52A0;&#x8DDF;&#x5FAE;&#x4FE1;&#x4E00;&#x6837;&#x7684;&#x79FB;&#x52A8;&#x6FC0;&#x5149;&#x6761;&#x3001;&#x56DB;&#x4E2A;&#x89D2;&#x7684;&#x7B80;&#x5355;&#x88C5;&#x9970;&#x4E0E;&#x6587;&#x5B57;&#x663E;&#x793A;&#x3002;&#x6211;&#x4EEC;&#x8981;&#x627E;&#x5230;<strong>ViewfinderView</strong>&#x7C7B;&#xFF0C;&#x5728;<strong>onDraw</strong>&#x65B9;&#x6CD5;&#x4E2D;&#x505A;&#x7ED8;&#x5236;&#x7684;&#x4FEE;&#x6539;&#x3002;&#x9996;&#x5148;&#x628A;&#x539F;&#x6765;&#x7684;&#x63CF;&#x8FB9;&#x7684;&#x989C;&#x8272;&#x6539;&#x6210;&#x7070;&#x8272;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">paint.setColor(Color.GRAY);</span><br><span class=\"line\">      canvas.drawRect(frame.left, frame.top, frame.right + 1, frame.top + 2, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.left, frame.top + 2, frame.left + 2, frame.bottom - 1, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.right - 1, frame.top, frame.right + 1, frame.bottom - 1, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.left, frame.bottom - 1, frame.right + 1, frame.bottom + 1, paint);</span><br></pre></td></tr></table></figure>\n<p>&#x9ED8;&#x8BA4;&#x4E3A;&#x7EFF;&#x8272;&#xFF0C;&#x56E0;&#x4E3A;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x8981;&#x753B;&#x8DDF;&#x5FAE;&#x4FE1;&#x4E00;&#x6837;&#x7684;&#x7EFF;&#x8272;&#x7684;&#x56DB;&#x4E2A;&#x89D2;&#xFF0C;&#x989C;&#x8272;&#x4E00;&#x6837;&#x5C31;&#x6709;&#x70B9;&#x4E0D;&#x534F;&#x8C03;&#x4E86;&#x3002;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//&#x753B;&#x626B;&#x63CF;&#x6846;&#x7684;&#x56DB;&#x4E2A;&#x88C5;&#x9970;&#x89D2;</span><br><span class=\"line\">      paint.setColor(FRAME_COLOR);</span><br><span class=\"line\">      canvas.drawRect(frame.left, frame.top, frame.left + FRAME_WIDTH, frame.top + FRAME_HEIGHT, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.left, frame.top, frame.left + FRAME_HEIGHT, frame.top + FRAME_WIDTH, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.right - FRAME_WIDTH, frame.top, frame.right, frame.top + FRAME_HEIGHT, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.right - FRAME_HEIGHT, frame.top, frame.right, frame.top + FRAME_WIDTH, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.right - FRAME_HEIGHT, frame.bottom - FRAME_WIDTH, frame.right, frame.bottom, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.right - FRAME_WIDTH, frame.bottom - FRAME_HEIGHT, frame.right, frame.bottom, paint);</span><br><span class=\"line\">      canvas.drawRect(frame.left,frame.bottom-FRAME_WIDTH,frame.left+FRAME_HEIGHT,frame.bottom,paint);</span><br><span class=\"line\">      canvas.drawRect(frame.left,frame.bottom-FRAME_HEIGHT,frame.left+FRAME_WIDTH,frame.bottom,paint);</span><br></pre></td></tr></table></figure>\n<p>&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x7684;&#x6839;&#x636E;<strong>frame</strong>&#x7684;<strong>top</strong>&#x3001;<strong>left</strong>&#x3001;<strong>right</strong>&#x4E0E;<strong>bottom</strong>&#x53C2;&#x6570;&#x6765;&#x7ED8;&#x5236;&#xFF0C;&#x6BCF;&#x4E2A;&#x89D2;&#x8981;&#x7ED8;&#x5236;&#x4E24;&#x6B21;&#x3002;<strong>FRAME_HEIGHT</strong>&#x4E0E;<strong>FRAME_WIDTH</strong>&#x5206;&#x522B;&#x4E3A;&#x81EA;&#x5DF1;&#x8BBE;&#x7F6E;&#x7684;&#x89D2;&#x7684;&#x5BBD;&#x9AD8;&#x3002;&#x53EF;&#x4EE5;&#x62FF;&#x5FAE;&#x4FE1;&#x7684;&#x5BF9;&#x7167;&#x3002;<br>&#x4E0B;&#x9762;&#x4FEE;&#x6539;&#x6FC0;&#x5149;&#x7EBF;&#xFF0C;&#x628A;&#x539F;&#x6765;&#x7684;&#x6FC0;&#x5149;&#x7ED8;&#x5236;&#x53BB;&#x6389;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//&#x521D;&#x59CB;&#x5316;laser</span><br><span class=\"line\">      if (!isStart){</span><br><span class=\"line\">        isStart = true;</span><br><span class=\"line\">        laserTop = frame.top;</span><br><span class=\"line\">        laserBottom = frame.bottom;</span><br><span class=\"line\">      }</span><br><span class=\"line\">//&#x7ED8;&#x5236;laser</span><br><span class=\"line\">      laserTop += LASER_SPEED;//&#x6BCF;&#x6B21;&#x7684;&#x79FB;&#x52A8;&#x8DDD;&#x79BB;</span><br><span class=\"line\">      if (laserTop &gt;= frame.bottom){</span><br><span class=\"line\">        laserTop = frame.top;</span><br><span class=\"line\">      }</span><br><span class=\"line\">      canvas.drawRect(frame.left + LASER_WIDTH, laserTop - LASER_WIDTH / 2, frame.right - LASER_WIDTH, laserTop + LASER_WIDTH / 2, paint);</span><br><span class=\"line\">      //&#x66F4;&#x65B0;laser&#x5B9E;&#x73B0;&#x79FB;&#x52A8;</span><br><span class=\"line\">      postInvalidateDelayed(ANIMATION_DELAY, frame.left, frame.top, frame.right, frame.bottom);</span><br></pre></td></tr></table></figure>\n<p>&#x81F3;&#x4E8E;&#x6587;&#x5B57;&#x7684;&#x7ED8;&#x5236;&#x4E5F;&#x662F;&#x54CD;&#x5E94;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x627E;&#x5230;&#x8981;&#x7ED8;&#x5236;&#x7684;&#x5750;&#x6807;&#xFF0C;&#x8C03;&#x7528;<strong>canvas.drawText</strong>&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x4E0D;&#x8FC7;&#x753B;&#x7B14;<strong>paint.setTextSize()</strong>&#x5355;&#x4F4D;&#x662F;px&#xFF08;&#x50CF;&#x7D20;&#xFF09;&#xFF0C;&#x8FD9;&#x70B9;&#x611F;&#x89C9;&#x6709;&#x70B9;&#x9EBB;&#x70E6;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x8FA8;&#x7387;&#x7684;&#x673A;&#x578B;&#x4E0B;&#x5B57;&#x4F53;&#x7684;&#x5927;&#x5C0F;&#x4F1A;&#x76F8;&#x5DEE;&#x5F88;&#x5927;&#x3002;&#x3002;&#x6709;&#x70B9;&#x86CB;&#x75BC;&#x3002;&#x5E0C;&#x671B;&#x6709;&#x597D;&#x7684;&#x89E3;&#x51B3;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x544A;&#x8BC9;&#x6211;&#x3002;</p>\n<h2 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h2><p><img src=\"/2016/04/16/Android&#x4E8C;&#x7EF4;&#x7801;&#x626B;&#x63CF;/1.gif\" alt=\"&#x6548;&#x679C;&#x56FE;\"></p>\n<blockquote>\n<p><em>&#x6587;&#x5B57;&#x6211;&#x6CA1;&#x6709;&#x8C03;&#xFF0C;&#x81EA;&#x5DF1;&#x53EF;&#x4EE5;&#x8C03;&#x4E0B;&#x3002;&#x6211;&#x662F;&#x6309;&#x6211;&#x624B;&#x673A;&#x5C45;&#x4E2D;&#x6765;&#x8C03;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;768 x 1280&#x7684;&#xFF0C;&#x6587;&#x5B57;&#x5B8C;&#x5168;&#x53D8;&#x6837;&#x4E86;&#x3002;&#x3002;&#x3002;</em> </p>\n</blockquote>\n"},{"title":"php与android的简单交互","url":"http://idisfkj.github.io/2016/04/09/php与android的简单交互/","content":"<h1 id=\"&#x524D;&#x8A00;\"><a href=\"#&#x524D;&#x8A00;\" class=\"headerlink\" title=\"&#x524D;&#x8A00;\"></a>&#x524D;&#x8A00;</h1><p><strong>web</strong>&#x5F00;&#x53D1;&#x6709;&#x524D;&#x6BB5;&#x4E0E;&#x540E;&#x7AEF;&#x4E4B;&#x5206;&#xFF0C;&#x5176;&#x5B9E;<strong>android</strong>&#x4E5F;&#x6709;&#x524D;&#x540E;&#x7AEF;&#x4E4B;&#x5206;&#x3002;<strong>android</strong>&#x5F00;&#x53D1;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x624B;&#x673A;<strong>App</strong>&#x7684;&#x524D;&#x7AEF;&#x3002;&#x4E00;&#x822C;&#x90FD;&#x662F;<strong>php+android</strong>&#x6216;&#x8005;<strong>jsp+android</strong>&#x5F00;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5408;&#x683C;&#x7684;<strong>android</strong>&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x6709;&#x5FC5;&#x8981;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;<strong>android</strong>&#x4E0E;&#x540E;&#x7AEF;&#x7684;&#x7B80;&#x5355;&#x4EA4;&#x4E92;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4EE5;<strong>php+android</strong>&#x4EA4;&#x4E92;&#x7684;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x3002;</p>\n<h2 id=\"PHP&#x6570;&#x636E;&#x63A5;&#x53E3;&#x7684;&#x5B9A;&#x4E49;\"><a href=\"#PHP&#x6570;&#x636E;&#x63A5;&#x53E3;&#x7684;&#x5B9A;&#x4E49;\" class=\"headerlink\" title=\"PHP&#x6570;&#x636E;&#x63A5;&#x53E3;&#x7684;&#x5B9A;&#x4E49;\"></a>PHP&#x6570;&#x636E;&#x63A5;&#x53E3;&#x7684;&#x5B9A;&#x4E49;</h2><p><strong>php</strong>&#x7AEF;&#x7684;&#x5F00;&#x53D1;&#x4E3B;&#x8981;&#x662F;&#x5B9E;&#x73B0;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6570;&#x636E;&#x5236;&#x5B9A;&#x6210;<strong>json</strong>&#x7C7B;&#x578B;&#xFF0C;&#x5236;&#x5B9A;&#x4F9B;<strong>android</strong>&#x83B7;&#x53D6;&#x7684;&#x63A5;&#x53E3;&#x3002;&#x81F3;&#x4E8E;&#x4E3A;&#x4EC0;&#x4E48;&#x5236;&#x5B9A;&#x6210;json&#x7C7B;&#x578B;&#xFF0C;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x90FD;&#x660E;&#x767D;&#xFF0C;&#x73B0;&#x5728;<strong>android</strong>&#x7AEF;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x83B7;&#x53D6;&#x7684;&#x6570;&#x636E;&#x90FD;&#x662F;&#x4EE5;<strong>json</strong>&#x7684;&#x683C;&#x5F0F;&#x5C01;&#x88C5;&#x7684;&#x3002;&#x597D;&#x4E86;&#x4E0B;&#x9762;&#x5F00;&#x59CB;&#x64CD;&#x4F5C;&#x3002;</p>\n<h3 id=\"&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x5EFA;&#x7ACB;\"><a href=\"#&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x5EFA;&#x7ACB;\" class=\"headerlink\" title=\"&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x5EFA;&#x7ACB;\"></a>&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x5EFA;&#x7ACB;</h3><p>&#x9996;&#x5148;&#x5EFA;&#x8868;&#x5B9A;&#x4E49;&#x597D;&#x63D0;&#x4F9B;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7B80;&#x5355;&#x70B9;&#xFF0C;&#x4E0A;&#x5F20;&#x56FE;&#xFF1A;</p>\n<p><img src=\"/2016/04/09/php&#x4E0E;android&#x7684;&#x7B80;&#x5355;&#x4EA4;&#x4E92;/1.png\" alt=\"iamge\"></p>\n<h3 id=\"&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;\"><a href=\"#&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;\" class=\"headerlink\" title=\"&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;\"></a>&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;</h3><p>&#x5EFA;&#x5B8C;&#x8868;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x5F00;&#x59CB;&#x5728;<strong>PHP</strong>&#x4E2D;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4EE5;<strong>pdo</strong>&#x7684;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x4E3A;&#x4F8B;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\">/**</span><br><span class=\"line\"> * &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;</span><br><span class=\"line\"> */</span><br><span class=\"line\"></span><br><span class=\"line\">try{</span><br><span class=\"line\">    $pdo = new PDO(&quot;mysql:host=localhost:3306;dbname=blog;&quot;,&quot;root&quot;,&quot;666666&quot;);</span><br><span class=\"line\">    //&#x8BBE;&#x7F6E;&#x7F16;&#x7801;</span><br><span class=\"line\">    $pdo-&gt;exec(&quot;set names utf8&quot;);</span><br><span class=\"line\">}catch(PDOException $e){</span><br><span class=\"line\">    die(&quot;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5931;&#x8D25;&quot;.$e-&gt;getMessage());</span><br><span class=\"line\">}</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<p>&#x53EA;&#x8981;&#x4F20;&#x5165;&#x672C;&#x5730;&#x7AEF;&#x53E3;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x540D;&#xFF0C;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x5BC6;&#x7801;&#x5373;&#x53EF;&#x3002;</p>\n<h3 id=\"&#x83B7;&#x53D6;&#x4E0E;&#x5236;&#x5B9A;json\"><a href=\"#&#x83B7;&#x53D6;&#x4E0E;&#x5236;&#x5B9A;json\" class=\"headerlink\" title=\"&#x83B7;&#x53D6;&#x4E0E;&#x5236;&#x5B9A;json\"></a>&#x83B7;&#x53D6;&#x4E0E;&#x5236;&#x5B9A;json</h3><p>&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x904D;&#x5386;&#x8868;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x6570;&#x636E;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$sql = &quot;SELECT * FROM blog&quot;;</span><br></pre></td></tr></table></figure>\n<p>&#x67E5;&#x8BE2;&#x4E0E;&#x904D;&#x5386;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$stmt = $pdo-&gt;query($sql);</span><br><span class=\"line\">while($row = $stmt-&gt;fetch(PDO::FETCH_ASSOC)){</span><br><span class=\"line\">    $list[&quot;blog&quot;][] = $row;</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x6700;&#x540E;&#x5C06;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x5C01;&#x88C5;&#x6210;json&#x7C7B;&#x578B;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">print_r(json_encode($list));</span><br></pre></td></tr></table></figure>\n<p>&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x540E;&#x7684;&#x6570;&#x636E;&#x5C31;&#x662F;json&#x7C7B;&#x578B;&#x4E86;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x8BBF;&#x95EE;&#x7684;&#x662F;&#xFF1A;<a href=\"http://192.168.56.1/WebBlog/json/getBlogJson.php&quot;&#xFF08;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x672C;&#x673A;&#x7684;ip&#x5730;&#x5740;&#x4E0E;&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF09;\" target=\"_blank\" rel=\"external\">http://192.168.56.1/WebBlog/json/getBlogJson.php&quot;&#xFF08;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x672C;&#x673A;&#x7684;ip&#x5730;&#x5740;&#x4E0E;&#x9879;&#x76EE;&#x5730;&#x5740;&#xFF09;</a><br><img src=\"/2016/04/09/php&#x4E0E;android&#x7684;&#x7B80;&#x5355;&#x4EA4;&#x4E92;/2.png\" alt=\"iamge\"></p>\n<blockquote>\n<p><em>&#x597D;&#x4E86;PHP&#x7AEF;&#x7684;&#x5C31;&#x53EF;&#x4EE5;&#x5230;&#x8FD9;&#x91CC;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x4E0B;&#x9762;&#x8FDB;&#x5165;android&#x7AEF;</em></p>\n</blockquote>\n<h2 id=\"Android&#x7AEF;&#x6570;&#x636E;&#x83B7;&#x53D6;\"><a href=\"#Android&#x7AEF;&#x6570;&#x636E;&#x83B7;&#x53D6;\" class=\"headerlink\" title=\"Android&#x7AEF;&#x6570;&#x636E;&#x83B7;&#x53D6;\"></a>Android&#x7AEF;&#x6570;&#x636E;&#x83B7;&#x53D6;</h2><p><strong>Android</strong>&#x7AEF;&#x4E3B;&#x8981;&#x7684;&#x662F;<strong>json</strong>&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x5EFA;&#x7ACB;&#x4E0E;&#x4ECE;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x5B9A;&#x4E49;&#x7684;&#x501F;&#x53E3;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x8981;&#x7528;&#x5230;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#xFF0C;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x4E0B;&#x9762;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x4E0B;&#x3002;</p>\n<h3 id=\"Json&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x5B9A;&#x4E49;\"><a href=\"#Json&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x5B9A;&#x4E49;\" class=\"headerlink\" title=\"Json&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x5B9A;&#x4E49;\"></a>Json&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x5B9A;&#x4E49;</h3><p>&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x63A8;&#x8350;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x628A;<strong>GsonFormat</strong>&#x96C6;&#x6210;&#x5230;<strong>AS</strong>&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x751F;&#x6210;&#x5B9E;&#x4F53;&#x7C7B;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x8981;&#x6839;&#x636E;&#x524D;&#x9762;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6765;&#x8FDB;&#x884C;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x6211;&#x6309;&#x4E0A;&#x9762;&#x7684;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private List&lt;BlogBean&gt; blog;</span><br><span class=\"line\"></span><br><span class=\"line\">public List&lt;BlogBean&gt; getBlog() {</span><br><span class=\"line\">    return blog;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">public void setBlog(List&lt;BlogBean&gt; blog) {</span><br><span class=\"line\">    this.blog = blog;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">public static class BlogBean {</span><br><span class=\"line\">    private String id;</span><br><span class=\"line\">    private String title;</span><br><span class=\"line\">    private String time;</span><br><span class=\"line\">    private String content_url;</span><br><span class=\"line\">    private String image_url;</span><br><span class=\"line\"></span><br><span class=\"line\">    public String getId() {</span><br><span class=\"line\">        return id;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public void setId(String id) {</span><br><span class=\"line\">        this.id = id;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public String getTitle() {</span><br><span class=\"line\">        return title;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public void setTitle(String title) {</span><br><span class=\"line\">        this.title = title;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public String getTime() {</span><br><span class=\"line\">        return time;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public void setTime(String time) {</span><br><span class=\"line\">        this.time = time;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public String getContent_url() {</span><br><span class=\"line\">        return content_url;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public void setContent_url(String content_url) {</span><br><span class=\"line\">        this.content_url = content_url;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public String getImage_url() {</span><br><span class=\"line\">        return image_url;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public void setImage_url(String image_url) {</span><br><span class=\"line\">        this.image_url = image_url;</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<h3 id=\"&#x81EA;&#x5B9A;&#x4E49;GsonRequest\"><a href=\"#&#x81EA;&#x5B9A;&#x4E49;GsonRequest\" class=\"headerlink\" title=\"&#x81EA;&#x5B9A;&#x4E49;GsonRequest\"></a>&#x81EA;&#x5B9A;&#x4E49;GsonRequest</h3><p>&#x6211;&#x4EEC;&#x4F7F;&#x7528;<strong>volley</strong>&#x4E0E;<strong>gson</strong>&#x6765;&#x89E3;&#x6790;<strong>json</strong>&#x6570;&#x636E;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x5148;&#x81EA;&#x5B9A;&#x4E49;<strong>GsonRequest</strong>&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x7EE7;&#x627F;<strong>volley</strong>&#x7684;<strong>Request</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class GsonRequest&lt;T&gt; extends Request&lt;T&gt; {</span><br><span class=\"line\"></span><br><span class=\"line\">    private Class&lt;T&gt; mClass;</span><br><span class=\"line\">    private final Response.Listener&lt;T&gt; mListener;</span><br><span class=\"line\">    private Gson mGson;</span><br><span class=\"line\">    private List&lt;T&gt; mList;</span><br><span class=\"line\"></span><br><span class=\"line\">    public GsonRequest(int method, String url, Class&lt;T&gt; tClass, Response.Listener&lt;T&gt; listener, Response.ErrorListener errorListener) {</span><br><span class=\"line\">        super(method, url, errorListener);</span><br><span class=\"line\">        mClass = tClass;</span><br><span class=\"line\">        mListener = listener;</span><br><span class=\"line\">        mGson = new Gson();</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public GsonRequest(String url, Class&lt;T&gt; tClass, Response.Listener&lt;T&gt; listener, Response.ErrorListener errorListener) {</span><br><span class=\"line\">        this(Method.GET, url, tClass, listener, errorListener);</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    protected Response&lt;T&gt; parseNetworkResponse(NetworkResponse networkResponse) {</span><br><span class=\"line\">        try {</span><br><span class=\"line\">            mList = new ArrayList&lt;&gt;();</span><br><span class=\"line\">            String jsonString = new String(networkResponse.data,</span><br><span class=\"line\">                    HttpHeaderParser.parseCharset(networkResponse.headers));</span><br><span class=\"line\">            return Response.success(mGson.fromJson(jsonString, mClass),</span><br><span class=\"line\">                    HttpHeaderParser.parseCacheHeaders(networkResponse));</span><br><span class=\"line\">        } catch (UnsupportedEncodingException e) {</span><br><span class=\"line\">            return Response.error(new ParseError(e));</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    protected void deliverResponse(T t) {</span><br><span class=\"line\">        mListener.onResponse(t);</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<h3 id=\"Volley&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6570;&#x636E;\"><a href=\"#Volley&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6570;&#x636E;\" class=\"headerlink\" title=\"Volley&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6570;&#x636E;\"></a>Volley&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x6570;&#x636E;</h3><p>&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x81EA;&#x5B9A;&#x4E49;&#x7684;<strong>GsonRequest</strong>&#x6765;&#x8BF7;&#x6C42;&#x6570;&#x636E;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String url = &quot;http://192.168.56.1/WebBlog/json/getBlogJson.php&quot;;</span><br><span class=\"line\">        GsonRequest&lt;BlogInfo&gt; gsonRequest = new GsonRequest&lt;BlogInfo&gt;(url, BlogInfo.class, new Response.Listener&lt;BlogInfo&gt;() {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onResponse(BlogInfo info) {</span><br><span class=\"line\">                mList = info.getBlog();</span><br><span class=\"line\">                BlogAdapter mAdapter = new BlogAdapter(MainActivity.this,mList,R.layout.blog_item);</span><br><span class=\"line\">                blogLv.setAdapter(mAdapter);</span><br><span class=\"line\">            }</span><br><span class=\"line\">        }, new Response.ErrorListener() {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onErrorResponse(VolleyError volleyError) {</span><br><span class=\"line\">                Log.e(&quot;TAG&quot;, volleyError.getMessage(), volleyError);</span><br><span class=\"line\"></span><br><span class=\"line\">            }</span><br><span class=\"line\">        });</span><br><span class=\"line\">        //&#x6DFB;&#x52A0;&#x5230;&#x8BF7;&#x6C42;&#x961F;&#x5217;&#x4E2D;</span><br><span class=\"line\">        RequestManager.addRequest(gsonRequest, &quot;blogRequest&quot;);</span><br></pre></td></tr></table></figure>\n<p>&#x6570;&#x636E;&#x5728;<strong>onResponse</strong>&#x4E2D;&#x8BF7;&#x6C42;&#x5230;&#x4E86;&#xFF0C;&#x5B58;&#x50A8;&#x5230;<strong>List</strong>&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;<strong>adapter</strong>&#x663E;&#x793A;&#x83B7;&#x53D6;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;adapter&#x7684;&#x4F7F;&#x7528;</p>\n<h3 id=\"&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x56FE;&#x7247;&#x4E0E;&#x7F13;&#x5B58;\"><a href=\"#&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x56FE;&#x7247;&#x4E0E;&#x7F13;&#x5B58;\" class=\"headerlink\" title=\"&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x56FE;&#x7247;&#x4E0E;&#x7F13;&#x5B58;\"></a>&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x56FE;&#x7247;&#x4E0E;&#x7F13;&#x5B58;</h3><p>&#x8FD8;&#x662F;&#x8BF4;&#x4E0B;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x56FE;&#x7247;&#x4E0E;&#x56FE;&#x7247;&#x7684;&#x7F13;&#x5B58;&#x5904;&#x7406;&#xFF0C;&#x4E5F;&#x662F;&#x901A;&#x8FC7;<strong>volley</strong>&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E00;&#x5957;&#x7684;&#x4F7F;&#x7528;<strong>volley</strong>&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8BB8;&#x591A;&#x57FA;&#x672C;&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x3002;<br>&#x4F7F;&#x7528;&#x5230;&#x7684;&#x662F;<strong>LruCache</strong>&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x53EF;&#x4EE5;&#x7EE7;&#x627F;&#x5B83;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">protected int sizeOf(String key, Bitmap value) {</span><br><span class=\"line\">    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.HONEYCOMB_MR1){</span><br><span class=\"line\">        return value.getByteCount();</span><br><span class=\"line\">    }</span><br><span class=\"line\">    return value.getRowBytes() * value.getHeight();</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">@Override</span><br><span class=\"line\">public Bitmap getBitmap(String s) {</span><br><span class=\"line\">    return get(s);</span><br><span class=\"line\">}</span><br><span class=\"line\">   </span><br><span class=\"line\"></span><br><span class=\"line\">@Override</span><br><span class=\"line\">public void putBitmap(String s, Bitmap bitmap) {</span><br><span class=\"line\">    put(s,bitmap);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x7136;&#x540E;&#x518D;&#x81EA;&#x5B9A;&#x4E49;<strong>ImageCacheManager</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class ImageCacheManager {</span><br><span class=\"line\">    private static final int CACHE_SIZE = 1024 * 1024 * ((ActivityManager) App.getAppContext()</span><br><span class=\"line\">            .getSystemService(Context.ACTIVITY_SERVICE)).getMemoryClass() / 8;</span><br><span class=\"line\"></span><br><span class=\"line\">    public ImageCacheManager() {</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    private static ImageLoader mImageLoader = new ImageLoader(RequestManager.mRequestQueue, new BitmapLruCache(CACHE_SIZE));</span><br><span class=\"line\"></span><br><span class=\"line\">    public static ImageLoader.ImageContainer loadImage(String requestUrl, ImageLoader.ImageListener listener, int maxWidth, int maxHeight) {</span><br><span class=\"line\">        return mImageLoader.get(requestUrl, listener, maxWidth, maxHeight);</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public static ImageLoader.ImageContainer loadImage(String requestUrl, ImageLoader.ImageListener listener) {</span><br><span class=\"line\">        return loadImage(requestUrl, listener, 0, 0);</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public static ImageLoader.ImageListener getImageListener(final ImageView view, final Drawable defaultImageDrawable, final Drawable errorImageDrawable) {</span><br><span class=\"line\">        return new ImageLoader.ImageListener() {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onResponse(ImageLoader.ImageContainer imageContainer, boolean b) {</span><br><span class=\"line\">                if (imageContainer.getBitmap() != null) {</span><br><span class=\"line\">                    if (!b &amp;&amp; defaultImageDrawable != null) {</span><br><span class=\"line\">                        TransitionDrawable transitionDrawable = new TransitionDrawable(</span><br><span class=\"line\">                                new Drawable[]{defaultImageDrawable</span><br><span class=\"line\">                                        , new BitmapDrawable(App.getAppContext().getResources(), imageContainer.getBitmap())}</span><br><span class=\"line\">                        );</span><br><span class=\"line\">                        transitionDrawable.setCrossFadeEnabled(true);</span><br><span class=\"line\">                        view.setImageDrawable(transitionDrawable);</span><br><span class=\"line\">                        transitionDrawable.startTransition(100);</span><br><span class=\"line\">                    } else {</span><br><span class=\"line\">                        view.setImageBitmap(imageContainer.getBitmap());</span><br><span class=\"line\">                    }</span><br><span class=\"line\">                } else if (defaultImageDrawable != null) {</span><br><span class=\"line\">                    view.setImageDrawable(defaultImageDrawable);</span><br><span class=\"line\">                }</span><br><span class=\"line\">            }</span><br><span class=\"line\"></span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onErrorResponse(VolleyError volleyError) {</span><br><span class=\"line\">                if (errorImageDrawable != null) {</span><br><span class=\"line\">                    view.setImageDrawable(errorImageDrawable);</span><br><span class=\"line\">                }</span><br><span class=\"line\">                Log.e(&quot;TAG&quot;,volleyError.getMessage());</span><br><span class=\"line\">            }</span><br><span class=\"line\">        };</span><br><span class=\"line\">    }</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>&#x6700;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;<strong>ImageCacheManager</strong>&#x6765;&#x52A0;&#x8F7D;&#x7F51;&#x7EDC;&#x56FE;&#x7247;&#x4E0E;&#x7F13;&#x5B58;&#x56FE;&#x7247;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ImageCacheManager.loadImage(mList.get(position).getImage_url()</span><br><span class=\"line\">                , ImageCacheManager.getImageListener((ImageView) holder.getView(R.id.item_image)</span><br><span class=\"line\">                , App.getAppContext().getResources().getDrawable(R.drawable.blog_default), App.getAppContext().getResources().getDrawable(R.drawable.blog_default))</span><br><span class=\"line\">                ,0,0);</span><br></pre></td></tr></table></figure>\n<p>&#x5F53;&#x7136;<strong>volley</strong>&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;&#x4E0D;&#x6B62;&#x8FD9;&#x4E9B;&#xFF0C;&#x5C31;&#x62FF;&#x56FE;&#x7247;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD8;&#x6709;&#x76F4;&#x63A5;&#x4F7F;&#x7528;<strong>ImageRequest</strong>&#x4E0E;<strong>NetworkImageView</strong>&#xFF0C;&#x672C;&#x6765;&#x8FD8;&#x60F3;&#x8BF4;&#x70B9;<strong>webview</strong>&#x7684;&#x4E00;&#x70B9;&#x77E5;&#x8BC6;&#xFF0C;&#x4ECA;&#x5929;&#x6709;&#x70B9;&#x665A;&#xFF0C;&#x5728;&#x5BBF;&#x820D;&#x8981;&#x65AD;&#x7535;&#x65AD;&#x7F51;&#x4E86;&#xFF0C;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;&#x4E86;&#x3002;<br>&#x8FD8;&#x662F;&#x6267;&#x884C;&#x6211;&#x4E00;&#x8D2F;&#x7684;&#x505A;&#x6CD5;&#x4E0A;&#x5F20;&#x6548;&#x679C;&#x56FE;&#x5427;</p>\n<h2 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h2><p><img src=\"/2016/04/09/php&#x4E0E;android&#x7684;&#x7B80;&#x5355;&#x4EA4;&#x4E92;/3.gif\" alt=\"&#x6548;&#x679C;&#x56FE;\"></p>\n"},{"title":"pickerView的开源依赖","url":"http://idisfkj.github.io/2016/04/04/pickerView的开源依赖/","content":"<h1 id=\"&#x524D;&#x8A00;\"><a href=\"#&#x524D;&#x8A00;\" class=\"headerlink\" title=\"&#x524D;&#x8A00;\"></a>&#x524D;&#x8A00;</h1><p>&#x4E0A;&#x4E2A;&#x6708;&#x7684;&#x6ED1;&#x8F6E;&#x9009;&#x62E9;&#x5668;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x628A;&#x5B83;&#x4FEE;&#x6539;&#x4E86;&#x4E0B;&#xFF0C;&#x4E0A;&#x4F20;&#x5230;&#x4E86;&#x5F00;&#x6E90;&#x5E93;&#x4E2D;&#xFF0C;&#x65B9;&#x4FBF;&#x5927;&#x5BB6;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x4E0B;&#x9762;&#x8BF4;&#x4E0B;&#x7B80;&#x5355;&#x7684;&#x53D8;&#x5316;.</p>\n<h2 id=\"&#x5B9E;&#x4F8B;&#x5316;&#x7C7B;&#x7684;&#x6539;&#x53D8;\"><a href=\"#&#x5B9E;&#x4F8B;&#x5316;&#x7C7B;&#x7684;&#x6539;&#x53D8;\" class=\"headerlink\" title=\"&#x5B9E;&#x4F8B;&#x5316;&#x7C7B;&#x7684;&#x6539;&#x53D8;\"></a>&#x5B9E;&#x4F8B;&#x5316;&#x7C7B;&#x7684;&#x6539;&#x53D8;</h2><p>&#x539F;&#x5148;&#x662F;&#x4F7F;&#x7528;TextPicker&#x7C7B;&#x6765;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x73B0;&#x5728;&#x4FEE;&#x6539;&#x6210;MyPicker.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MyPicker picker = new MyPicker();</span><br></pre></td></tr></table></figure>\n<h2 id=\"&#x5BF9;&#x5916;&#x65B9;&#x6CD5;&#x7684;&#x589E;&#x5220;\"><a href=\"#&#x5BF9;&#x5916;&#x65B9;&#x6CD5;&#x7684;&#x589E;&#x5220;\" class=\"headerlink\" title=\"&#x5BF9;&#x5916;&#x65B9;&#x6CD5;&#x7684;&#x589E;&#x5220;\"></a>&#x5BF9;&#x5916;&#x65B9;&#x6CD5;&#x7684;&#x589E;&#x5220;</h2><ul>\n<li>&#x5220;&#x9664;&#x4E86;&#x539F;&#x6765;&#x7684;&#x83B7;&#x53D6;&#x786E;&#x5B9A;&#x63A7;&#x4EF6; getOK()&#x65B9;&#x6CD5;</li>\n<li>&#x589E;&#x52A0;&#x4E86;&#x663E;&#x793A;&#x6ED1;&#x8F6E;&#x9009;&#x62E9;&#x7684;&#x4E2A;&#x6570; setShowNum()&#x65B9;&#x6CD5;</li>\n<li>&#x589E;&#x52A0;&#x4E86;&#x5B8C;&#x6210;&#x76D1;&#x542C;&#x4E8B;&#x4EF6; setSelectedFinishListener()&#x65B9;&#x6CD5;</li>\n</ul>\n<h2 id=\"&#x4F7F;&#x7528;Demo\"><a href=\"#&#x4F7F;&#x7528;Demo\" class=\"headerlink\" title=\"&#x4F7F;&#x7528;Demo\"></a>&#x4F7F;&#x7528;Demo</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tp = new MyPicker(this);</span><br><span class=\"line\">        //init data</span><br><span class=\"line\">        initData();</span><br><span class=\"line\">        //loding data</span><br><span class=\"line\">        tp.setData(leftList, 1);</span><br><span class=\"line\">        tp.setData(middleList, 2);</span><br><span class=\"line\">        tp.setData(rightList, 3);</span><br><span class=\"line\">        //set title</span><br><span class=\"line\">        tp.setPickerTitle(getResources().getString(R.string.title_name));</span><br><span class=\"line\">        //set the default centered text</span><br><span class=\"line\">        //if not set,show centered text in the data</span><br><span class=\"line\">        tp.setMiddleText(5, 1);</span><br><span class=\"line\">        tp.setMiddleText(2, 2);</span><br><span class=\"line\">        tp.setMiddleText(25, 3);</span><br><span class=\"line\">        //redy</span><br><span class=\"line\">        tp.setPrepare();</span><br><span class=\"line\">        // default show three</span><br><span class=\"line\">//        tp.setShowNum(3);</span><br><span class=\"line\">        tp.setSelectedFinishListener(new MyPicker.SelectedFinishListener() {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onFinish() {</span><br><span class=\"line\">                leftText = String.valueOf(tp.getText(1));</span><br><span class=\"line\">                middleText = String.valueOf(tp.getText(2));</span><br><span class=\"line\">                rightText = String.valueOf(tp.getText(3));</span><br><span class=\"line\">                tv.setText(leftText+&quot;-&quot;+middleText+&quot;-&quot;+rightText);</span><br><span class=\"line\">                tp.dismiss();</span><br><span class=\"line\">            }</span><br><span class=\"line\">        });</span><br><span class=\"line\">        tp.showAtLocation(this.findViewById(R.id.main), Gravity.CENTER, 0, 0);</span><br></pre></td></tr></table></figure>\n<h2 id=\"&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;\"><a href=\"#&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;\" class=\"headerlink\" title=\"&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;\"></a>&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dependencies {</span><br><span class=\"line\">    compile &apos;com.idisfkj.picker:mypicker:1.2.1&apos;</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x73B0;&#x5728;&#x4F7F;&#x7528;&#x53EA;&#x8981;&#x5982;&#x4E0A;&#x4E00;&#x53E5;&#x4EE3;&#x7801;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x8BB8;&#x591A;</em></p>\n</blockquote>\n<h2 id=\"&#x7ED3;&#x8BED;\"><a href=\"#&#x7ED3;&#x8BED;\" class=\"headerlink\" title=\"&#x7ED3;&#x8BED;\"></a>&#x7ED3;&#x8BED;</h2><p>&#x5982;&#x679C;&#x8FD8;&#x60F3;&#x8981;&#x77E5;&#x9053;&#x5177;&#x4F53;&#x539F;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x6211;&#x539F;&#x6765;&#x7684;&#x6587;&#x7AE0;&#xFF1A;</p>\n<p><a href=\"http://idisfkj.github.io/2016/03/13/PickerView/\">&#x6ED1;&#x8F6E;&#x9009;&#x62E9;&#x5668;</a></p>\n<p>Github&#x94FE;&#x63A5;&#xFF1A;<a href=\"https://github.com/idisfkj/idisfkj.picker\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/idisfkj.picker</a><br>&#x6B22;&#x8FCE;Fork Star</p>\n"},{"title":"RecyclerView深入浅出","url":"http://idisfkj.github.io/2016/04/02/RecyclerView深入浅出/","content":"<h1 id=\"&#x524D;&#x8A00;\"><a href=\"#&#x524D;&#x8A00;\" class=\"headerlink\" title=\"&#x524D;&#x8A00;\"></a>&#x524D;&#x8A00;</h1><p><strong>RecyclerView</strong>&#x5DF2;&#x7ECF;&#x51FA;&#x6765;&#x597D;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x5BF9;&#x4E8E;&#x65B0;&#x63A5;&#x89E6;<strong>Android</strong>&#x7684;&#x5B66;&#x5458;&#x6765;&#x8BF4;&#x5927;&#x591A;&#x6570;&#x4F7F;&#x7528;&#x7684;&#x662F;<strong>ListView</strong>&#x4E0E;<strong>GridView</strong>&#xFF0C;&#x5BF9;&#x4E8E;<strong>RecyclerView</strong>&#x7684;&#x4F7F;&#x7528;&#x53EF;&#x80FD;&#x90FD;&#x4E0D;&#x662F;&#x5F88;&#x719F;&#x6089;&#xFF0C;&#x76F8;&#x4FE1;&#x8FD9;&#x7247;&#x6587;&#x7AE0;&#x80FD;&#x5F88;&#x597D;&#x7684;&#x5E26;&#x4F60;&#x8FDB;&#x53BB;<strong>RecyclerView</strong>&#x7684;&#x5927;&#x95E8;&#xFF0C;&#x5FEB;&#x901F;&#x4E86;&#x89E3;&#x4E0E;&#x638C;&#x63E1;&#x65B0;&#x6280;&#x672F;&#x3002;</p>\n<h2 id=\"&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;\"><a href=\"#&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;\" class=\"headerlink\" title=\"&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;\"></a>&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;</h2><p>&#x5927;&#x5BB6;&#x4F7F;&#x7528;<strong>ListView</strong>&#x4E0E;<strong>GridView</strong>&#x53EA;&#x8981;&#x5728;<strong>xml</strong>&#x4E2D;&#x5F15;&#x7528;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x6CA1;&#x9519;<strong>RecyclerView</strong>&#x4E5F;&#x662F;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x5728;&#x5F15;&#x7528;&#x524D;&#x8981;&#x5148;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;,&#x5728;&#x9879;&#x76EE;&#x7684;<strong>app</strong>&#x76EE;&#x5F55;&#x4E0B;&#x7684;<strong>build.gradl</strong>&#x7684;dependencies&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">compile &apos;com.android.support:recyclerview-v7:23.2.0&apos;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x5B8C;&#x4E86;&#x4E4B;&#x540E;&#x522B;&#x5FD8;&#x4E86;Sync Now</em></p>\n</blockquote>\n<h2 id=\"Adapter&#x53D8;&#x5316;\"><a href=\"#Adapter&#x53D8;&#x5316;\" class=\"headerlink\" title=\"Adapter&#x53D8;&#x5316;\"></a>Adapter&#x53D8;&#x5316;</h2><p>&#x65E2;&#x7136;&#x8981;&#x6709;<strong>ListView</strong>&#x4E0E;<strong>GridView</strong>&#x7684;&#x6548;&#x679C;&#x81EA;&#x7136;&#x4E0D;&#x80FD;&#x5C11;&#x4E86;<strong>adapter</strong>,&#x800C;<strong>RecyclerView</strong>&#x7684;<strong>adapter</strong>&#x4E3B;&#x8981;&#x6709;&#x4E24;&#x4E2A;&#x91CD;&#x5927;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x539F;&#x6765;<strong>adapter</strong>&#x4E2D;&#x7684;<strong>getView()</strong>&#x65B9;&#x6CD5;&#x53D6;&#x6D88;&#x4E86;&#xFF0C;&#x66FF;&#x6362;&#x6210;&#x4E86;<strong>onCreateViewHolder()</strong>&#x4E0E;<strong>onBindViewHolder()</strong>&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5206;&#x6210;&#x4E86;&#x4E24;&#x90E8;&#x5206;&#xFF0C;&#x4E00;&#x90E8;&#x5206;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x53E6;&#x4E00;&#x90E8;&#x5206;&#x7ED1;&#x5B9A;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x611F;&#x89C9;&#x5C42;&#x6B21;&#x66F4;&#x6E05;&#x6670;&#x4E86;&#x5462;&#xFF0C;&#x4E0B;&#x9762;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E4B;&#x4E24;&#x5927;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;&#x3002;</p>\n<h3 id=\"onCreateViewHolder\"><a href=\"#onCreateViewHolder\" class=\"headerlink\" title=\"onCreateViewHolder\"></a>onCreateViewHolder</h3><p>&#x8BF4;&#x767D;&#x4E86;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#xFF0C;&#x5728;&#x521B;&#x5EFA;&#x4E4B;&#x524D;&#x8981;&#x521B;&#x5EFA;&#x4E2A;<strong>ViewHolder</strong>&#x76F8;&#x4FE1;&#x5728;&#x539F;&#x6765;&#x7684;<strong>adapter</strong>&#x4E2D;&#x5E94;&#x8BE5;&#x6709;&#x4F7F;&#x7528;&#x8FC7;&#x5427;.&#x8FD9;&#x91CC;&#x7EE7;&#x627F;<strong>RecyclerView.ViewHolder</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static class NormalViewHolder extends RecyclerView.ViewHolder {</span><br><span class=\"line\">        @Bind(R.id.item_tv)</span><br><span class=\"line\">        TextView itemTv;</span><br><span class=\"line\">        public NormalViewHolder(View itemView) {</span><br><span class=\"line\">            super(itemView);</span><br><span class=\"line\">            ButterKnife.bind(this, itemView);</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<p>&#x7136;&#x540E;&#x5728;<strong>onCreateViewHolder</strong>&#x4E2D;&#x8C03;&#x7528;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">   public NormalViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {</span><br><span class=\"line\">       return new NormalViewHolder(mLayoutInflater.inflate(R.layout.item_text, parent, false));</span><br><span class=\"line\">   }</span><br></pre></td></tr></table></figure>\n<h3 id=\"onBindViewHolder\"><a href=\"#onBindViewHolder\" class=\"headerlink\" title=\"onBindViewHolder\"></a>onBindViewHolder</h3><p>&#x89C6;&#x56FE;&#x521B;&#x5EFA;&#x5B8C;&#x6BD5;&#x5C31;&#x662F;&#x7B80;&#x5355;&#x7684;&#x7ED1;&#x5B9A;&#x4E86;&#xFF0C;&#x4F7F;&#x7528;holder&#x5BF9;&#x63A7;&#x4EF6;&#x8FDB;&#x884C;&#x7ED1;&#x5B9A;&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">public void onBindViewHolder(NormalViewHolder holder, int position) {</span><br><span class=\"line\">    holder.itemTv.setText((CharSequence) mListData.get(position));</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<p>OK&#x4E86;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x611F;&#x89C9;&#x5F88;&#x7B80;&#x5355;&#x5462;&#xFF1F;&#x662F;&#x7684;&#x5C31;&#x662F;&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#xFF0C;&#x81F3;&#x4E8E;&#x8BBE;&#x7F6E;adapter&#x5C31;&#x4E0D;&#x8BF4;&#x4E86;&#x76F8;&#x4FE1;&#x4E4B;&#x540E;&#x7684;&#x6B65;&#x9AA4;&#x5927;&#x5BB6;&#x90FD;&#x4F1A;&#x4E86;&#x3002;</p>\n<h3 id=\"setLayoutManager\"><a href=\"#setLayoutManager\" class=\"headerlink\" title=\"setLayoutManager\"></a>setLayoutManager</h3><p>&#x4F60;&#x662F;&#x4E0D;&#x662F;&#x60F3;&#x8BF4;&#x5982;&#x4F55;&#x8BBE;&#x7F6E;&#x663E;&#x793A;&#x7684;&#x65B9;&#x5F0F;&#x662F;<strong>ListView</strong>&#x4E0E;<strong>GridView</strong>&#xFF0C;&#x8FD9;&#x4E2A;&#x5176;&#x5B9E;&#x66F4;&#x52A0;&#x7B80;&#x5355;&#x53EA;&#x9700;&#x4E00;&#x53E5;&#x4EE3;&#x7801;&#xFF0C;<strong>setLayoutManager()</strong>&#x5373;&#x53EF;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">switch (type) {</span><br><span class=\"line\">            case App.LINEAR_LAYOUT:</span><br><span class=\"line\">            \t//ListView</span><br><span class=\"line\">                recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));</span><br><span class=\"line\">                break;</span><br><span class=\"line\">            case App.GRID_LAYOUT:</span><br><span class=\"line\">            \t//GridView</span><br><span class=\"line\">                gridLayoutManager = new GridLayoutManager(getActivity(),3);</span><br><span class=\"line\">                recyclerView.setLayoutManager(gridLayoutManager);</span><br><span class=\"line\">                break;                </span><br><span class=\"line\">            case App.STAGGERED_GRID_LAYOUT:</span><br><span class=\"line\">            \t//Can customize the waterfall flow</span><br><span class=\"line\">                recyclerView.setLayoutManager(new StaggeredGridLayoutManager(2, OrientationHelper.VERTICAL));</span><br><span class=\"line\">                break;</span><br><span class=\"line\">            default:</span><br><span class=\"line\">                break;</span><br><span class=\"line\">        }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x8BBE;&#x7F6E;&#x4E86;&#x663E;&#x793A;&#x7684;&#x65B9;&#x5F0F;&#x540E;&#x518D;setAdapter()&#x5373;&#x53EF;,&#x6548;&#x679C;&#x56FE;&#x8FD8;&#x662F;&#x653E;&#x5230;&#x6700;&#x540E;&#x4E00;&#x8D77;&#x663E;&#x793A;&#x5427;</em></p>\n</blockquote>\n<h2 id=\"ListView&#x4E0E;GridView&#x5D4C;&#x5957;&#x6548;&#x679C;\"><a href=\"#ListView&#x4E0E;GridView&#x5D4C;&#x5957;&#x6548;&#x679C;\" class=\"headerlink\" title=\"ListView&#x4E0E;GridView&#x5D4C;&#x5957;&#x6548;&#x679C;\"></a>ListView&#x4E0E;GridView&#x5D4C;&#x5957;&#x6548;&#x679C;</h2><p>&#x5982;&#x679C;&#x8981;&#x5B9E;&#x73B0;&#x9996;&#x5C3E;&#x662F;<strong>ListView</strong>&#x5E03;&#x5C40;&#x6548;&#x679C;&#xFF0C;&#x4E2D;&#x95F4;&#x7684;<strong>GridView</strong>&#x6548;&#x679C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<strong>RecyclerView.Adapter</strong>&#x63D0;&#x4F9B;&#x7684;<strong>getItemViewType(int position)</strong>&#x65B9;&#x6CD5;&#xFF0C;&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x4E0E;<strong>ListView</strong>&#x7684;<strong>adapter</strong>&#x4E0D;&#x540C;&#x53EA;&#x6709;&#x8FD9;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x6CA1;&#x6709;<strong>getViewTypeCount() </strong>&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x9996;&#x5C3E;&#x8981;&#x663E;&#x793A;&#x7684;&#x884C;&#x6570;&#x6765;&#x63A7;&#x5236;&#x663E;&#x793A;&#x7684;&#x5E03;&#x5C40;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">    public int getItemViewType(int position) {</span><br><span class=\"line\">        mHeadCount = getHeadCount();</span><br><span class=\"line\">        mContentCount = getContentCount();</span><br><span class=\"line\">        mBottomCount = mHeadCount + mContentCount;</span><br><span class=\"line\">        if (mHeadCount &gt; position) {</span><br><span class=\"line\">            return App.LINEAR_LAYOUT;//ListView</span><br><span class=\"line\">        } else if (mBottomCount &lt;= position) {</span><br><span class=\"line\">            return App.STAGGERED_GRID_LAYOUT;//Can customize the waterfall flow</span><br><span class=\"line\">        } else {</span><br><span class=\"line\">            return App.GRID_LAYOUT;//GridView</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;viewtype&#x8FD4;&#x56DE;&#x4E0D;&#x540C;&#x7684;&#x5E03;&#x5C40;</em></p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {</span><br><span class=\"line\">        switch (viewType) {</span><br><span class=\"line\">            case App.LINEAR_LAYOUT:</span><br><span class=\"line\">                return onCreateHeadViewHolder(parent);</span><br><span class=\"line\">            case App.GRID_LAYOUT:</span><br><span class=\"line\">                return onCreateContentViewHolder(parent);</span><br><span class=\"line\">            case App.STAGGERED_GRID_LAYOUT:</span><br><span class=\"line\">                return onCreateBottomViewHolder(parent);</span><br><span class=\"line\">            default:</span><br><span class=\"line\">                return null;</span><br><span class=\"line\">        }</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<h2 id=\"RecyclerView&#x52A8;&#x753B;\"><a href=\"#RecyclerView&#x52A8;&#x753B;\" class=\"headerlink\" title=\"RecyclerView&#x52A8;&#x753B;\"></a>RecyclerView&#x52A8;&#x753B;</h2><p><strong>RecyclerView</strong>&#x7684;<strong>adapter</strong>&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684;&#x52A8;&#x753B;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x90E8;&#x5206;:</p>\n<ul>\n<li>notifyItemRemoved(int position)</li>\n<li>notifyItemInserted(int position)</li>\n<li>notifyItemChanged(int position)</li>\n<li>notifyItemRangeChanged(int positionStart,int itemCount)</li>\n</ul>\n<p>&#x53EA;&#x8981;&#x5728;&#x6570;&#x636E;&#x6539;&#x53D8;&#x65F6;&#x901A;&#x8FC7;<strong>adapter</strong>&#x8C03;&#x7528;&#x5C31;&#x884C;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@OnClick(R.id.item_tv)</span><br><span class=\"line\">       public void onClick() {</span><br><span class=\"line\">           if (getLayoutPosition() != 1) {</span><br><span class=\"line\">               animationAdapter.mListData.add(&quot;add&quot;+getLayoutPosition());</span><br><span class=\"line\">               animationAdapter.notifyItemInserted(getLayoutPosition());</span><br><span class=\"line\">           } else {</span><br><span class=\"line\">               animationAdapter.mListData.remove(getLayoutPosition());</span><br><span class=\"line\">               animationAdapter.notifyItemRemoved(getLayoutPosition());</span><br><span class=\"line\">           }</span><br><span class=\"line\">       }</span><br></pre></td></tr></table></figure>\n<p>&#x4F7F;&#x7528;<strong>recyclerView</strong>&#x7684;<strong>setItemAnimator()</strong>&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x52A8;&#x753B;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">recyclerView.setItemAnimator(new DefaultItemAnimator());</span><br></pre></td></tr></table></figure>\n<p>&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x52A8;&#x753B;&#xFF0C;&#x53EA;&#x8981;<strong>extends</strong> ItemAnimator&#x91CD;&#x5199;&#x51E0;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;&#x4E86;&#xFF0C;&#x8BFB;&#x8005;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x53BB;&#x8BD5;&#x8BD5;&#x3002;</p>\n<h2 id=\"RecyclerView&#x7684;CursorAdapter\"><a href=\"#RecyclerView&#x7684;CursorAdapter\" class=\"headerlink\" title=\"RecyclerView&#x7684;CursorAdapter\"></a>RecyclerView&#x7684;CursorAdapter</h2><p>&#x8BB2;&#x5230;&#x8FD9;&#x91CC;&#x4E86;&#x4F60;&#x53EF;&#x4EE5;&#x80FD;&#x4F1A;&#x8BA4;&#x4E3A;<strong>CursorAdapter</strong>&#x4E5F;&#x662F;&#x8DDF;&#x539F;&#x6765;&#x7684;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x4F46;&#x6211;&#x8981;&#x8BF4;&#x7684;&#x662F;<strong>RecyclerView</strong>&#x5E76;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x6709;&#x5173;&#x4E0E;<strong>CursorAdapter</strong>&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6240;&#x4EE5;&#x5F53;&#x6211;&#x4EEC;&#x8981;&#x4F7F;&#x7528;<strong>CursorAdapter</strong>&#x65F6;&#x8981;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;<strong>CursorAdapter</strong>&#x7684;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x611F;&#x89C9;&#x5934;&#x75DB;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x770B;&#x8D77;&#x6765;&#x786E;&#x5B9E;&#x6709;&#x70B9;&#x9EBB;&#x70E6;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x544A;&#x8BC9;&#x4F60;&#x4EEC;&#x5B9E;&#x73B0;&#x4E5F;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E48;&#x8BF4;&#x5462;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x4EFF;&#x9020;<strong>ListView</strong>&#x7684;<strong>CursorAdapter</strong>&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;</p>\n<h3 id=\"CursorFilter\"><a href=\"#CursorFilter\" class=\"headerlink\" title=\"CursorFilter\"></a>CursorFilter</h3><p>&#x8FD9;&#x4E2A;&#x662F;<strong>Cursor</strong>&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x6211;&#x4EEC;&#x65E0;&#x9700;&#x505A;&#x4EC0;&#x4E48;&#xFF0C;&#x627E;&#x5230;<strong>ListView</strong>&#x7684;<strong>CursorFilter</strong>&#x590D;&#x5236;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4EE3;&#x7801;&#x6CA1;&#x4EC0;&#x4E48;&#x8D34;&#x7684;&#xFF0C;&#x90FD;&#x662F;&#x6E90;&#x7801;&#xFF0C;&#x81EA;&#x5DF1;&#x53EF;&#x4EE5;&#x53BB;&#x67E5;&#x770B;.</p>\n<h3 id=\"RecyclerBaseCursorAdapter\"><a href=\"#RecyclerBaseCursorAdapter\" class=\"headerlink\" title=\"RecyclerBaseCursorAdapter\"></a>RecyclerBaseCursorAdapter</h3><p>&#x8FD9;&#x4E2A;&#x62BD;&#x8C61;&#x7C7B;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x4E0E;<strong>ListView</strong>&#x7684;<strong>CursorAdapter</strong>&#x76F8;&#x540C;&#xFF0C;&#x53EA;&#x662F;&#x6709;&#x51E0;&#x4E2A;&#x5730;&#x65B9;&#x9700;&#x8981;&#x7279;&#x522B;&#x63D0;&#x9192;&#x4E0B;</p>\n<ul>\n<li>&#x539F;&#x6765;&#x7684;&#x6709;notifyDataSetInvalidated()&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;RecyclerView&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;notifyDataSetChanged()&#x66FF;&#x4EE3;</li>\n<li>&#x539F;&#x6765;&#x7684;hasStableIds() &#x65B9;&#x6CD5;&#x4E5F;&#x6CA1;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;setHasStableIds(true)&#x8BBE;&#x7F6E;&#x4E3A;ture&#x6765;&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x7684;&#x6548;&#x679C;</li>\n<li>&#x539F;&#x6765;&#x7684;<strong>getView()</strong>&#x65B9;&#x6CD5;&#x8981;&#x66FF;&#x6362;&#x6210;<strong>onBindViewHolder()</strong>&#x65B9;&#x6CD5;</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void init(Context context, Cursor c, int flags) {</span><br><span class=\"line\">        boolean cursorPresent = c != null;</span><br><span class=\"line\">        mCursor = c;</span><br><span class=\"line\">        mDataValid = cursorPresent;</span><br><span class=\"line\">        mContext = context;</span><br><span class=\"line\">        mRowIDColumn = cursorPresent ? c.getColumnIndexOrThrow(&quot;_id&quot;) : -1;</span><br><span class=\"line\">        if ((flags &amp; FLAG_REGISTER_CONTENT_OBSERVER) == FLAG_REGISTER_CONTENT_OBSERVER) {</span><br><span class=\"line\">            mChangeObserver = new ChangeObserver();</span><br><span class=\"line\">            mDataSetObserver = new MyDataSetObserver();</span><br><span class=\"line\">        } else {</span><br><span class=\"line\">            mChangeObserver = null;</span><br><span class=\"line\">            mDataSetObserver = null;</span><br><span class=\"line\">        }</span><br><span class=\"line\"></span><br><span class=\"line\">        if (cursorPresent) {</span><br><span class=\"line\">            if (mChangeObserver != null) c.registerContentObserver(mChangeObserver);</span><br><span class=\"line\">            if (mDataSetObserver != null) c.registerDataSetObserver(mDataSetObserver);</span><br><span class=\"line\">        }</span><br><span class=\"line\">        //should set true to init</span><br><span class=\"line\">        setHasStableIds(true);</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">        public void onInvalidated() {</span><br><span class=\"line\">            mDataValid = false;</span><br><span class=\"line\">//            notifyDataSetInvalidated();</span><br><span class=\"line\">            //there is no notifyDataSetInvalidated method we should use notifyDataSetChanged method;</span><br><span class=\"line\">            notifyDataSetChanged();</span><br><span class=\"line\">        }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x57FA;&#x672C;&#x4E0A;&#x4E3B;&#x8981;&#x7684;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;&#x4E86;&#xFF0C;&#x66F4;&#x591A;&#x8BE6;&#x60C5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x540E;&#x9762;&#x7684;<strong>Demo</strong>&#x94FE;&#x63A5;&#xFF0C;&#x6700;&#x540E;&#x4F7F;&#x7528;&#x90FD;&#x76F8;&#x540C;&#x7684;&#x5957;&#x8DEF;&#xFF0C;&#x7EE7;&#x627F;&#x8BE5;&#x62BD;&#x8C61;&#x7C7B;&#xFF0C;&#x76F8;&#x4FE1;&#x5E94;&#x8BE5;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x3002;</em></p>\n</blockquote>\n<h1 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h1><p><img src=\"/2016/04/02/RecyclerView&#x6DF1;&#x5165;&#x6D45;&#x51FA;/RecyclerView.gif\" alt=\"&#x6548;&#x679C;&#x56FE;\"></p>\n<h1 id=\"&#x7ED3;&#x8BED;\"><a href=\"#&#x7ED3;&#x8BED;\" class=\"headerlink\" title=\"&#x7ED3;&#x8BED;\"></a>&#x7ED3;&#x8BED;</h1><p>&#x6E90;&#x7801;&#x5730;&#x5740;&#x94FE;&#x63A5;&#xFF1A;<a href=\"https://github.com/idisfkj/RecyclerView\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/RecyclerView</a><br>&#x6700;&#x540E;&#x611F;&#x8C22;&#x5927;&#x5BB6;&#x7684;&#x9605;&#x8BFB;&#xFF0C;&#x6709;&#x4E0D;&#x8DB3;&#x7684;&#x5730;&#x65B9;&#x6B22;&#x8FCE;&#x6307;&#x51FA;&#x3002;</p>\n"},{"title":"Android 开源SlideSwitch源码分析","url":"http://idisfkj.github.io/2016/03/26/Android-开源SlideSwitch源码分析/","content":"<p>&#x5927;&#x5BB6;&#x90FD;&#x77E5;&#x9053;<strong>android</strong>&#x7684;&#x6700;&#x5927;&#x597D;&#x5904;&#x5C31;&#x662F;&#x5F00;&#x6E90;&#xFF0C;&#x5176;&#x5B9E;&#x5F88;&#x591A;&#x9879;&#x76EE;&#x80FD;&#x5168;&#x90E8;&#x7528;&#x5F00;&#x6E90;&#x5C31;&#x80FD;&#x641E;&#x5B9A;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x6211;&#x4EEC;&#x5728;&#x7528;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E0D;&#x61C2;&#x5F97;&#x5B83;&#x4EEC;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x8FC7;&#x773C;&#x4E91;&#x70DF;&#xFF0C;&#x884C;&#x5C38;&#x8D70;&#x8089;&#xFF0C;&#x53EA;&#x6709;&#x7A7A;&#x58F3;&#x6CA1;&#x6709;&#x5B9D;&#x8D35;&#x7684;&#x601D;&#x60F3;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x4E00;&#x65E6;&#x8981;&#x7EF4;&#x62A4;&#x4E8E;&#x4F18;&#x5316;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9002;&#x5E94;&#x9700;&#x6C42;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x90A3;&#x4E9B;&#x53EA;&#x4F1A;&#x62FF;&#x6765;&#x7528;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x53EA;&#x80FD;&#x76EE;&#x77AA;&#x53E3;&#x5446;&#x3002;&#x8FD9;&#x6837;&#x4E0D;&#x4EC5;&#x6CA1;&#x6709;&#x52A0;&#x5FEB;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;&#x901F;&#x5EA6;&#x800C;&#x4E14;&#x8FD8;&#x4F1A;&#x8BA9;&#x6211;&#x4EEC;&#x5168;&#x76D8;&#x7686;&#x8F93;&#x3002;&#x597D;&#x4E86;&#x5176;&#x5B83;&#x7684;&#x4E5F;&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x6B63;&#x5F0F;&#x8FDB;&#x5165;&#x4E3B;&#x9898;&#xFF0C;&#x5206;&#x4EAB;&#x4E00;&#x4E0B;&#x81EA;&#x5DF1;&#x6700;&#x8FD1;&#x5BF9;<strong>SlideSwitch</strong>&#x5F00;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x7406;&#x89E3;&#x3002;</p>\n<hr>\n<h1 id=\"&#x8BF4;&#x660E;\"><a href=\"#&#x8BF4;&#x660E;\" class=\"headerlink\" title=\"&#x8BF4;&#x660E;\"></a>&#x8BF4;&#x660E;</h1><p>&#x9996;&#x5148;&#x8FD8;&#x662F;&#x8981;&#x8BF4;&#x660E;&#x4E0B;<strong>SlideSwitch</strong>&#x662F;&#x4EC0;&#x4E48;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x5176;&#x5B9E;&#x5B83;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6211;&#x4EEC;&#x51E0;&#x4E4E;&#x6BCF;&#x4E2A;&#x9879;&#x76EE;&#x4E2D;&#x90FD;&#x4F1A;&#x9047;&#x5230;&#x7684;&#x6ED1;&#x52A8;&#x5F00;&#x5173;&#xFF0C;&#x8FD8;&#x4E0D;&#x61C2;&#x8BF7;&#x770B;&#x4E0B;&#x56FE;&#xFF1A;</p>\n<h1 id=\"&#x5206;&#x6790;&#x8981;&#x70B9;\"><a href=\"#&#x5206;&#x6790;&#x8981;&#x70B9;\" class=\"headerlink\" title=\"&#x5206;&#x6790;&#x8981;&#x70B9;\"></a>&#x5206;&#x6790;&#x8981;&#x70B9;</h1><ul>\n<li>TypedArray &#x7684;&#x4F7F;&#x7528;</li>\n<li>onMeasure &#x5404;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x521D;&#x59CB;&#x5316;</li>\n<li>onDraw &#x7ED8;&#x5236;&#x56FE;&#x5F62;</li>\n<li>onTouchEvent &#x76D1;&#x542C;&#x89E6;&#x6478;&#x70B9;&#x51FB;</li>\n<li>ValueAnimator &#x52A8;&#x753B;&#x5B9E;&#x73B0;</li>\n<li>SlideSwitchListener &#x63A5;&#x53E3;</li>\n</ul>\n<h2 id=\"TypedArray\"><a href=\"#TypedArray\" class=\"headerlink\" title=\"TypedArray\"></a>TypedArray</h2><p>&#x4E00;&#x822C;&#x81EA;&#x5B9A;&#x4E49;&#x63A7;&#x4EF6;&#x90FD;&#x8981;&#x7528;&#x5230;<strong>TypedArray</strong>&#xFF0C;&#x6240;&#x4EE5;<strong>SlideSwitch</strong>&#x81EA;&#x7136;&#x5C11;&#x4E0D;&#x4E86;&#x3002;&#x5B83;&#x5C31;&#x7EE7;&#x627F;&#x4E86;<strong>Android</strong>&#x539F;&#x751F;&#x7684;<strong>View</strong>&#x3002;&#x800C;<strong>TypedArray</strong>&#x662F;&#x83B7;&#x53D6;&#x81EA;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x7684;&#x53C2;&#x6570;&#x503C;&#x3002;<br>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x4F1A;&#x5728;<strong>styles</strong>&#x6216;&#x8005;<strong>attrs</strong>&#x4E2D;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x53C2;&#x6570;</p>\n<pre><code>&lt;declare-styleable name=&quot;slideswitchview&quot; &gt;\n    &lt;attr name=&quot;themeColor&quot; format=&quot;color&quot;&gt;&lt;/attr&gt;\n    &lt;attr name=&quot;isOpen&quot; format=&quot;boolean&quot;&gt;&lt;/attr&gt;\n    &lt;attr name=&quot;shape&quot; format=&quot;integer&quot;&gt;&lt;/attr&gt;\n&lt;/declare-styleable&gt;      \n</code></pre><p><strong>format</strong>&#x5C5E;&#x6027;&#x7C7B;&#x578B;&#xFF0C;&#x7136;&#x540E;&#x5728;<strong>XML</strong>&#x4E2D;&#x5F15;&#x7528;&#xFF0C;&#x5F15;&#x7528;&#x4E4B;&#x524D;&#x4E00;&#x5B9A;&#x8981;&#x52A0;&#x5165;&#x4E0B;&#x9762;&#x7684;&#x58F0;&#x660E;</p>\n<pre><code>xmlns:slideswitch=&quot;http://schemas.android.com/apk/res/xxx&quot;    \n</code></pre><p>xxx:&#x4EE3;&#x8868;&#x5305;&#x540D;&#x3002;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x5C31;&#x884C;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">slideswitch:themeColor=&quot;#ffaaff&quot;</span><br></pre></td></tr></table></figure>\n<p>&#x6700;&#x540E;&#x5728;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4E2D;&#x901A;&#x8FC7;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x8BBE;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TypedArray ta = context.obtainStyledAttributes(attrs, R.styleable.slideswitchview);</span><br><span class=\"line\">       theme_color = \tta.getColor(R.styleable.slideswitchview_themeColor, DEFAULT_THEME_COLOR);</span><br><span class=\"line\">       ta.recycle();</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x4F7F;&#x7528;&#x5B8C;&#x540E;&#x52A1;&#x5FC5;recycle&#x5426;&#x5219;&#x4F1A;&#x5BF9;&#x4E0B;&#x6B21;&#x7684;&#x4F7F;&#x7528;&#x9020;&#x6210;&#x5F71;&#x54CD;</em></p>\n</blockquote>\n<h2 id=\"onMeasure\"><a href=\"#onMeasure\" class=\"headerlink\" title=\"onMeasure\"></a>onMeasure</h2><p>&#x6BCF;&#x6B21;&#x89C6;&#x56FE;&#x7684;&#x521B;&#x5EFA;&#x90FD;&#x8981;&#x5148;&#x83B7;&#x53D6;&#x89C6;&#x56FE;&#x7684;&#x5BBD;&#x9AD8;&#xFF0C;&#x6B21;&#x65B9;&#x6CD5;&#x5C31;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x8BE5;&#x65B9;&#x6CD5;&#x53C2;&#x6570;<strong>widthMeasureSpec</strong>&#x4E0E;<strong>heightMeasuerSpec</strong>&#x4E0D;&#x662F;&#x4E00;&#x822C;&#x7684;&#x5C3A;&#x5BF8;&#xFF0C;&#x800C;&#x662F;&#x5305;&#x62EC;&#x4E86;<strong>size</strong>&#x4E0E;<strong>mode</strong>&#x3002;&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x83B7;&#x53D6;&#x5B9E;&#x9645;&#x7684;&#x5BBD;&#x9AD8;&#xFF0C;&#x8981;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x65B9;&#x6CD5;&#x5206;&#x522B;&#x83B7;&#x53D6;<strong>size</strong>&#x4E0E;<strong>mode</strong>&#xFF1A;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int size = MeasureSpec.getSize(measureSpec);</span><br><span class=\"line\">int mode = MeasureSpec.getMode(measureSpec);</span><br></pre></td></tr></table></figure>\n<p>&#x901A;&#x8FC7;<strong>mode</strong>&#x6765;&#x83B7;&#x53D6;<strong>size</strong>&#xFF0C;<strong>mode</strong>&#x6709;&#x4E09;&#x79CD;&#xFF1A;</p>\n<ul>\n<li>EXACTLY  &#x7CBE;&#x786E;&#x5C3A;&#x5BF8;&#xFF0C;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x7684;&#x5C3A;&#x5BF8;</li>\n<li>UNSPECIFIED &#x4E3A;&#x6307;&#x5B9A;&#x7684; </li>\n<li>AT_MOST    &#x6700;&#x5927;&#x5C3A;&#x5BF8; &#x5F62;&#x5982;&#x6307;&#x5B9A;WRAP_CONTENT&#x5728;&#x7236;&#x63A7;&#x4EF6;&#x5141;&#x8BB8;&#x7684;&#x8303;&#x56F4;&#x5185;</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (mode == MeasureSpec.EXACTLY) {</span><br><span class=\"line\">           result = size;</span><br><span class=\"line\">       } else {</span><br><span class=\"line\">           result = DefaultSize; //UNSPECIFIED</span><br><span class=\"line\">           if (mode == MeasureSpec.AT_MOST) {</span><br><span class=\"line\">               result = Math.min(size, result);</span><br><span class=\"line\">           }</span><br><span class=\"line\">       }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x5176;&#x5B83;&#x7B80;&#x5355;&#x7684;&#x53C2;&#x6570;&#x503C;&#x8BBE;&#x7F6E;&#x5C31;&#x4E0D;&#x591A;&#x8BF4;&#x4E86;&#xFF0C;&#x8BF7;&#x79FB;&#x6B65;&#x6700;&#x540E;&#x7684;&#x6E90;&#x7801;</em></p>\n</blockquote>\n<h2 id=\"onDraw\"><a href=\"#onDraw\" class=\"headerlink\" title=\"onDraw\"></a>onDraw</h2><p>&#x5C3A;&#x5EA6;&#x83B7;&#x53D6;&#x5230;&#x4E86;&#x540E;&#xFF0C;&#x4E0B;&#x9762;&#x81EA;&#x7136;&#x5C31;&#x662F;&#x7ED8;&#x5236;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;&#x9009;&#x62E9;&#x5F00;&#x5173;&#x5F62;&#x72B6;&#x6709;&#x77E9;&#x5F62;&#x7684;&#x4E5F;&#x6709;&#x5706;&#x89D2;&#x77E9;&#x5F62;&#x6240;&#x4EE5;&#x6839;&#x636E;<strong>shpe</strong>&#x7684;&#x503C;&#x6765;&#x7ED8;&#x5236;&#x76F8;&#x5E94;&#x7684;&#x5F62;&#x72B6;&#xFF0C;&#x8FD9;&#x91CC;&#x4EE5;&#x77E9;&#x5F62;&#x4E3A;&#x4F8B;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (shape == 1) {</span><br><span class=\"line\">           mPaint.setColor(Color.GRAY);</span><br><span class=\"line\">           //&#x7ED8;&#x5236;close&#x65F6;&#x7684;&#x7070;&#x8272;&#x80CC;&#x666F;</span><br><span class=\"line\">           canvas.drawRect(backRect, mPaint);</span><br><span class=\"line\">           mPaint.setColor(theme_color);</span><br><span class=\"line\">           mPaint.setAlpha(alpha);</span><br><span class=\"line\">           //&#x7ED8;&#x5236;open&#x65F6;&#x7684;&#x5F69;&#x8272;&#x6E10;&#x53D8;&#x80CC;&#x666F;</span><br><span class=\"line\">           canvas.drawRect(backRect, mPaint);</span><br><span class=\"line\">           mPaint.setColor(Color.WHITE);</span><br><span class=\"line\">           frontRect.set(front_left, pandding, front_left + getMeasuredWidth() / 2 - pandding</span><br><span class=\"line\">                   , getMeasuredHeight() - pandding);</span><br><span class=\"line\">           //&#x7ED8;&#x5236;&#x6ED1;&#x52A8;&#x5668;</span><br><span class=\"line\">           canvas.drawRect(frontRect, mPaint);</span><br><span class=\"line\">       }</span><br></pre></td></tr></table></figure>\n<p>&#x5176;&#x4E2D;<strong>padding</strong>&#x4EE3;&#x8868;&#x5185;&#x8FB9;&#x8DDD;&#xFF0C;&#x5C31;&#x662F;&#x6ED1;&#x52A8;&#x5668;&#x8DDD;&#x8FB9;&#x6846;&#x7684;&#x8DDD;&#x79BB;</p>\n<h2 id=\"onTouchEvent\"><a href=\"#onTouchEvent\" class=\"headerlink\" title=\"onTouchEvent\"></a>onTouchEvent</h2><p>&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x7684;&#x89E6;&#x6478;&#x6ED1;&#x52A8;&#xFF0C;&#x6839;&#x636E;<strong>ACTION_DOWN</strong>&#xFF0C;<strong>ACTION_MOVE</strong>&#xFF0C;<strong>ACTION_UP</strong>&#x6765;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x6548;&#x679C;&#xFF0C;&#x81F3;&#x4E8E;&#x70B9;&#x5750;&#x6807;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x6E90;&#x7801;&#x5F88;&#x6E05;&#x695A;&#x3002;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x63D0;&#x4E0B;<strong>alpha</strong>&#x53C2;&#x6570;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x662F;&#x5B9E;&#x73B0;&#x989C;&#x8272;&#x7684;&#x900F;&#x660E;&#x6548;&#x679C;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x901A;&#x8FC7;&#x89E6;&#x6478;&#x6ED1;&#x52A8;&#x7684;&#x95F4;&#x8DDD;&#xFF0C;&#x52A8;&#x6001;&#x7684;&#x6539;&#x53D8;<strong>alpha</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">alpha = (int) (255 * (float) front_left / (float) max_left);</span><br></pre></td></tr></table></figure>\n<h2 id=\"ValueAnimator\"><a href=\"#ValueAnimator\" class=\"headerlink\" title=\"ValueAnimator\"></a>ValueAnimator</h2><p>&#x8FD9;&#x4E2A;&#x7C7B;&#x662F;&#x52A8;&#x753B;&#x6548;&#x679C;&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x7684;&#x51E0;&#x6B65;&#x5C31;&#x80FD;&#x8FC5;&#x901F;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684;&#x52A8;&#x753B;<br>&#x9996;&#x5148;&#x5B9E;&#x4F8B;&#x5316;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;&#x662F;<strong>ofInt()</strong>&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x6709;<strong>ofFloat()</strong>&#x7B49;&#x9759;&#x6001;&#x5B9E;&#x4F8B;&#x5316;&#x65B9;&#x6CD5;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ValueAnimator valueAnimator = ValueAnimator.ofInt(front_left, toRight ? max_left : min_left);</span><br></pre></td></tr></table></figure>\n<p>&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x521D;&#x503C;&#x4E0E;&#x7ED3;&#x675F;&#x503C;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//&#x8BBE;&#x7F6E;&#x63D2;&#x503C;&#x5668;</span><br><span class=\"line\"> \tvalueAnimator.setInterpolator(new  AccelerateDecelerateInterpolator());</span><br><span class=\"line\">   valueAnimator.setDuration(500);</span><br><span class=\"line\">   valueAnimator.start();</span><br></pre></td></tr></table></figure>\n<p><strong>Interpolator</strong>&#x662F;&#x5B9A;&#x4E49;&#x52A8;&#x753B;&#x7684;&#x53D8;&#x5316;&#x8FC7;&#x7A0B;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x53C2;&#x6570;</p>\n<ul>\n<li>AccelerateDecelerateInterpolator &#x5F00;&#x59CB;&#x7ED3;&#x675F;&#x6162; &#x4E2D;&#x95F4;&#x8FC7;&#x7A0B;&#x5FEB;</li>\n<li>AccelerateInterpolator &#x52A0;&#x901F;&#x72B6;&#x6001;</li>\n<li>AnticipateInterpolator &#x5148;&#x540E;&#x79FB;&#x4E00;&#x70B9;&#xFF0C;&#x518D;&#x5FEB;&#x901F;&#x79FB;&#x52A8;</li>\n<li>BounceInterpolator &#x5728;&#x6700;&#x540E;&#x6709;&#x5F39;&#x7403;&#x6548;&#x679C; </li>\n</ul>\n<p>&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x6548;&#x679C;&#xFF0C;&#x53EA;&#x8981;&#x7EE7;&#x627F;T<strong>imeInterpolator</strong>&#x7C7B;&#xFF0C;&#x91CD;&#x5199;<strong>getInterpolation</strong>&#x65B9;&#x6CD5;&#x81EA;&#x5B9A;&#x4E49;&#x8BA1;&#x7B97;&#x503C;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override  </span><br><span class=\"line\">   public float getInterpolation(float input) {  </span><br><span class=\"line\">       // &#x7F16;&#x5199;&#x76F8;&#x5173;&#x7684;&#x903B;&#x8F91;&#x8BA1;&#x7B97;  </span><br><span class=\"line\">       return input;  </span><br><span class=\"line\">   }</span><br></pre></td></tr></table></figure>\n<p>&#x65E2;&#x7136;&#x662F;&#x52A8;&#x753B;&#x81EA;&#x7136;&#x6709;&#x76D1;&#x542C;&#x8BBE;&#x7F6E;<strong>addUpdateListener</strong>&#x5B9E;&#x65F6;&#x6539;&#x53D8;&#x6ED1;&#x52A8;&#x521D;&#x59CB;&#x503C;&#x96E8;<strong>alpha</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">valueAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {</span><br><span class=\"line\">           @Override</span><br><span class=\"line\">           public void onAnimationUpdate(ValueAnimator animation) {</span><br><span class=\"line\">               front_left = (int) animation.getAnimatedValue();</span><br><span class=\"line\">               alpha = (int) (255 * (float) front_left / (float) max_left);</span><br><span class=\"line\">               initloop();</span><br><span class=\"line\">           }</span><br><span class=\"line\">       });</span><br></pre></td></tr></table></figure>\n<p>&#x6700;&#x540E;&#x589E;&#x52A0;<strong>addListener</strong>&#x8C03;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x63A5;&#x53E3;<strong>SlideSwitchListener</strong>&#x4E2D;&#x7684;&#x65B9;&#x6CD5;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">valueAnimator.addListener(new AnimatorListenerAdapter() {</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onAnimationEnd(Animator animation) {</span><br><span class=\"line\">                if (toRight) {</span><br><span class=\"line\">                    isOpen = true;</span><br><span class=\"line\">                    if (mSlideSwitchListener != null)</span><br><span class=\"line\">                        mSlideSwitchListener.onOpen();</span><br><span class=\"line\">                    front_start_left = max_left;</span><br><span class=\"line\">                } else {</span><br><span class=\"line\">                    isOpen = false;</span><br><span class=\"line\">                    if (mSlideSwitchListener != null)</span><br><span class=\"line\">                        mSlideSwitchListener.onClose();</span><br><span class=\"line\">                    front_start_left = min_left;</span><br><span class=\"line\">                }</span><br><span class=\"line\">            }</span><br><span class=\"line\">        });</span><br></pre></td></tr></table></figure>\n<h2 id=\"SlideSwitchListener\"><a href=\"#SlideSwitchListener\" class=\"headerlink\" title=\"SlideSwitchListener\"></a>SlideSwitchListener</h2><p>&#x63A5;&#x53E3;&#x7684;&#x5B9A;&#x4E49;&#x4F7F;&#x5F97;&#x5728;&#x64CD;&#x4F5C;&#x7C7B;&#x4E2D;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x5B9E;&#x73B0;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x540E;&#x7684;&#x76F8;&#x5173;&#x64CD;&#x4F5C;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public void setSlideSwitchListener(SlideSwitchListener sideSwitchListener) {</span><br><span class=\"line\">        mSlideSwitchListener = sideSwitchListener;</span><br><span class=\"line\">    }</span><br><span class=\"line\"></span><br><span class=\"line\">    public interface SlideSwitchListener {</span><br><span class=\"line\">        public void onOpen();</span><br><span class=\"line\"></span><br><span class=\"line\">        public void onClose();</span><br><span class=\"line\"></span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<h2 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h2><p><img src=\"/2016/03/26/Android-&#x5F00;&#x6E90;SlideSwitch&#x6E90;&#x7801;&#x5206;&#x6790;/2.gif\" alt=\"icon\"></p>\n<p>&#x53EA;&#x8981;&#x7A0D;&#x5FAE;&#x590D;&#x6742;&#x7684;&#x5728;&#x8FD9;&#x91CC;&#x90FD;&#x8BB2;&#x5230;&#x4E86;&#xFF0C;&#x8FD8;&#x6709;&#x4E0D;&#x660E;&#x767D;&#x7684;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x67E5;&#x770B;&#x4E0B;&#x9762;&#x6211;&#x6CE8;&#x91CA;&#x7684;&#x6E90;&#x7801;&#xFF0C;&#x6216;&#x8005;&#x7559;&#x8A00;&#xFF0C;&#x8C22;&#x8C22;&#x6D4F;&#x89C8;&#x3002;</p>\n<p>&#x6CE8;&#x91CA;&#x6E90;&#x7801;&#x94FE;&#x63A5;&#xFF1A;<a href=\"https://github.com/idisfkj/SlideSwitchView\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/SlideSwitchView</a></p>\n"},{"title":"圆形头像","url":"http://idisfkj.github.io/2016/03/20/circleView/","content":"<p>&#x73B0;&#x5728;&#x7684;App&#x5934;&#x50CF;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x5706;&#x5F62;&#x7684;&#x4E86;&#xFF0C;&#x867D;&#x7136;&#x4E0D;&#x77E5;&#x9053;&#x8FD9;&#x8D8B;&#x52BF;&#x662F;&#x600E;&#x4E48;&#x6D41;&#x884C;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x4F46;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;<strong>Android</strong>&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x8FD8;&#x662F;&#x8981;&#x968F;&#x7740;&#x6F6E;&#x6D41;&#x524D;&#x8FDB;&#x3002;&#x6240;&#x4EE5;&#x81EA;&#x5DF1;&#x5C31;&#x7814;&#x7A76;&#x4E86;&#x4E00;&#x4E0B;&#x5706;&#x5F62;&#x5934;&#x50CF;&#x7684;&#x5236;&#x4F5C;&#xFF0C;&#x867D;&#x7136;&#x4E5F;&#x6709;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x5F00;&#x6E90;&#x5E93;&#xFF0C;&#x4F46;&#x81EA;&#x5DF1;&#x61C2;&#x5F97;&#x539F;&#x7406;&#x8FD8;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x5C31;&#x5206;&#x4EAB;&#x4E0B;&#x81EA;&#x5DF1;&#x7684;&#x6240;&#x5F97;&#xFF0C;&#x4E0D;&#x8DB3;&#x4E4B;&#x5904;&#x6B22;&#x8FCE;&#x6307;&#x6559;&#x3002;</p>\n<hr>\n<h1 id=\"&#x539F;&#x7406;\"><a href=\"#&#x539F;&#x7406;\" class=\"headerlink\" title=\"&#x539F;&#x7406;\"></a>&#x539F;&#x7406;</h1><p>&#x5706;&#x5F62;&#x5934;&#x50CF;&#x561B;&#x8BF4;&#x5230;&#x5E95;&#x5C31;&#x662F;&#x5F20;&#x56FE;&#x7247;&#xFF0C;&#x6240;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x5706;&#x5F62;&#x56FE;&#x7247;&#x63A7;&#x4EF6;&#x81EA;&#x7136;&#x8981;&#x7EE7;&#x627F;<strong>Android</strong>&#x539F;&#x751F;&#x7684;<strong>ImgaeView</strong>,&#x5B9E;&#x73B0;&#x5176;&#x4E2D;&#x7684;<strong>setImageBitmap</strong>&#xFF0C;<strong>setImageDrawable</strong>&#xFF0C;<strong>setImageURI</strong>&#xFF0C;<strong>setImageResource</strong>&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x5F53;&#x7136;&#x4E3B;&#x8981;&#x7684;<strong>onDraw</strong>&#x65B9;&#x6CD5;&#x4E5F;&#x4E0D;&#x80FD;&#x7F3A;&#x5C11;&#xFF0C;&#x5728;&#x5176;&#x4E2D;&#x8981;&#x5B9E;&#x73B0;&#x5706;&#x5F62;&#x5934;&#x50CF;&#x7684;&#x7ED8;&#x5236;&#x3002;&#x8FD9;&#x91CC;&#x8FD8;&#x8981;&#x501F;&#x52A9;&#x4E24;&#x4E2A;&#x4E3B;&#x8981;&#x7684;&#x7C7B;<strong>Matrix</strong>&#x4E0E;<strong>BitmapShader</strong>&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x5B9E;&#x73B0;&#x56FE;&#x7247;&#x7684;&#x7F29;&#x653E;&#x6548;&#x679C;&#x3002;</p>\n<h2 id=\"BitmapShader&#x89E3;&#x91CA;\"><a href=\"#BitmapShader&#x89E3;&#x91CA;\" class=\"headerlink\" title=\"BitmapShader&#x89E3;&#x91CA;\"></a>BitmapShader&#x89E3;&#x91CA;</h2><p><strong>BitmapShader</strong>&#x6709;&#x4E09;&#x4E2A;&#x53C2;&#x6570;  </p>\n<ul>\n<li>bitmap - The bitmap to use inside the shader</li>\n<li>tileX - The tiling mode for x to draw the bitmap in.</li>\n<li>tileY - The tiling mode for y to draw the bitmap in.</li>\n</ul>\n<p><strong>tileX</strong>&#x4E0E;<strong>tileY</strong>&#x90FD;&#x662F;<strong>Shader.TileMode</strong>&#x7C7B;&#x578B;&#xFF0C;&#x6709;&#x4E09;&#x4E2A;&#x9009;&#x62E9;&#x503C;</p>\n<ul>\n<li>CLAMP &#x62C9;&#x4F38; </li>\n<li>PEREAT &#x91CD;&#x590D;</li>\n<li>MIRROR &#x955C;&#x50CF;</li>\n</ul>\n<blockquote>\n<p><em>&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x53EA;&#x8981;&#x4F7F;&#x7528;CLAMP&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x60F3;&#x77E5;&#x9053;&#x5176;&#x5B83;&#x7684;&#x9009;&#x62E9;&#x503C;&#x7684;&#x5177;&#x4F53;&#x6548;&#x679C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x4E2A;&#x94FE;&#x63A5;&#xFF1A;<a href=\"http://blog.csdn.net/sjf0115/article/details/7267532\" target=\"_blank\" rel=\"external\">http://blog.csdn.net/sjf0115/article/details/7267532</a></em></p>\n</blockquote>\n<h2 id=\"&#x83B7;&#x53D6;&#x7F29;&#x653E;&#x503C;\"><a href=\"#&#x83B7;&#x53D6;&#x7F29;&#x653E;&#x503C;\" class=\"headerlink\" title=\"&#x83B7;&#x53D6;&#x7F29;&#x653E;&#x503C;\"></a>&#x83B7;&#x53D6;&#x7F29;&#x653E;&#x503C;</h2><p>&#x56FE;&#x7247;&#x8FC7;&#x5927;&#x4E0E;&#x8FC7;&#x5C0F;&#x90FD;&#x4E0D;&#x597D;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x7EDD;&#x5BF9;&#x7684;&#x9002;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x7F29;&#x653E;&#x503C;&#x7684;&#x83B7;&#x53D6;&#x662F;&#x6700;&#x91CD;&#x8981;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x8981;&#x6BD4;&#x8F83;&#x56FE;&#x7247;&#x5BBD;&#x9AD8;&#x4E0E;&#x63A7;&#x4EF6;&#x5BBD;&#x9AD8;&#xFF0C;&#x901A;&#x8FC7;&#x9519;&#x4F4D;&#x76F8;&#x4E58;&#x6765;&#x6BD4;&#x8F83;&#x56FE;&#x7247;&#x7684;&#x5BBD;&#x9AD8;&#x54EA;&#x4E2A;&#x4E0E;&#x63A7;&#x4EF6;&#x7684;&#x5BBD;&#x9AD8;&#x76F8;&#x5DEE;&#x66F4;&#x5927;&#x3002;&#x53D6;&#x76F8;&#x5DEE;&#x5927;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x5F97;&#x5230;&#x7F29;&#x653E;&#x503C;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E3B;&#x8981;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mDrawableRec.set(0, 0, getWidth(), getHeight());</span><br><span class=\"line\">        if (mBitmapWidth * mDrawableRec.height() &gt; mDrawableRec.width() * mBitmapheight) {</span><br><span class=\"line\">            scal = mDrawableRec.height() / mBitmapheight;</span><br><span class=\"line\">        } else {</span><br><span class=\"line\">            scal = mDrawableRec.width() / mBitmapWidth;</span><br><span class=\"line\">        }</span><br></pre></td></tr></table></figure>\n<h3 id=\"&#x8BBE;&#x7F6E;BitmapShader\"><a href=\"#&#x8BBE;&#x7F6E;BitmapShader\" class=\"headerlink\" title=\"&#x8BBE;&#x7F6E;BitmapShader\"></a>&#x8BBE;&#x7F6E;BitmapShader</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mBitmapShader = new BitmapShader(mBitmap, \tShader.TileMode.CLAMP, Shader.TileMode.CLAMP);</span><br><span class=\"line\">mPaint.setShader(mBitmapShader);</span><br></pre></td></tr></table></figure>\n<h3 id=\"&#x8BBE;&#x7F6E;&#x7F29;&#x653E;&#x4E0E;&#x77E9;&#x9635;\"><a href=\"#&#x8BBE;&#x7F6E;&#x7F29;&#x653E;&#x4E0E;&#x77E9;&#x9635;\" class=\"headerlink\" title=\"&#x8BBE;&#x7F6E;&#x7F29;&#x653E;&#x4E0E;&#x77E9;&#x9635;\"></a>&#x8BBE;&#x7F6E;&#x7F29;&#x653E;&#x4E0E;&#x77E9;&#x9635;</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mMatrix.setScale(scal, scal);</span><br><span class=\"line\">mBitmapShader.setLocalMatrix(mMatrix);</span><br></pre></td></tr></table></figure>\n<h2 id=\"onDraw&#x7ED8;&#x5236;\"><a href=\"#onDraw&#x7ED8;&#x5236;\" class=\"headerlink\" title=\"onDraw&#x7ED8;&#x5236;\"></a>onDraw&#x7ED8;&#x5236;</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\">protected void onDraw(Canvas canvas) {</span><br><span class=\"line\">    if (mBitmap == null) {</span><br><span class=\"line\">        return;</span><br><span class=\"line\">    }</span><br><span class=\"line\">    //&#x586B;&#x5145;</span><br><span class=\"line\">    canvas.drawCircle(getWidth() / 2.0f, getHeight() / 2.0f, mRadius, mFillPaint);</span><br><span class=\"line\">    canvas.drawCircle(getWidth() / 2.0f, getHeight() / 2.0f, mRadius, mPaint);</span><br><span class=\"line\">    //&#x63CF;&#x8FB9;</span><br><span class=\"line\">    if (mStrokeWidth != 0)</span><br><span class=\"line\">    canvas.drawCircle(getWidth() / 2.0f, getHeight() / 2.0f, mRadius, mBorderPaint);</span><br><span class=\"line\">}</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>&#x8FD9;&#x91CC;&#x7684;&#x987A;&#x5E8F;&#x4E0D;&#x8981;&#x6253;&#x4E71;&#xFF0C;&#x5426;&#x5219;&#x56DE;&#x5F71;&#x54CD;&#x56FE;&#x7247;&#x539F;&#x6709;&#x7684;&#x989C;&#x8272;&#x6548;&#x679C;</em></p>\n</blockquote>\n<p>&#x597D;&#x4E86;&#x4E3B;&#x8981;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x8FD9;&#x4E9B;&#x4E86;&#xFF0C;&#x5176;&#x5B9E;&#x53EA;&#x8981;&#x7406;&#x89E3;&#x4E0A;&#x9762;&#x7684;&#x5C31;&#x57FA;&#x672C;&#x4E0A;&#x638C;&#x63E1;&#x4E86;&#x5706;&#x5F62;&#x5934;&#x50CF;&#x7684;&#x8BBE;&#x7F6E;&#x4E86;&#x3002;</p>\n<h2 id=\"&#x5BF9;&#x5916;&#x65B9;&#x6CD5;\"><a href=\"#&#x5BF9;&#x5916;&#x65B9;&#x6CD5;\" class=\"headerlink\" title=\"&#x5BF9;&#x5916;&#x65B9;&#x6CD5;\"></a>&#x5BF9;&#x5916;&#x65B9;&#x6CD5;</h2><ul>\n<li>setBorderColor(); &#x8BBE;&#x7F6E;&#x8FB9;&#x754C;&#x989C;&#x8272;</li>\n<li>setFillColor();    &#x586B;&#x5145;&#x989C;&#x8272;</li>\n<li>setStrokeWidth(); &#x63CF;&#x8FB9;&#x5BBD;&#x5EA6;</li>\n</ul>\n<h2 id=\"&#x5F15;&#x7528;\"><a href=\"#&#x5F15;&#x7528;\" class=\"headerlink\" title=\"&#x5F15;&#x7528;\"></a>&#x5F15;&#x7528;</h2><p>&#x4F7F;&#x7528;&#x7684;&#x8BDD;&#x76F4;&#x63A5;&#x5728;xml&#x6587;&#x4EF6;&#x4E2D;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x81EA;&#x5B9A;&#x4E49;&#x7684;<strong>CircleImageView</strong>&#x63A7;&#x4EF6;&#xFF0C;</p>\n<p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x5982;&#x679C;&#x8981;&#x5728;xml&#x4E2D;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x56FE;&#x7247;&#x65F6;&#x4E0D;&#x8981;&#x4F7F;&#x7528;background&#x8BBE;&#x7F6E;&#xFF0C;&#x5426;&#x5219;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x5DEE;&#x9519;&#xFF0C;&#x4F7F;&#x7528;src&#x5C31;&#x4E0D;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#x4E86;&#x3002;</p>\n<h1 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h1><p><img src=\"/2016/03/20/circleView/CircleImageView.gif\" alt=\"&#x6548;&#x679C;&#x56FE;\"></p>\n<hr>\n<p>&#x66F4;&#x591A;&#x6E90;&#x7801;&#xFF1A;<a href=\"https://github.com/idisfkj/CircleImageView\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/CircleImageView</a></p>\n"},{"title":"github中README.md插入图片","url":"http://idisfkj.github.io/2016/03/13/github-README/","content":"<p>&#x5728;<strong>Github</strong>&#x4E0A;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x6709;&#x4E2A;README.md&#x6587;&#x4EF6;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x5728;&#x5176;&#x4E2D;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x683C;&#x5F0F;&#x95EE;&#x9898;&#xFF0C;&#x56FA;&#x5B9A;&#x7684;&#x8BB0;&#x4F4F;&#x5C31;&#x884C;</p>\n<h3 id=\"&#x94FE;&#x63A5;&#x683C;&#x5F0F;&#xFF1A;\"><a href=\"#&#x94FE;&#x63A5;&#x683C;&#x5F0F;&#xFF1A;\" class=\"headerlink\" title=\"&#x94FE;&#x63A5;&#x683C;&#x5F0F;&#xFF1A;\"></a>&#x94FE;&#x63A5;&#x683C;&#x5F0F;&#xFF1A;</h3><p>(<a href=\"https://github.com/yourname/your-repository/raw/master/images-folder/xxx.png\" target=\"_blank\" rel=\"external\">https://github.com/yourname/your-repository/raw/master/images-folder/xxx.png</a>)</p>\n<hr>\n<h3 id=\"&#x89E3;&#x91CA;\"><a href=\"#&#x89E3;&#x91CA;\" class=\"headerlink\" title=\"&#x89E3;&#x91CA;\"></a>&#x89E3;&#x91CA;</h3><ul>\n<li>yourname Github&#x5E10;&#x53F7;&#x540D;</li>\n<li>your-repository Github&#x5F53;&#x524D;&#x4ED3;&#x5E93;&#x540D;</li>\n<li>raw/master &#x539F;&#x751F; &#x56FA;&#x5B9A;&#x4E0D;&#x53D8;</li>\n<li>images-folder &#x653E;&#x56FE;&#x7247;&#x7684;&#x6587;&#x4EF6;&#x5939; &#x6CE8;&#x610F;&#x8BE5;&#x6587;&#x4EF6;&#x5939;&#x5728;&#x4F60;&#x672C;&#x5730;&#x9879;&#x76EE;&#x6839;&#x76EE;&#x5F55;&#x4E0B;</li>\n<li>xxx.png &#x56FE;&#x7247;</li>\n</ul>\n<h3 id=\"&#x63D0;&#x4EA4;\"><a href=\"#&#x63D0;&#x4EA4;\" class=\"headerlink\" title=\"&#x63D0;&#x4EA4;\"></a>&#x63D0;&#x4EA4;</h3><p>&#x518D;&#x901A;&#x8FC7;git push &#x63D0;&#x4EA4;&#x5230;<strong>Github</strong>&#x4E0A;</p>\n"},{"title":"滑轮选择器","url":"http://idisfkj.github.io/2016/03/13/PickerView/","content":"<p>&#x539F;&#x6765;&#x505A;&#x9879;&#x76EE;&#x65F6;&#x7528;&#x5230;&#x4E86;&#x6ED1;&#x8F6E;&#x9009;&#x62E9;&#x5668;&#xFF0C;&#x4E5F;&#x662F;&#x501F;&#x9274;&#x4E86;&#x522B;&#x4EBA;&#x7684;&#xFF0C;&#x4F46;&#x5F53;&#x65F6;&#x65F6;&#x95F4;&#x7D27;&#x4E5F;&#x5C31;&#x6CA1;&#x81EA;&#x5DF1;&#x600E;&#x4E48;&#x4F18;&#x5316;&#x4E0E;&#x5DE9;&#x56FA;&#xFF0C;&#x6700;&#x8FD1;&#x65F6;&#x95F4;&#x5145;&#x8DB3;&#x5C31;&#x91CD;&#x65B0;&#x5DE9;&#x56FA;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x8BB0;&#x4E0B;&#x81EA;&#x5DF1;&#x7684;&#x5FC3;&#x5F97;&#x4E0E;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x4EE5;&#x514D;&#x4EE5;&#x540E;&#x751F;&#x758F;&#xFF0C;&#x6709;&#x4E0D;&#x8DB3;&#x7684;&#x5730;&#x65B9;&#x6B22;&#x8FCE;&#x6307;&#x6559;&#x3002;</p>\n<hr>\n<h1 id=\"&#x5B9E;&#x73B0;&#x539F;&#x7406;\"><a href=\"#&#x5B9E;&#x73B0;&#x539F;&#x7406;\" class=\"headerlink\" title=\"&#x5B9E;&#x73B0;&#x539F;&#x7406;\"></a>&#x5B9E;&#x73B0;&#x539F;&#x7406;</h1><ul>\n<li>&#x9996;&#x5148;&#x81EA;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;<font color=\"#FF0000\">PickerView</font>&#x7EE7;&#x627F;android&#x539F;&#x751F;&#x7684;<font color=\"#FF0000\">View</font></li>\n<li>&#x5B9E;&#x73B0;&#x6ED1;&#x52A8;&#x70B9;&#x51FB;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x7CFB;&#x5217;&#x89E6;&#x6478;&#x5224;&#x65AD;&#x5B9E;&#x73B0;&#x6ED1;&#x52A8;&#x6548;&#x679C;</li>\n<li>&#x5176;&#x6B21;<font color=\"#FF0000\">TextPicker</font>&#x7EE7;&#x627F;<font color=\"#FF0000\">PopupWindow</font>&#x88C5;&#x8F7D;&#x8FD9;&#x4E2A;<font color=\"#FF0000\">PickerView</font>&#x5B9E;&#x73B0;&#x5C55;&#x793A;</li>\n</ul>\n<blockquote>\n<p><em>&#x539F;&#x7406;&#x8FD8;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x7684;&#xFF0C;&#x4E3B;&#x8981;&#x7684;&#x5C31;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x7684;PickerView</em></p>\n</blockquote>\n<h2 id=\"PickerView&#x7684;&#x5B9E;&#x73B0;\"><a href=\"#PickerView&#x7684;&#x5B9E;&#x73B0;\" class=\"headerlink\" title=\"PickerView&#x7684;&#x5B9E;&#x73B0;\"></a>PickerView&#x7684;&#x5B9E;&#x73B0;</h2><p>&#x5176;&#x4E2D;&#x4E3B;&#x8981;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x662F;<font color=\"#FF0000\">onDrawView()</font>&#x4E0E;<font color=\"#FF0000\">drawOtherView</font>&#x7ED8;&#x5236;&#x6ED1;&#x8F6E;&#x9009;&#x62E9;&#x5668;&#x7684;&#x6587;&#x672C;&#x663E;&#x793A;,&#x7136;&#x540E;&#x5C31;&#x662F;&#x89E6;&#x6478;&#x4E8B;&#x4EF6;<font color=\"#FF0000\">onTouchEvent()</font>&#x7684;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x3002;</p>\n<h3 id=\"onDrawView&#x7684;&#x60F3;&#x6CD5;\"><a href=\"#onDrawView&#x7684;&#x60F3;&#x6CD5;\" class=\"headerlink\" title=\"onDrawView&#x7684;&#x60F3;&#x6CD5;\"></a>onDrawView&#x7684;&#x60F3;&#x6CD5;</h3><p>&#x6ED1;&#x8F6E;&#x7684;&#x6587;&#x672C;&#x6548;&#x679C;&#x662F;&#x8981;&#x4E2D;&#x95F4;&#x7684;&#x6587;&#x672C;&#x663E;&#x793A;&#x6B63;&#x5E38;&#x800C;&#x4E0A;&#x9762;&#x4E0E;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x672C;&#x8981;&#x76F8;&#x5E94;&#x7684;&#x7F29;&#x5C0F;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x8FBE;&#x5230;&#x8FDC;&#x79BB;&#x7684;&#x611F;&#x89C9;&#xFF0C;&#x6240;&#x7528;&#x9996;&#x5148;&#x7ED8;&#x5236;&#x597D;&#x4E2D;&#x95F4;&#x7684;&#x6587;&#x672C;&#xFF0C;&#x518D;&#x4EE5;&#x4E2D;&#x95F4;&#x7684;&#x6587;&#x672C;&#x4E3A;&#x4E2D;&#x5FC3;&#x7ED8;&#x5236;&#x4E0A;&#x4E0B;&#x7684;&#x6587;&#x672C;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x90E8;&#x5206;&#x6E90;&#x7801;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private void onDrawView(Canvas canvas) {</span><br><span class=\"line\">       float scal = getParabola((screenHeight / 4.0f), moveLength);</span><br><span class=\"line\">       //&#x5B57;&#x4F53;&#x5C45;&#x4E2D;&#x663E;&#x793A;</span><br><span class=\"line\">       float x = screenWidth / 2.0f;</span><br><span class=\"line\">       float y = screenHeight / 2.0f + moveLength;</span><br><span class=\"line\">       float size = (maxTextSize - minTextSize) * scal + minTextSize;</span><br><span class=\"line\">       //&#x83B7;&#x5F97;Paint&#x7684;&#x5C5E;&#x6027;&#x53C2;&#x6570;</span><br><span class=\"line\">       Paint.FontMetricsInt pfm = mPaint.getFontMetricsInt();</span><br><span class=\"line\">       //&#x5F97;&#x5230;&#x5C45;&#x4E2D;y</span><br><span class=\"line\">       float baseLine = y - (pfm.top + pfm.bottom) / 2;</span><br><span class=\"line\">       mPaint.setTextSize(size);</span><br><span class=\"line\">       mPaint.setAlpha((int) ((maxAlpha - minAlpha) * scal + minAlpha));</span><br><span class=\"line\">       //&#x753B;&#x4E2D;&#x95F4;&#x4F4D;&#x7F6E;</span><br><span class=\"line\">       canvas.drawText(dataList.get(position), x, baseLine, mPaint);</span><br><span class=\"line\">       //&#x753B;&#x4E0A;&#x9762;&#x4F4D;&#x7F6E;</span><br><span class=\"line\">       for (int i = 1; position - i &gt;= 0; i++) {</span><br><span class=\"line\">           drawOtherView(canvas, i, -1);</span><br><span class=\"line\">       }</span><br><span class=\"line\">       //&#x753B;&#x4E0B;&#x9762;&#x7684;&#x4F4D;&#x7F6E;</span><br><span class=\"line\">       for (int i = 1; position + i &lt; dataList.size(); i++) {</span><br><span class=\"line\">           drawOtherView(canvas, i, 1);</span><br><span class=\"line\">       }</span><br><span class=\"line\">   }  </span><br><span class=\"line\">   </span><br><span class=\"line\">   </span><br><span class=\"line\">private void drawOtherView(Canvas canvas, int i, int direction) {</span><br><span class=\"line\">       float offsetY = (MARGIN * minTextSize * i + moveLength * direction);</span><br><span class=\"line\">       float scal = getParabola(screenHeight / 4.0f, offsetY);</span><br><span class=\"line\">       float x = screenWidth / 2.0f;</span><br><span class=\"line\">       float y = screenHeight / 2.0f + direction * offsetY;</span><br><span class=\"line\">       float size = (maxTextSize - minTextSize) * scal + minTextSize;</span><br><span class=\"line\">       float alpha = (maxAlpha - minAlpha) * scal + minAlpha;</span><br><span class=\"line\">       Paint.FontMetricsInt pfm = mPaint.getFontMetricsInt();</span><br><span class=\"line\">       float baseLine = (float) (y - (pfm.top + pfm.bottom) / 2.0);</span><br><span class=\"line\">       mPaint.setTextSize(size);</span><br><span class=\"line\">       mPaint.setAlpha((int) alpha);</span><br><span class=\"line\">       canvas.drawText(dataList.get(position + direction * i), x, baseLine, mPaint);</span><br><span class=\"line\">   }</span><br></pre></td></tr></table></figure>\n<p>&#x7136;&#x540E;&#x5C31;&#x662F;&#x89E6;&#x6478;&#x6ED1;&#x52A8;&#x6548;&#x679C;&#xFF0C;&#x901A;&#x8FC7;<font color=\"#FF0000\">doDown()</font>,<font color=\"#FF0000\">doMove()</font>&#x4E0E;<font color=\"#FF0000\">doUp()</font>&#x6765;&#x64CD;&#x4F5C;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">private void doMove(MotionEvent event) {</span><br><span class=\"line\">        moveLength += event.getY() - eventY;</span><br><span class=\"line\">        if (moveLength &gt; MARGIN * minTextSize / 2) {</span><br><span class=\"line\">            //&#x624B;&#x6307;&#x5411;&#x4E0B;&#x6ED1;&#x52A8;&#x6ED1;&#x51FA;&#x8FB9;&#x754C;</span><br><span class=\"line\">            moveFootTOHead();</span><br><span class=\"line\">            moveLength = moveLength - MARGIN * minTextSize;</span><br><span class=\"line\">        } else if (moveLength &lt; -MARGIN * minTextSize / 2) {</span><br><span class=\"line\">            //&#x624B;&#x6307;&#x5411;&#x4E0A;&#x6ED1;&#x52A8;&#x6ED1;&#x51FA;&#x8FB9;&#x754C;</span><br><span class=\"line\">            moveHeadToFoot();</span><br><span class=\"line\">            moveLength = moveLength + MARGIN * minTextSize;</span><br><span class=\"line\">        }</span><br><span class=\"line\">        eventY = event.getY();</span><br><span class=\"line\">        invalidate();</span><br><span class=\"line\">    }</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p><em>PickerView&#x7684;&#x4E3B;&#x610F;&#x65B9;&#x6CD5;&#x5C31;&#x8FD9;&#x4E9B;&#x4E86;,&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x7B80;&#x5355;</em></p>\n</blockquote>\n<p>&#x5B9E;&#x73B0;&#x4E86;<font color=\"#FF0000\">PickerView</font>&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x5355;&#x72EC;&#x7684;&#x4E00;&#x4E2A;xml&#x4E2D;&#x5E03;&#x5C40;&#xFF0C;xml&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x8D34;&#x4E86;</p>\n<h2 id=\"TextPicker\"><a href=\"#TextPicker\" class=\"headerlink\" title=\"TextPicker\"></a>TextPicker</h2><p>&#x5BF9;&#x4E8E;xml&#x4E2D;<font color=\"#FF0000\">PickerView</font>&#x8FDB;&#x884C;&#x4E86;&#x5C01;&#x88C5;&#xFF0C;&#x56E0;&#x4E3A;&#x53EF;&#x4EE5;&#x9879;&#x76EE;&#x4E2D;&#x8981;&#x7528;&#x5230;&#x591A;&#x6B21;&#xFF0C;&#x6240;&#x7528;&#x5199;&#x4E2A;&#x5C01;&#x88C5;&#x7C7B;&#x8FD8;&#x662F;&#x5FC5;&#x987B;&#x7684;</p>\n<h3 id=\"&#x5BF9;&#x5916;&#x65B9;&#x6CD5;\"><a href=\"#&#x5BF9;&#x5916;&#x65B9;&#x6CD5;\" class=\"headerlink\" title=\"&#x5BF9;&#x5916;&#x65B9;&#x6CD5;\"></a>&#x5BF9;&#x5916;&#x65B9;&#x6CD5;</h3><ul>\n<li>setPickerTitle(String text)    &#x8BBE;&#x7F6E;&#x6807;&#x9898;</li>\n<li>setData(List<string> dataList, int i) &#x586B;&#x5145;&#x6570;&#x636E;</string></li>\n<li>setMiddleText(int position, int i) &#x8BBE;&#x7F6E;&#x5C45;&#x4E2D;&#x6587;&#x672C;</li>\n<li>getText(int i) &#x83B7;&#x53D6;&#x6587;&#x672C;</li>\n<li>getOK() &#x83B7;&#x53D6;&#x786E;&#x5B9A;&#x63A7;&#x4EF6;</li>\n<li>setPrepare() &#x5F00;&#x542F;</li>\n</ul>\n<h2 id=\"&#x5B9E;&#x73B0;\"><a href=\"#&#x5B9E;&#x73B0;\" class=\"headerlink\" title=\"&#x5B9E;&#x73B0;\"></a>&#x5B9E;&#x73B0;</h2><p>&#x6700;&#x540E;&#x5C31;&#x662F;&#x5B9E;&#x4F8B;&#x5316;&#x4E2D;<font color=\"#FF0000\">TextPicker</font>&#x8C03;&#x7528;&#x5176;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tp = new TextPicker(this);</span><br><span class=\"line\">        //&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;</span><br><span class=\"line\">        initData();</span><br><span class=\"line\">        //&#x52A0;&#x8F7D;&#x6570;&#x636E;</span><br><span class=\"line\">        tp.setData(leftList, 1);</span><br><span class=\"line\">        tp.setData(middleList, 2);</span><br><span class=\"line\">        tp.setData(rightList, 3);</span><br><span class=\"line\">        //&#x8BBE;&#x7F6E;&#x6807;&#x9898;</span><br><span class=\"line\">        tp.setPickerTitle(&quot;&#x6807;&#x9898;&quot;);</span><br><span class=\"line\">        //&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x5C45;&#x4E2D;&#x6587;&#x672C;</span><br><span class=\"line\">        tp.setMiddleText(5, 1);</span><br><span class=\"line\">        tp.setMiddleText(2, 2);</span><br><span class=\"line\">        tp.setMiddleText(25, 3);</span><br><span class=\"line\">        //&#x51C6;&#x5907;&#x5B8C;&#x6BD5;</span><br><span class=\"line\">        tp.setPrepare();</span><br><span class=\"line\">        ok = tp.getOK();</span><br><span class=\"line\">        ok.setOnClickListener(new View.OnClickListener(){</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public void onClick(View v) {</span><br><span class=\"line\">                leftText = tp.getText(1);</span><br><span class=\"line\">                middleText = tp.getText(2);</span><br><span class=\"line\">                rightText = tp.getText(3);</span><br><span class=\"line\">                tv.setText(leftText+&quot;-&quot;+middleText+&quot;-&quot;+rightText);</span><br><span class=\"line\">                tp.dismiss();</span><br><span class=\"line\">            }</span><br><span class=\"line\">        });</span><br><span class=\"line\">        //&#x5C55;&#x793A;</span><br><span class=\"line\">        tp.showAtLocation(this.findViewById(R.id.main), Gravity.CENTER, 0, 0);</span><br></pre></td></tr></table></figure>\n<h2 id=\"&#x6548;&#x679C;&#x56FE;\"><a href=\"#&#x6548;&#x679C;&#x56FE;\" class=\"headerlink\" title=\"&#x6548;&#x679C;&#x56FE;\"></a>&#x6548;&#x679C;&#x56FE;</h2><p><img src=\"/2016/03/13/PickerView/pickerView.png\" alt=\"PickerView\"></p>\n<p>&#x66F4;&#x591A;&#x6E90;&#x4EE3;&#x7801;&#xFF1A;<a href=\"https://github.com/idisfkj/idisfkj.picker\" target=\"_blank\" rel=\"external\">https://github.com/idisfkj/idisfkj.picker</a></p>\n"},{"title":"Hexo的安装与配置","url":"http://idisfkj.github.io/2016/03/04/Hexo-install/","content":"<h1 id=\"&#x524D;&#x8A00;\"><a href=\"#&#x524D;&#x8A00;\" class=\"headerlink\" title=\"&#x524D;&#x8A00;\"></a>&#x524D;&#x8A00;</h1><p>&#x6211;&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x5F00;&#x59CB;&#x5199;&#x535A;&#x5BA2;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#x662F;&#x6211;&#x4E0D;&#x4E45;&#x524D;&#x5728;<strong>stormzhang</strong>&#x7684;&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x5E73;&#x53F0;&#x4E0A;&#x770B;&#x5230;&#x4ED6;&#x5199;&#x7684;&#x6210;&#x957F;&#x7ECF;&#x5386;&#xFF0C;&#x4ED6;&#x4E0A;&#x9762;&#x8BF4;&#x5199;&#x535A;&#x5BA2;&#x662F;&#x4ED6;&#x6210;&#x529F;&#x7684;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x90E8;&#x5206;&#x3002;&#x6240;&#x7528;&#x5BF9;&#x4E8E;&#x6211;&#x8FD9;&#x79CD;&#x5C0F;&#x767D;&#xFF0C;&#x4E5F;&#x60F3;&#x5C1D;&#x8BD5;&#x7684;&#x5199;&#x81EA;&#x5DF1;&#x7684;&#x535A;&#x5BA2;&#x3002;&#x4E8E;&#x662F;&#x6211;&#x5C31;&#x5F00;&#x59CB;&#x642D;&#x5EFA;<em>hexo</em>&#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x3002;&#x597D;&#x4E86;&#x5E9F;&#x8BDD;&#x4E0D;&#x591A;&#x8BF4;&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x3002;</p>\n<hr>\n<h2 id=\"&#x73AF;&#x5883;&#x914D;&#x7F6E;\"><a href=\"#&#x73AF;&#x5883;&#x914D;&#x7F6E;\" class=\"headerlink\" title=\"&#x73AF;&#x5883;&#x914D;&#x7F6E;\"></a>&#x73AF;&#x5883;&#x914D;&#x7F6E;</h2><h3 id=\"&#x5B89;&#x88C5;Node\"><a href=\"#&#x5B89;&#x88C5;Node\" class=\"headerlink\" title=\"&#x5B89;&#x88C5;Node\"></a>&#x5B89;&#x88C5;Node</h3><p>&#x53EA;&#x8981;&#x5230;<a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"external\">Node.js</a>&#x7684;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7248;&#x672C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4E0B;&#x8F7D;&#x540E;&#x4E00;&#x8DEF;&#x5B89;&#x88C5;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x5F88;&#x7B80;&#x5355;&#x7684;&#x3002;</p>\n<h3 id=\"&#x5B89;&#x88C5;git\"><a href=\"#&#x5B89;&#x88C5;git\" class=\"headerlink\" title=\"&#x5B89;&#x88C5;git\"></a>&#x5B89;&#x88C5;git</h3><p><a href=\"http://git-scm.com/\" target=\"_blank\" rel=\"external\">git</a>&#x7684;&#x5B89;&#x88C5;&#x4E5F;&#x4E0D;&#x590D;&#x6742;&#xFF0C;&#x6211;&#x8FD9;&#x91CC;&#x7ED9;&#x4E2A;<a href=\"http://git-scm.com/book/zh/v1\" target=\"_blank\" rel=\"external\">&#x6559;&#x7A0B;</a>&#x7ED9;&#x4F60;&#x4EEC;&#x5305;&#x62EC;&#x5B89;&#x88C5;&#x4E0E;&#x57FA;&#x672C;&#x7684;&#x4F7F;&#x7528;&#x3002;<br>&#x81F3;&#x4E8E;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5B89;&#x88C5;git&#x4E0B;&#x9762;&#x4F1A;&#x8BB2;&#x5230;&#x3002;</p>\n<h3 id=\"&#x5B89;&#x88C5;Sublime-Text\"><a href=\"#&#x5B89;&#x88C5;Sublime-Text\" class=\"headerlink\" title=\"&#x5B89;&#x88C5;Sublime Text\"></a>&#x5B89;&#x88C5;Sublime Text</h3><blockquote>\n<p><em>&#x4E2A;&#x4EBA;&#x63A8;&#x8350; &#x540E;&#x9762;&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x7684;&#x65F6;&#x5019;&#x8FD9;&#x4E2A;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x8FD8;&#x662F;&#x5F88;&#x597D;&#x7528;&#x7684;,&#x57FA;&#x672C;&#x4E0A;&#x4EC0;&#x4E48;&#x683C;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x80FD;&#x6253;&#x5F00;&#x7F16;&#x8F91;&#x3002;</em></p>\n</blockquote>\n<p><a href=\"http://www.sublimetext.com/3\" target=\"_blank\" rel=\"external\">Sublime Text</a>&#x4E0B;&#x8F7D;</p>\n<h3 id=\"Github&#x8D26;&#x53F7;&#x6CE8;&#x518C;\"><a href=\"#Github&#x8D26;&#x53F7;&#x6CE8;&#x518C;\" class=\"headerlink\" title=\"Github&#x8D26;&#x53F7;&#x6CE8;&#x518C;\"></a>Github&#x8D26;&#x53F7;&#x6CE8;&#x518C;</h3><blockquote>\n<p><em>git&#x5B89;&#x88C5;&#x597D;&#x4E86;&#x540E; &#x5982;&#x679C;&#x6709;github&#x8D26;&#x53F7;&#x4E14;&#x914D;&#x7F6E;&#x4E86;SSH Key&#x8BF7;&#x8DF3;&#x8FC7;&#x8FD9;&#x91CC;</em></p>\n</blockquote>\n<ul>\n<li>&#x9996;&#x5148;&#x53BB;<a href=\"https://github.com/\" target=\"_blank\" rel=\"external\">Github</a>&#x6CE8;&#x518C;&#x8D26;&#x53F7;</li>\n<li>&#x521B;&#x5EFA;&#x4ED3;&#x5E93; New repository &#x5728;Repository name&#x4E2D;&#x5FC5;&#x987B;&#x4E3A;&#x4F60;&#x7684;[your_user_name].github.io <img src=\"/2016/03/04/Hexo-install/github.png\" alt=\"github\"></li>\n<li><p>&#x521B;&#x5EFA;SSH Key</p>\n<p>  &#x521B;&#x5EFA;&#x4F60;&#x7684;&#x7528;&#x6237;&#x540D;&#x4E0E;&#x5BC6;&#x7801;:</p>\n<pre><code>git config --global user.email &quot;your email&quot;\n git config --global user.name &quot;your name&quot;\n</code></pre><p>  &#x751F;&#x6210;&#x5BC6;&#x94A5;&#xFF1A;</p>\n<pre><code>ssh-keygen -t rsa -C &quot;your email&quot;\n</code></pre><p>  &#x6700;&#x540E;&#x6839;&#x636E;&#x63D0;&#x793A;&#x5C31;&#x80FD;&#x751F;&#x6210;SSH Key&#x4E86;<a href=\"https://help.github.com/articles/generating-an-ssh-key/\" target=\"_blank\" rel=\"external\">&#x6559;&#x7A0B;&#x53C2;&#x8003;</a></p>\n</li>\n<li><p>&#x8FDB;&#x5165;Settings&#x4E2D;&#x7684;SSH Keys &#x6DFB;&#x52A0;&#x5BC6;&#x5319;</p>\n</li>\n</ul>\n<h2 id=\"&#x5B89;&#x88C5;hexo\"><a href=\"#&#x5B89;&#x88C5;hexo\" class=\"headerlink\" title=\"&#x5B89;&#x88C5;hexo\"></a>&#x5B89;&#x88C5;hexo</h2><ul>\n<li><p>&#x8FDB;&#x5165;&#x7EC8;&#x7AEF;&#x6267;&#x884C;</p>\n<pre><code>nmp install -g hexo\n</code></pre></li>\n<li><p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x4F8B;&#x5982;blog &#x8FDB;&#x5165;blog&#x76EE;&#x5F55;</p>\n<pre><code>init hexo \n</code></pre></li>\n</ul>\n<h2 id=\"hexo&#x914D;&#x7F6E;\"><a href=\"#hexo&#x914D;&#x7F6E;\" class=\"headerlink\" title=\"hexo&#x914D;&#x7F6E;\"></a>hexo&#x914D;&#x7F6E;</h2><h3 id=\"&#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x9762;\"><a href=\"#&#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x9762;\" class=\"headerlink\" title=\"&#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x9762;\"></a>&#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x9762;</h3><p><code>hexo gengerate</code></p>\n<h3 id=\"&#x5F00;&#x542F;&#x672C;&#x5730;&#x670D;&#x52A1;\"><a href=\"#&#x5F00;&#x542F;&#x672C;&#x5730;&#x670D;&#x52A1;\" class=\"headerlink\" title=\"&#x5F00;&#x542F;&#x672C;&#x5730;&#x670D;&#x52A1;\"></a>&#x5F00;&#x542F;&#x672C;&#x5730;&#x670D;&#x52A1;</h3><p><code>hexo server</code></p>\n<blockquote>\n<p><em>&#x5F00;&#x542F;&#x540E;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668; &#x8F93;&#x5165;<a href=\"http://localhost:4000\" target=\"_blank\" rel=\"external\">http://localhost:4000</a> &#x5C31;&#x80FD;&#x770B;&#x5230;&#x6548;&#x679C;&#x3002;</em></p>\n</blockquote>\n<h3 id=\"&#x65B0;&#x5EFA;&#x6587;&#x7AE0;\"><a href=\"#&#x65B0;&#x5EFA;&#x6587;&#x7AE0;\" class=\"headerlink\" title=\"&#x65B0;&#x5EFA;&#x6587;&#x7AE0;\"></a>&#x65B0;&#x5EFA;&#x6587;&#x7AE0;</h3><pre><code>hexo new &quot;PostName&quot;\n</code></pre><p>##&#x90E8;&#x7F72;&#x6B65;&#x9AA4;<br>&#x4E00;&#x822C;&#x90E8;&#x7F72;&#x6B65;&#x9AA4;&#xFF1A;</p>\n<p><code>hexo clean</code>              // &#x6E05;&#x7406;<br><code>hexo generate</code>            // &#x751F;&#x6210;<br><code>hexo deploy</code>            // &#x90E8;&#x7F72;</p>\n<p>&#x6216;&#x8005;&#x7B80;&#x5199;&#xFF1A;</p>\n<p><code>hexo c</code><br><code>hexo g</code><br><code>hexo d</code></p>\n<blockquote>\n<p><em>&#x90E8;&#x7F72;&#x5B8C;&#x6210;&#x540E;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;<a href=\"http://[your_user_name].github.io\" target=\"_blank\" rel=\"external\">http://[your_user_name].github.io</a> &#x5C31;&#x662F;&#x524D;&#x9762;github&#x4E2D;&#x5EFA;&#x4ED3;&#x5E93;&#x7684;&#x540D;&#x5B57;&#x3002;<br>&#x5230;&#x6B64;&#x6240;&#x7528;&#x7684;&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;</em></p>\n</blockquote>\n<h2 id=\"&#x4E0B;&#x8F7D;&#x4E3B;&#x9898;\"><a href=\"#&#x4E0B;&#x8F7D;&#x4E3B;&#x9898;\" class=\"headerlink\" title=\"&#x4E0B;&#x8F7D;&#x4E3B;&#x9898;\"></a>&#x4E0B;&#x8F7D;&#x4E3B;&#x9898;</h2><p>&#x4E3B;&#x9898;&#x7684;&#x8BDD;&#x5C31;&#x8981;&#x770B;&#x4E2A;&#x4EBA;&#x7684;&#x7231;&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x8FD9;&#x6709;&#x4E00;&#x7CFB;&#x5217;&#x7684;<a href=\"https://github.com/hexojs/hexo/wiki/Themes\" target=\"_blank\" rel=\"external\">&#x4E3B;&#x9898;</a> &#x559C;&#x6B22;&#x54EA;&#x4E2A;&#x5C31;&#x53BB;&#x91CC;&#x9762;&#x4E0B;&#x8F7D;&#x5C31;&#x884C;&#xFF0C;&#x81F3;&#x4E8E;&#x5982;&#x4F55;&#x4E0B;&#x8F7D;&#x91CC;&#x9762;&#x90FD;&#x8981;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;&#x3002;</p>\n<blockquote>\n<p><em>&#x6211;&#x7684;&#x4E3B;&#x9898;&#x662F;<a href=\"https://github.com/forsigner/fexo\" target=\"_blank\" rel=\"external\">Fexo</a>&#x5BF9;&#x6211;&#x8FD9;&#x4E2A;&#x4E3B;&#x9898;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x5C31;&#x4E0D;&#x7528;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x53BB;&#x67E5;&#x627E;&#x4E86;</em></p>\n</blockquote>\n<h2 id=\"&#x8BC4;&#x8BBA;&#x6846;\"><a href=\"#&#x8BC4;&#x8BBA;&#x6846;\" class=\"headerlink\" title=\"&#x8BC4;&#x8BBA;&#x6846;\"></a>&#x8BC4;&#x8BBA;&#x6846;</h2><p>&#x8BC4;&#x8BBA;&#x6709;Disqus&#x4E0E;&#x591A;&#x8BF4;&#xFF0C;&#x5728;&#x56FD;&#x5185;&#x63A8;&#x8350;&#x591A;&#x8BF4;&#xFF0C;Disqus&#x662F;&#x9762;&#x5411;&#x5168;&#x7403;&#x7684;</p>\n<h3 id=\"Disqus\"><a href=\"#Disqus\" class=\"headerlink\" title=\"Disqus\"></a>Disqus</h3><p><a href=\"https://disqus.com\" target=\"_blank\" rel=\"external\">Disqus</a>&#x6CE8;&#x518C;Disqus&#x5E10;&#x53F7;</p>\n<h3 id=\"&#x591A;&#x8BF4;\"><a href=\"#&#x591A;&#x8BF4;\" class=\"headerlink\" title=\"&#x591A;&#x8BF4;\"></a>&#x591A;&#x8BF4;</h3><p><a href=\"http://duoshuo.com\" target=\"_blank\" rel=\"external\">&#x591A;&#x8BF4;</a>&#x53EF;&#x4EE5;&#x652F;&#x6301;QQ &#x5FAE;&#x4FE1;&#x7B49;&#x767B;&#x5F55;&#xFF0C;&#x767B;&#x5F55;&#x540E;&#x6CE8;&#x518C;&#x57DF;&#x540D;<br>&#x8FDB;&#x5165;hexo&#x76EE;&#x5F55;&#x6253;&#x5F00;_config.yml&#x6587;&#x4EF6;&#x627E;&#x5230;</p>\n<pre><code>&#xFF03;disqus_shortname: [&#x57DF;&#x540D;]\n duoshuo_shortname: [&#x57DF;&#x540D;]\n</code></pre><blockquote>\n<p><em>Disqus&#x4E5F;&#x662F;&#x4E00;&#x6837;</em></p>\n</blockquote>\n<h2 id=\"&#x7EDF;&#x8BA1;\"><a href=\"#&#x7EDF;&#x8BA1;\" class=\"headerlink\" title=\"&#x7EDF;&#x8BA1;\"></a>&#x7EDF;&#x8BA1;</h2><blockquote>\n<p><em>&#x6211;&#x8FD9;&#x91CC;&#x53EA;&#x8BF4;&#x767E;&#x5EA6;&#x7EDF;&#x8BA1;</em></p>\n</blockquote>\n<p>&#x8FDB;&#x5165;<a href=\"http://sitecenter.baidu.com/\" target=\"_blank\" rel=\"external\">&#x767E;&#x5EA6;&#x7EDF;&#x8BA1;</a>&#x6CE8;&#x518C;&#x767B;&#x5F55;&#x5E10;&#x53F7;<br>&#x8FDB;&#x53BB;&#x7F51;&#x7AD9;&#x4E2D;&#x5FC3;&#x7684;&#x4EE3;&#x7801;&#x83B7;&#x53D6;    &#x628A;&#x83B7;&#x53D6;&#x7684;&#x4EE3;&#x7801;&#x653E;&#x5165; hexo/themes/fexo/layout/_partial&#x4E2D;baidu-analytics.ejs&#x6587;&#x4EF6;</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% if (theme.baidu_analytics){ %&gt;</span><br><span class=\"line\">  &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class=\"line\">  //&#x83B7;&#x53D6;&#x7684;&#x4EE3;&#x7801;</span><br><span class=\"line\">   &lt;/script&gt;</span><br><span class=\"line\">&lt;% } %&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"RSS\"><a href=\"#RSS\" class=\"headerlink\" title=\"RSS\"></a>RSS</h2><h3 id=\"feed&#x5B89;&#x88C5;\"><a href=\"#feed&#x5B89;&#x88C5;\" class=\"headerlink\" title=\"feed&#x5B89;&#x88C5;\"></a>feed&#x5B89;&#x88C5;</h3><p><code>npm install hexo-generator-feed</code></p>\n<h3 id=\"&#x5F00;&#x542F;\"><a href=\"#&#x5F00;&#x542F;\" class=\"headerlink\" title=\"&#x5F00;&#x542F;\"></a>&#x5F00;&#x542F;</h3><p>&#x8FDB;&#x5165;hexo_config.yml&#x627E;&#x5230;Plugins</p>\n<pre><code>Plugins:\n - hexo-generator-feed\n</code></pre><p><code>feed:\n    type: atom\n    path: atom.xml\n    limit: 20</code></p>\n<h3 id=\"&#x8BBF;&#x95EE;\"><a href=\"#&#x8BBF;&#x95EE;\" class=\"headerlink\" title=\"&#x8BBF;&#x95EE;\"></a>&#x8BBF;&#x95EE;</h3><p> &#x8BBF;&#x95EE;<a href=\"http://localhost:4000/atom.xml&#x67E5;&#x770B;\" target=\"_blank\" rel=\"external\">http://localhost:4000/atom.xml&#x67E5;&#x770B;</a></p>\n<h3 id=\"&#x5347;&#x7EA7;&#x63D2;&#x4EF6;\"><a href=\"#&#x5347;&#x7EA7;&#x63D2;&#x4EF6;\" class=\"headerlink\" title=\"&#x5347;&#x7EA7;&#x63D2;&#x4EF6;\"></a>&#x5347;&#x7EA7;&#x63D2;&#x4EF6;</h3><pre><code>npm update\n</code></pre><h3 id=\"&#x5378;&#x8F7D;&#x63D2;&#x4EF6;\"><a href=\"#&#x5378;&#x8F7D;&#x63D2;&#x4EF6;\" class=\"headerlink\" title=\"&#x5378;&#x8F7D;&#x63D2;&#x4EF6;\"></a>&#x5378;&#x8F7D;&#x63D2;&#x4EF6;</h3><pre><code>nmp uninstall hexo-generator-feed\n</code></pre><h3 id=\"sitemap&#x5B89;&#x88C5;\"><a href=\"#sitemap&#x5B89;&#x88C5;\" class=\"headerlink\" title=\"sitemap&#x5B89;&#x88C5;\"></a>sitemap&#x5B89;&#x88C5;</h3><p><code>npm install hexo-genetator-sitemap</code></p>\n<h3 id=\"&#x5F00;&#x542F;-1\"><a href=\"#&#x5F00;&#x542F;-1\" class=\"headerlink\" title=\"&#x5F00;&#x542F;\"></a>&#x5F00;&#x542F;</h3><p>&#x8FDB;&#x5165;hexo_config.yml&#x627E;&#x5230;Plugins</p>\n<pre><code>Plugins:\n - hexo-generator-sitemap\n</code></pre><p><code>sitemap:\n    path: sitemap.xml</code></p>\n<blockquote>\n<p><em>&#x8BBF;&#x95EE; &#x5347;&#x7EA7; &#x5378;&#x8F7D;&#x4E0E;feed&#x4E00;&#x6837;</em> </p>\n</blockquote>\n<h3 id=\"&#x63D0;&#x9192;\"><a href=\"#&#x63D0;&#x9192;\" class=\"headerlink\" title=\"&#x63D0;&#x9192;\"></a>&#x63D0;&#x9192;</h3><p>&#x53EF;&#x80FD;&#x5B89;&#x88C5;&#x4E86;feed&#x4E0E;sitemap &#x8BBF;&#x95EE;<a href=\"http://localhost:4000/atom.xml\" target=\"_blank\" rel=\"external\">http://localhost:4000/atom.xml</a> &#x4F1A;&#x663E;&#x793A;&#x201C;Cannot GET atom.xml&#x201D;&#x4E0E;&#x201D;Cannot GET sitemap.xml&#x201D;&#x6253;&#x5F00;hexo&#xFF0F;package.jso &#x6DFB;&#x52A0;</p>\n<pre><code>&quot;hexo-generator-feed&quot;: &quot;1.1.0&quot;,\n&quot;hexo-generator-sitemap&quot;: &quot;1.1.2&quot;,\n</code></pre><blockquote>\n<p><em>&#x7248;&#x672C;&#x53F7;&#x5339;&#x914D;&#x81EA;&#x5DF1;&#x7684;</em></p>\n</blockquote>\n<p>&#x6DFB;&#x52A0;&#x5B8C;&#x540E; hexo g  &#x518D;&#x91CD;&#x65B0;&#x8BBF;&#x95EE;</p>\n<h2 id=\"&#x5199;&#x6587;&#x7AE0;\"><a href=\"#&#x5199;&#x6587;&#x7AE0;\" class=\"headerlink\" title=\"&#x5199;&#x6587;&#x7AE0;\"></a>&#x5199;&#x6587;&#x7AE0;</h2><p>&#x8FDB;&#x5165;hexo&#xFF0F;source&#xFF0F;_posts &#x627E;&#x5230;&#x76F8;&#x5173;&#x6587;&#x7AE0;&#x7684;.md &#x8FDB;&#x884C;&#x7F16;&#x5199;<br>hexo&#x5199;&#x6587;&#x7AE0;&#x662F;&#x4F7F;&#x7528;Markdown&#x7F16;&#x5199;&#x6587;&#x7AE0; <a href=\"http://www.jianshu.com/p/1e402922ee32/\" target=\"_blank\" rel=\"external\">Markdown&#x2013;&#x5165;&#x95E8;&#x6307;&#x5357;</a></p>\n<blockquote>\n<p><em>&#x5220;&#x9664;&#x6587;&#x7AE0;&#x53EA;&#x8981;&#x5220;&#x9664;&#x5BF9;&#x5E94;&#x7684;.md&#x6587;&#x4EF6;&#x5C31;&#x884C;</em></p>\n</blockquote>\n<h2 id=\"&#x7ED3;&#x675F;\"><a href=\"#&#x7ED3;&#x675F;\" class=\"headerlink\" title=\"&#x7ED3;&#x675F;\"></a>&#x7ED3;&#x675F;</h2><p>&#x597D;&#x4E86;hexo&#x7684;&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;&#x57FA;&#x672C;&#x4E0A;&#x5C31;&#x662F;&#x8FD9;&#x6837;&#x4E86;&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x5230;&#x8FD9;&#x91CC;&#x4E86;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x652F;&#x6301;&#x3002;</p>\n"}]